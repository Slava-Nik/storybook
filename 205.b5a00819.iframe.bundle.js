(window.webpackJsonp=window.webpackJsonp||[]).push([[205],{4284:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(1),react_default=__webpack_require__.n(react),prop_types=__webpack_require__(2),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__(75),lib=__webpack_require__(17),classnames=__webpack_require__(22),classnames_default=__webpack_require__.n(classnames),withStyles=__webpack_require__(26),withStyles_default=__webpack_require__.n(withStyles),LinkLocalized=__webpack_require__(4090),localization=__webpack_require__(6),mobileDetect=__webpack_require__(137),login_const=__webpack_require__(46),modals_const=__webpack_require__(98),CallsService=__webpack_require__(258),MagicActionsService=__webpack_require__(4100),Button=__webpack_require__(41),miscUtils=__webpack_require__(9),ContextMenuService=__webpack_require__(305),jsx_runtime=__webpack_require__(0);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var RlSelect_RlSelect=function(_React$PureComponent){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(RlSelect,_React$PureComponent);var _super=_createSuper(RlSelect);function RlSelect(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RlSelect),_defineProperty(_assertThisInitialized(_this=_super.call(this,props)),"open",(function(items){var rect=_this.comboRef.getBoundingClientRect(),context={className:_this.props.classNameOptions?"rl-select-view "+_this.props.classNameOptions:"rl-select-view",width:rect.width,items:items,isRightEdge:!0,onHide:_this.onHide,selectorHeight:rect.height};_this.toggleId=_this.contextMenuService.toggleByEvent(context,_this.comboRef)})),_defineProperty(_assertThisInitialized(_this),"onHide",(function(){_this.toggleId=null})),_defineProperty(_assertThisInitialized(_this),"onClick",(function(ev){var _step,_this$props=_this.props,items=_this$props.items,onGetItems=_this$props.onGetItems,onClick=_this$props.onClick,nativeEv=ev.nativeEvent,toggleId=_this.toggleId,_iterator=_createForOfIteratorHelper(document.querySelectorAll(".rl-select"));try{for(_iterator.s();!(_step=_iterator.n()).done;){var rlSelect=_step.value;rlSelect.classList.contains("is-Click")&&rlSelect.classList.remove("is-Click")}}catch(err){_iterator.e(err)}finally{_iterator.f()}_this.comboRef.classList.add("is-Click"),!(toggleId&&nativeEv.contextMenuClosing&&nativeEv.contextMenuToggleId===toggleId)&&_this.open(items||onGetItems&&onGetItems()||[]),onClick(ev)})),_defineProperty(_assertThisInitialized(_this),"selectItem",(function(){var element=document.querySelector('[data-test-id="dropdown_context_menu"] > div');element&&element.focus()})),_this.contextMenuService=props.getBeanInstance(ContextMenuService.a),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(RlSelect,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.toggleId&&this.contextMenuService.close()}},{key:"render",value:function render(){var _this2=this,_this$props2=this.props,className=_this$props2.className,isDefault=(_this$props2.items,_this$props2.onGetItems,_this$props2.onClick,_this$props2.isDefault),children=_this$props2.children,otherProps=(_this$props2.classNameOptions,_objectWithoutProperties(_this$props2,["className","items","onGetItems","onClick","isDefault","children","classNameOptions"]));return Object(jsx_runtime.jsxs)("div",_objectSpread(_objectSpread({className:"rl-select ".concat(className||""," ").concat(isDefault?"is-default":""),ref:function ref(_ref){_this2.comboRef=_ref},tabIndex:0,"data-xpath":"rl-select-clk",onClick:this.onClick,onFocus:this.onClick,onKeyUp:this.selectItem,onKeyDown:this.selectItem},otherProps),{},{children:[Object(jsx_runtime.jsx)("span",{className:"rl-select-children",children:children}),Object(jsx_runtime.jsx)("span",{className:"drop-down-icon acr-marker"})]}))}}]),RlSelect}(react_default.a.PureComponent);_defineProperty(RlSelect_RlSelect,"propTypes",{className:prop_types_default.a.string,classNameOptions:prop_types_default.a.string,onClick:prop_types_default.a.func,isDefault:prop_types_default.a.bool,onGetItems:prop_types_default.a.func,items:prop_types_default.a.array,children:prop_types_default.a.any,getBeanInstance:prop_types_default.a.func}),_defineProperty(RlSelect_RlSelect,"defaultProps",{onClick:miscUtils.t}),RlSelect_RlSelect.__docgenInfo={description:"",methods:[{name:"open",docblock:null,modifiers:[],params:[{name:"items",type:null}],returns:null},{name:"onHide",docblock:null,modifiers:[],params:[],returns:null},{name:"onClick",docblock:null,modifiers:[],params:[{name:"ev",type:null}],returns:null},{name:"selectItem",docblock:null,modifiers:[],params:[],returns:null}],displayName:"RlSelect",props:{onClick:{defaultValue:{value:"noop",computed:!0},type:{name:"func"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},classNameOptions:{type:{name:"string"},required:!1,description:""},isDefault:{type:{name:"bool"},required:!1,description:""},onGetItems:{type:{name:"func"},required:!1,description:""},items:{type:{name:"array"},required:!1,description:""},children:{type:{name:"any"},required:!1,description:""},getBeanInstance:{type:{name:"func"},required:!1,description:""}}};var rlSelect_RlSelect=Object(lib.withInject)(RlSelect_RlSelect);function DateSelector_typeof(obj){return(DateSelector_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DateSelector_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DateSelector_setPrototypeOf(o,p){return(DateSelector_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function DateSelector_createSuper(Derived){var hasNativeReflectConstruct=function DateSelector_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=DateSelector_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=DateSelector_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return DateSelector_possibleConstructorReturn(this,result)}}function DateSelector_possibleConstructorReturn(self,call){return!call||"object"!==DateSelector_typeof(call)&&"function"!=typeof call?DateSelector_assertThisInitialized(self):call}function DateSelector_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function DateSelector_getPrototypeOf(o){return(DateSelector_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function DateSelector_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _getDaysInMonth(year,month){return new Date(year||2016,(month||0)+1,0).getDate()}var DateSelector_DateSelector=function(_PureComponent){!function DateSelector_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DateSelector_setPrototypeOf(subClass,superClass)}(DateSelector,_PureComponent);var _super=DateSelector_createSuper(DateSelector);function DateSelector(props){var _this;return function DateSelector_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DateSelector),DateSelector_defineProperty(DateSelector_assertThisInitialized(_this=_super.call(this,props)),"month",_this.getMonths()),DateSelector_defineProperty(DateSelector_assertThisInitialized(_this),"years",_this.getYears()),_this.state={selectedDay:props.defaultDate?props.defaultDate.getDate():null,selectedMonth:props.defaultDate?props.defaultDate.getMonth():null,selectedYear:props.defaultDate?props.defaultDate.getFullYear():null},_this}return function DateSelector_createClass(Constructor,protoProps,staticProps){return protoProps&&DateSelector_defineProperties(Constructor.prototype,protoProps),staticProps&&DateSelector_defineProperties(Constructor,staticProps),Constructor}(DateSelector,[{key:"getDaysInMonth",value:function getDaysInMonth(){for(var _this2=this,_this$state=this.state,countDaysInMonth=_getDaysInMonth(_this$state.selectedYear,_this$state.selectedMonth),daysInMonth=[],_loop=function _loop(i){daysInMonth.push({name:Object(jsx_runtime.jsx)("span",{children:i}),action:function action(){_this2.setState({selectedDay:i},(function(){return _this2.changeDate()}))}})},i=1;i<=countDaysInMonth;i++)_loop(i);return daysInMonth}},{key:"getMonths",value:function getMonths(){for(var _this3=this,months=[],_loop2=function _loop2(i){months.push({name:Object(jsx_runtime.jsx)("span",{children:miscUtils.c.getFullMonth(i)}),action:function action(){_this3.setState({selectedMonth:i},(function(){return _this3.changeDate()}))}})},i=0;i<=11;i++)_loop2(i);return months}},{key:"getYears",value:function getYears(){for(var _this4=this,currentYear=(new Date).getFullYear(),minYear=this.props.minDate?this.props.minDate.getFullYear():currentYear-100,years=[],_loop3=function _loop3(i){years.push({name:Object(jsx_runtime.jsx)("span",{children:i}),action:function action(){_this4.setState({selectedYear:i},(function(){return _this4.changeDate()}))}})},i=currentYear;i>=minYear;i--)_loop3(i);return years}},{key:"changeDate",value:function changeDate(){var _this5=this,_this$state2=this.state,selectedDay=_this$state2.selectedDay,selectedMonth=_this$state2.selectedMonth,selectedYear=_this$state2.selectedYear,onChange=this.props.onChange,maxDayInSelectedMonth=_getDaysInMonth(selectedYear,selectedMonth);(selectedDay>maxDayInSelectedMonth&&this.setState({selectedDay:maxDayInSelectedMonth},(function(){return _this5.changeDate()})),null!==selectedDay&&null!==selectedMonth&&null!==selectedYear)&&onChange(new Date(Date.UTC(selectedYear,selectedMonth,selectedDay)))}},{key:"render",value:function render(){var _this$props=this.props,error=_this$props.error,errorClassName=_this$props.errorClassName,dayClassName=_this$props.dayClassName,monthClassName=_this$props.monthClassName,yearClassName=_this$props.yearClassName,_this$state3=this.state,selectedDay=_this$state3.selectedDay,selectedMonth=_this$state3.selectedMonth,selectedYear=_this$state3.selectedYear;return Object(jsx_runtime.jsxs)("div",{className:"date-selector",children:[Object(jsx_runtime.jsxs)("div",{className:"date-inputs",children:[Object(jsx_runtime.jsx)(rlSelect_RlSelect,{className:"".concat(selectedDay?"":"is-empty","  ").concat(dayClassName||"day-select"),classNameOptions:"day-select-items",isDefault:!0,items:this.getDaysInMonth(),children:selectedDay||Object(localization.a)("dialogs","day")}),Object(jsx_runtime.jsx)(rlSelect_RlSelect,{className:"".concat(null===selectedMonth?"is-empty":""," ").concat(monthClassName||"month-select"),classNameOptions:"month-select-items",isDefault:!0,items:this.month,children:null!==selectedMonth?miscUtils.c.getFullMonth(selectedMonth):Object(localization.a)("dialogs","month")}),Object(jsx_runtime.jsx)(rlSelect_RlSelect,{className:"".concat(selectedYear?"":"is-empty"," ").concat(yearClassName||"year-select"),classNameOptions:"year-select-items",isDefault:!0,items:this.years,children:selectedYear||Object(localization.a)("dialogs","year")})]}),error&&Object(jsx_runtime.jsx)("span",{className:"help-block ".concat(errorClassName),children:error})]})}}]),DateSelector}(react.PureComponent);DateSelector_defineProperty(DateSelector_DateSelector,"propTypes",{dayClassName:prop_types_default.a.string,monthClassName:prop_types_default.a.string,yearClassName:prop_types_default.a.string,errorClassName:prop_types_default.a.string,defaultDate:prop_types_default.a.instanceOf(Date),minDate:prop_types_default.a.instanceOf(Date),onChange:prop_types_default.a.func,error:prop_types_default.a.string}),DateSelector_defineProperty(DateSelector_DateSelector,"defaultProps",{onChange:miscUtils.t}),DateSelector_DateSelector.__docgenInfo={description:"",methods:[{name:"getDaysInMonth",docblock:null,modifiers:[],params:[],returns:null},{name:"getMonths",docblock:null,modifiers:[],params:[],returns:null},{name:"getYears",docblock:null,modifiers:[],params:[],returns:null},{name:"changeDate",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DateSelector",props:{onChange:{defaultValue:{value:"noop",computed:!0},type:{name:"func"},required:!1,description:""},dayClassName:{type:{name:"string"},required:!1,description:""},monthClassName:{type:{name:"string"},required:!1,description:""},yearClassName:{type:{name:"string"},required:!1,description:""},errorClassName:{type:{name:"string"},required:!1,description:""},defaultDate:{type:{name:"instanceOf",value:"Date"},required:!1,description:""},minDate:{type:{name:"instanceOf",value:"Date"},required:!1,description:""},error:{type:{name:"string"},required:!1,description:""}}};var moment=__webpack_require__(241),UserProfileValidators=__webpack_require__(4091),auth=__webpack_require__(4092),error_codes=__webpack_require__(459),auth_auth=__webpack_require__(4093),auth_default=__webpack_require__.n(auth_auth),login=__webpack_require__(4094),login_default=__webpack_require__.n(login),CircleProgress=__webpack_require__(4095);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function recaptcha_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var recaptcha_ReCAPTCHA=function(_React$Component){function ReCAPTCHA(){var _this;return(_this=_React$Component.call(this)||this).handleExpired=_this.handleExpired.bind(recaptcha_assertThisInitialized(_this)),_this.handleErrored=_this.handleErrored.bind(recaptcha_assertThisInitialized(_this)),_this.handleChange=_this.handleChange.bind(recaptcha_assertThisInitialized(_this)),_this.handleRecaptchaRef=_this.handleRecaptchaRef.bind(recaptcha_assertThisInitialized(_this)),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}(ReCAPTCHA,_React$Component);var _proto=ReCAPTCHA.prototype;return _proto.getValue=function getValue(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},_proto.getWidgetId=function getWidgetId(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},_proto.execute=function execute(){var grecaptcha=this.props.grecaptcha;if(grecaptcha&&void 0!==this._widgetId)return grecaptcha.execute(this._widgetId);this._executeRequested=!0},_proto.executeAsync=function executeAsync(){var _this2=this;return new Promise((function(resolve,reject){_this2.executionResolve=resolve,_this2.executionReject=reject,_this2.execute()}))},_proto.reset=function reset(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},_proto.handleExpired=function handleExpired(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},_proto.handleErrored=function handleErrored(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},_proto.handleChange=function handleChange(token){this.props.onChange&&this.props.onChange(token),this.executionResolve&&(this.executionResolve(token),delete this.executionReject,delete this.executionResolve)},_proto.explicitRender=function explicitRender(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var wrapper=document.createElement("div");this._widgetId=this.props.grecaptcha.render(wrapper,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(wrapper)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},_proto.componentDidMount=function componentDidMount(){this.explicitRender()},_proto.componentDidUpdate=function componentDidUpdate(){this.explicitRender()},_proto.componentWillUnmount=function componentWillUnmount(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},_proto.delayOfCaptchaIframeRemoving=function delayOfCaptchaIframeRemoving(){var temporaryNode=document.createElement("div");for(document.body.appendChild(temporaryNode),temporaryNode.style.display="none";this.captcha.firstChild;)temporaryNode.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(temporaryNode)}),5e3)},_proto.handleRecaptchaRef=function handleRecaptchaRef(elem){this.captcha=elem},_proto.render=function render(){var _this$props=this.props,childProps=(_this$props.sitekey,_this$props.onChange,_this$props.theme,_this$props.type,_this$props.tabindex,_this$props.onExpired,_this$props.onErrored,_this$props.size,_this$props.stoken,_this$props.grecaptcha,_this$props.badge,_this$props.hl,function recaptcha_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_this$props,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return react_default.a.createElement("div",_extends({},childProps,{ref:this.handleRecaptchaRef}))},ReCAPTCHA}(react_default.a.Component);recaptcha_ReCAPTCHA.displayName="ReCAPTCHA",recaptcha_ReCAPTCHA.propTypes={sitekey:prop_types_default.a.string.isRequired,onChange:prop_types_default.a.func,grecaptcha:prop_types_default.a.object,theme:prop_types_default.a.oneOf(["dark","light"]),type:prop_types_default.a.oneOf(["image","audio"]),tabindex:prop_types_default.a.number,onExpired:prop_types_default.a.func,onErrored:prop_types_default.a.func,size:prop_types_default.a.oneOf(["compact","normal","invisible"]),stoken:prop_types_default.a.string,hl:prop_types_default.a.string,badge:prop_types_default.a.oneOf(["bottomright","bottomleft","inline"])},recaptcha_ReCAPTCHA.defaultProps={onChange:function onChange(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var hoist_non_react_statics_cjs=__webpack_require__(277),hoist_non_react_statics_cjs_default=__webpack_require__.n(hoist_non_react_statics_cjs);function async_script_loader_extends(){return(async_script_loader_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var SCRIPT_MAP={},idCount=0;var esm=function makeAsyncScript(getScriptURL,options){return options=options||{},function wrapWithAsyncScript(WrappedComponent){var wrappedComponentName=WrappedComponent.displayName||WrappedComponent.name||"Component",AsyncScriptLoader=function(_Component){function AsyncScriptLoader(props,context){var _this;return(_this=_Component.call(this,props,context)||this).state={},_this.__scriptURL="",_this}!function async_script_loader_inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}(AsyncScriptLoader,_Component);var _proto=AsyncScriptLoader.prototype;return _proto.asyncScriptLoaderGetScriptLoaderID=function asyncScriptLoaderGetScriptLoaderID(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+idCount++),this.__scriptLoaderID},_proto.setupScriptURL=function setupScriptURL(){return this.__scriptURL="function"==typeof getScriptURL?getScriptURL():getScriptURL,this.__scriptURL},_proto.asyncScriptLoaderHandleLoad=function asyncScriptLoaderHandleLoad(state){var _this2=this;this.setState(state,(function(){return _this2.props.asyncScriptOnLoad&&_this2.props.asyncScriptOnLoad(_this2.state)}))},_proto.asyncScriptLoaderTriggerOnScriptLoaded=function asyncScriptLoaderTriggerOnScriptLoaded(){var mapEntry=SCRIPT_MAP[this.__scriptURL];if(!mapEntry||!mapEntry.loaded)throw new Error("Script is not loaded.");for(var obsKey in mapEntry.observers)mapEntry.observers[obsKey](mapEntry);delete window[options.callbackName]},_proto.componentDidMount=function componentDidMount(){var _this3=this,scriptURL=this.setupScriptURL(),key=this.asyncScriptLoaderGetScriptLoaderID(),_options=options,globalName=_options.globalName,callbackName=_options.callbackName,scriptId=_options.scriptId;if(globalName&&void 0!==window[globalName]&&(SCRIPT_MAP[scriptURL]={loaded:!0,observers:{}}),SCRIPT_MAP[scriptURL]){var entry=SCRIPT_MAP[scriptURL];return entry&&(entry.loaded||entry.errored)?void this.asyncScriptLoaderHandleLoad(entry):void(entry.observers[key]=function(entry){return _this3.asyncScriptLoaderHandleLoad(entry)})}var observers={};observers[key]=function(entry){return _this3.asyncScriptLoaderHandleLoad(entry)},SCRIPT_MAP[scriptURL]={loaded:!1,observers:observers};var script=document.createElement("script");for(var attribute in script.src=scriptURL,script.async=!0,options.attributes)script.setAttribute(attribute,options.attributes[attribute]);scriptId&&(script.id=scriptId);var callObserverFuncAndRemoveObserver=function callObserverFuncAndRemoveObserver(func){if(SCRIPT_MAP[scriptURL]){var observersMap=SCRIPT_MAP[scriptURL].observers;for(var obsKey in observersMap)func(observersMap[obsKey])&&delete observersMap[obsKey]}};callbackName&&"undefined"!=typeof window&&(window[callbackName]=function(){return _this3.asyncScriptLoaderTriggerOnScriptLoaded()}),script.onload=function(){var mapEntry=SCRIPT_MAP[scriptURL];mapEntry&&(mapEntry.loaded=!0,callObserverFuncAndRemoveObserver((function(observer){return!callbackName&&(observer(mapEntry),!0)})))},script.onerror=function(){var mapEntry=SCRIPT_MAP[scriptURL];mapEntry&&(mapEntry.errored=!0,callObserverFuncAndRemoveObserver((function(observer){return observer(mapEntry),!0})))},document.body.appendChild(script)},_proto.componentWillUnmount=function componentWillUnmount(){var scriptURL=this.__scriptURL;if(!0===options.removeOnUnmount)for(var allScripts=document.getElementsByTagName("script"),i=0;i<allScripts.length;i+=1)allScripts[i].src.indexOf(scriptURL)>-1&&allScripts[i].parentNode&&allScripts[i].parentNode.removeChild(allScripts[i]);var mapEntry=SCRIPT_MAP[scriptURL];mapEntry&&(delete mapEntry.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===options.removeOnUnmount&&delete SCRIPT_MAP[scriptURL])},_proto.render=function render(){var globalName=options.globalName,_this$props=this.props,forwardedRef=(_this$props.asyncScriptOnLoad,_this$props.forwardedRef),childProps=function async_script_loader_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_this$props,["asyncScriptOnLoad","forwardedRef"]);return globalName&&"undefined"!=typeof window&&(childProps[globalName]=void 0!==window[globalName]?window[globalName]:void 0),childProps.ref=forwardedRef,Object(react.createElement)(WrappedComponent,childProps)},AsyncScriptLoader}(react.Component),ForwardedComponent=Object(react.forwardRef)((function(props,ref){return Object(react.createElement)(AsyncScriptLoader,async_script_loader_extends({},props,{forwardedRef:ref}))}));return ForwardedComponent.displayName="AsyncScriptLoader("+wrappedComponentName+")",ForwardedComponent.propTypes={asyncScriptOnLoad:prop_types_default.a.func},hoist_non_react_statics_cjs_default()(ForwardedComponent,WrappedComponent)}}((function getURL(){return"https://"+(function getOptions(){return"undefined"!=typeof window&&window.recaptchaOptions||{}}().useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload=onloadcallback&render=explicit"}),{callbackName:"onloadcallback",globalName:"grecaptcha"})(recaptcha_ReCAPTCHA);function Recaptcha_typeof(obj){return(Recaptcha_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Recaptcha_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Recaptcha_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Recaptcha_setPrototypeOf(o,p){return(Recaptcha_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Recaptcha_createSuper(Derived){var hasNativeReflectConstruct=function Recaptcha_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Recaptcha_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Recaptcha_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Recaptcha_possibleConstructorReturn(this,result)}}function Recaptcha_possibleConstructorReturn(self,call){return!call||"object"!==Recaptcha_typeof(call)&&"function"!=typeof call?Recaptcha_assertThisInitialized(self):call}function Recaptcha_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Recaptcha_getPrototypeOf(o){return(Recaptcha_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Recaptcha_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Recaptcha_Recaptcha=function(_React$Component){!function Recaptcha_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Recaptcha_setPrototypeOf(subClass,superClass)}(Recaptcha,_React$Component);var _super=Recaptcha_createSuper(Recaptcha);function Recaptcha(props){var _this;Recaptcha_classCallCheck(this,Recaptcha);for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return Recaptcha_defineProperty(Recaptcha_assertThisInitialized(_this=_super.call.apply(_super,[this,props].concat(args))),"handleChange",(function(value){var onSuccess=_this.props.onSuccess;value&&onSuccess&&onSuccess(value)})),_this.state={value:"",expired:!1},_this._reCaptchaRef=react_default.a.createRef(),_this}return function Recaptcha_createClass(Constructor,protoProps,staticProps){return protoProps&&Recaptcha_defineProperties(Constructor.prototype,protoProps),staticProps&&Recaptcha_defineProperties(Constructor,staticProps),Constructor}(Recaptcha,[{key:"render",value:function render(){return Object(jsx_runtime.jsx)(esm,{style:{display:"inline-block"},sitekey:"6LeZFd4UAAAAAE120zuqcRYriBlMF8qZ_Sz0LpTv",onChange:this.handleChange})}}]),Recaptcha}(react_default.a.Component);Recaptcha_defineProperty(Recaptcha_Recaptcha,"propTypes",{onSuccess:prop_types_default.a.func,className:prop_types_default.a.object}),Recaptcha_defineProperty(Recaptcha_Recaptcha,"contextTypes",{beansContext:prop_types_default.a.object}),Recaptcha_Recaptcha.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:"TODO: Add actual backend token verification\n@param value",modifiers:[],params:[{name:"value",description:null,type:null,optional:!1}],returns:null,description:"TODO: Add actual backend token verification"}],displayName:"Recaptcha",props:{onSuccess:{type:{name:"func"},required:!1,description:""},className:{type:{name:"object"},required:!1,description:""}},context:{beansContext:{type:{name:"object"},required:!1}}};var Input=__webpack_require__(1029),debounce_decorator=__webpack_require__(4096),MaterialCheckbox=__webpack_require__(498),PhoneInput=__webpack_require__(4097),loginServiceActions=__webpack_require__(88),authentication_const=__webpack_require__(1022),GuestMagicLinkAPI=__webpack_require__(499),CommunityInvitationModal_const=__webpack_require__(4098),auth_const=__webpack_require__(1473),CommunityAPI=__webpack_require__(417),community_const=__webpack_require__(239),UserWorkspacesService=__webpack_require__(381);function SignUpForm_typeof(obj){return(SignUpForm_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function SignUpForm_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SignUpForm_setPrototypeOf(o,p){return(SignUpForm_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function SignUpForm_createSuper(Derived){var hasNativeReflectConstruct=function SignUpForm_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SignUpForm_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SignUpForm_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SignUpForm_possibleConstructorReturn(this,result)}}function SignUpForm_possibleConstructorReturn(self,call){return!call||"object"!==SignUpForm_typeof(call)&&"function"!=typeof call?SignUpForm_assertThisInitialized(self):call}function SignUpForm_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function SignUpForm_getPrototypeOf(o){return(SignUpForm_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SignUpForm_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var KnownErrorCodes=[error_codes.a.CONFLICT_EMAIL_ALREADY_REGISTERED,error_codes.a.INVALID_EMAIL_EMPTY,error_codes.a.INVALID_EMAIL_FORMAT,error_codes.a.INVALID_BIRTHDATE_EMPTY,error_codes.a.INVALID_BIRTHDATE_GREATER_NOW,error_codes.a.INVALID_BIRTHDATE_COPPA_NOT_ALLOWED],ReplaceableCodes=[error_codes.a.CONFLICT_EMAIL_ALREADY_REGISTERED,error_codes.a.INVALID_EMAIL_EMPTY,error_codes.a.INVALID_EMAIL_FORMAT],SignUpForm_ErrorMessage=function ErrorMessage(_ref){var message=_ref.message;return Object(jsx_runtime.jsx)("div",{className:auth_default.a.errorMessage,children:message})};SignUpForm_ErrorMessage.propTypes={message:prop_types_default.a.string};var SignUpForm_SignUpForm=function(_Component){!function SignUpForm_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SignUpForm_setPrototypeOf(subClass,superClass)}(SignUpForm,_Component);var _onSubmitInfo,_onSubmitCheckPinCode,_resendEmail,_onSubmit,_signUpUser,_super=SignUpForm_createSuper(SignUpForm);function SignUpForm(props,context){var _this;return function SignUpForm_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SignUpForm),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this=_super.call(this,props,context)),"phone",null),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this),"checkExistingUser",Object(debounce_decorator.a)(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(id){var signInType;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return signInType=_this.props.signInType,_context.next=3,_this.loginService.checkIfUserExistsUniversal(id);case 3:if(!_context.sent){_context.next=12;break}if(signInType!==login_const.e.EMAIL||_this.state.errors.email!==Object(localization.a)("errors","USER_ALREADY_EXISTS")){_context.next=9;break}return _context.abrupt("return");case 9:if(signInType!==login_const.e.EMAIL||_this.state.errors.phone!==Object(localization.a)("errors","USER_ALREADY_EXISTS")){_context.next=11;break}return _context.abrupt("return");case 11:_this.setState(_this.createErrorState(signInType===login_const.e.EMAIL?"email":signInType===login_const.e.PHONE?"phone":"",Object(localization.a)("errors","USER_ALREADY_EXISTS")));case 12:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref2.apply(this,arguments)}}())),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this),"outAuth",(function(){var _this$props=_this.props,isModal=_this$props.isModal,backUrl=_this$props.backUrl,backAction=_this$props.backAction,backUrlCommunityInvite=_this$props.backUrlCommunityInvite,guest=_this$props.guest,magicKey=_this$props.magicKey,inviteLink=_this$props.inviteLink;if(_this.props.setAuthMode(login_const.a.SIGN_IN),_this.props.setAuthAllowedMods([login_const.a.SIGN_IN,login_const.a.SIGN_UP]),isModal&&(_this.modalService.isShown(CommunityInvitationModal_const.a)&&_this.modalService.hide(CommunityInvitationModal_const.a),_this.modalService.hide(authentication_const.a),_this.props.setAuthModalMode(!1)),guest&&magicKey)_this.guestMagicLinkAPI.execute(magicKey,{username:"",firstName:""}).then(_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_this.communitiesService.init(),_this.userWorkspaceService.getMyWorkspaces(),_this.props.setAuthGuest(!1),backUrlCommunityInvite&&inviteLink?_this.history.replace(backUrlCommunityInvite):_this.history.replace(backUrl);case 4:case"end":return _context2.stop()}}),_callee2)})))).catch((function(error){console.error(error)}));else if(backUrlCommunityInvite&&inviteLink){var communityAPI=_this.context.beansContext.getBeanInstance(CommunityAPI.a);Object(miscUtils.l)(communityAPI,inviteLink.communityUUID,inviteLink.roomUuids).then((function(response){response?_this.history.replace(response):_this.history.replace(backUrlCommunityInvite)}))}else if(backAction){var backActionPromise=backAction();null==backActionPromise||backActionPromise.then((function(){backUrl&&_this.history.replace(backUrl)}))}else backUrl&&_this.history.replace(backUrl)})),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this),"onChangeRecaptcha",function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(recaptcha){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _this.props.setAuthRecaptcha(recaptcha),_context3.next=3,_this.signUpUser(recaptcha);case 3:case"end":return _context3.stop()}}),_callee3)})));return function(_x2){return _ref4.apply(this,arguments)}}()),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this),"goToPrevStep",(function(){_this.props.setAuthAllowedMods([login_const.a.SIGN_IN,login_const.a.SIGN_UP]),_this.setState({step:auth_const.d.SIGN_UP})})),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this),"setResendTimeout",(function(){_this.setState({resendAllowed:!1,resendTime:Date.now()}),_this.resendTimeout=setTimeout((function(){_this.setState({resendAllowed:!0,resendTimeoutProgress:null}),_this.resendTimer&&clearInterval(_this.resendTimer)}),auth_const.b),_this.resendTimer=setInterval((function(){var resendTimeoutProgress=(Date.now()-_this.state.resendTime)/auth_const.b*100;_this.setState({resendTimeoutProgress:resendTimeoutProgress})}),1e3)})),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this),"changeBirthDate",(function(date){if(_this.props.setAuthBirthDate(date),_this.setState(_this.createErrorState("birthDate",null)),date){var validationResult=_this.validateBirthDate(date);validationResult.isValid||_this.setState(_this.createErrorState("birthDate",validationResult.error))}})),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this),"minBirthDate",Object(moment.a)().subtract(100,"years").toDate()),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this),"checkDisabledSignUp",(function(){if(_this.state.busy)return!0;if(!_this.state.termsAccepted)return!0;if(_this.state.errors.birthDate)return!0;if(null===_this.props.birthDateTimestamp)return!0;if(_this.props.signInType===login_const.e.EMAIL){if(_this.state.errors.email)return!0;if(!_this.state.email)return!0}if(_this.props.signInType===login_const.e.PHONE){if(_this.state.errors.phone)return!0;if(!_this.props.phone)return!0}return!1})),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this),"renderSignUp",(function(){var email=_this.state.email,_this$props2=_this.props,birthDateTimestamp=_this$props2.birthDateTimestamp,signInType=_this$props2.signInType,phone=_this$props2.phone,birthDate=birthDateTimestamp?new Date(birthDateTimestamp):null;return Object(jsx_runtime.jsx)("div",{className:auth_default.a.root,children:Object(jsx_runtime.jsxs)("div",{className:auth_default.a.container,children:[Object(jsx_runtime.jsxs)("form",{onSubmit:_this.onSubmit,className:auth_default.a.form,ref:function ref(form){_this.formAuth=form},children:[_this.state.errors.common&&Object(jsx_runtime.jsx)("div",{className:"form-group ".concat(_this.state.errors.common?"has-error":""," text-align-left"),children:Object(jsx_runtime.jsx)("label",{className:"control-label",children:_this.state.errors.common})}),Object(jsx_runtime.jsx)("div",{className:auth_default.a.headerBig,children:Object(jsx_runtime.jsx)(LinkLocalized.a,{text:Object(localization.a)("dialogs","create_or_sign_in"),click:function click(){_this.props.setAuthMode(login_const.a.SIGN_IN),_this.props.setAuthModeTitle(Object(localization.a)("dialogs",login_const.b[login_const.a.SIGN_IN]))}})}),signInType===login_const.e.EMAIL?Object(jsx_runtime.jsxs)("div",{className:auth_default.a.fieldBlock,children:[Object(jsx_runtime.jsxs)("div",{className:classnames_default()(auth_default.a.label,auth_default.a.emailOrPhone),children:[Object(jsx_runtime.jsx)("span",{children:Object(localization.a)("dialogs","email_placeholder")}),Object(jsx_runtime.jsx)("span",{style:{flex:1}}),Object(jsx_runtime.jsx)("a",{onClick:function onClick(){return _this.props.setAuthSignInType(login_const.e.PHONE)},children:Object(localization.a)("dialogs","by_phone_number")})]}),Object(jsx_runtime.jsx)(Input.a,{autoFocus:!mobileDetect.a.isMobile(),className:classnames_default()(auth_default.a.input,auth_default.a.email),placeholder:"".concat(Object(localization.a)("profile","write_here_placeholder")),autoComplete:"username",type:"text",maxLength:100,value:email,onChange:function onChange(e){return _this.onChangeEmail(e.target.value)},onBlur:function onBlur(e){return _this.onBlurEmail(e.target.value)}}),_this.state.errors.email&&Object(jsx_runtime.jsx)(SignUpForm_ErrorMessage,{message:_this.state.errors.email}),Object(jsx_runtime.jsx)("div",{className:auth_default.a.helperBlock,children:Object(jsx_runtime.jsx)("span",{className:auth_default.a.helperText,children:Object(localization.a)("dialogs","email_phone_subtext")})})]}):Object(jsx_runtime.jsxs)("div",{className:auth_default.a.fieldBlock,children:[Object(jsx_runtime.jsxs)("div",{className:classnames_default()(auth_default.a.label,auth_default.a.emailOrPhone),children:[Object(jsx_runtime.jsx)("span",{children:Object(localization.a)("dialogs","phone_number")}),Object(jsx_runtime.jsx)("span",{style:{flex:1}}),Object(jsx_runtime.jsx)("a",{onClick:function onClick(){return _this.props.setAuthSignInType(login_const.e.EMAIL)},children:Object(localization.a)("dialogs","by_email")})]}),Object(jsx_runtime.jsx)(PhoneInput.a,{value:phone,onChange:_this.onChangePhone,onBlur:_this.onBlurPhone,autoFocus:!mobileDetect.a.isMobile()}),_this.state.errors.phone&&Object(jsx_runtime.jsx)(SignUpForm_ErrorMessage,{message:_this.state.errors.phone}),Object(jsx_runtime.jsx)("div",{className:auth_default.a.helperBlock,children:Object(jsx_runtime.jsx)("span",{className:auth_default.a.helperText,children:Object(localization.a)("dialogs","email_phone_subtext")})})]}),Object(jsx_runtime.jsxs)("div",{className:auth_default.a.fieldBlock,children:[Object(jsx_runtime.jsxs)("div",{className:auth_default.a.label,children:["".concat(Object(localization.a)("dialogs","birthday_one")," "),Object(jsx_runtime.jsxs)("span",{className:auth_default.a.optional,children:["(",Object(localization.a)("dialogs","birthday_two"),")"]})]}),Object(jsx_runtime.jsx)(DateSelector_DateSelector,{defaultDate:birthDate,minDate:_this.minBirthDate,onChange:_this.changeBirthDate,error:_this.state.errors.birthDate,dayClassName:auth_default.a.dateClassDay,monthClassName:auth_default.a.dateClassMonth,yearClassName:auth_default.a.dateClassYear,errorClassName:auth_default.a.errorMessage}),Object(jsx_runtime.jsx)("div",{className:auth_default.a.helperBlock,children:Object(jsx_runtime.jsx)("span",{className:auth_default.a.helperText,children:Object(localization.a)("dialogs","children_restricted")})})]}),Object(jsx_runtime.jsx)("div",{className:auth_default.a.fieldBlock,children:Object(jsx_runtime.jsx)(MaterialCheckbox.b,{checked:_this.state.termsAccepted,className:auth_default.a.termsBlock,onChange:function onChange(){_this.setState({termsAccepted:!_this.state.termsAccepted})},children:Object(jsx_runtime.jsx)("span",{dangerouslySetInnerHTML:{__html:Object(localization.a)("dialogs","terms_agreement")}})})}),Object(jsx_runtime.jsxs)("div",{className:auth_default.a.buttonRegister,children:[Object(jsx_runtime.jsxs)(Button.c,{type:Button.b.primary,size:Button.a.medium,disabled:_this.checkDisabledSignUp(),onClick:function onClick(){return _this.onSubmit()},children:[_this.state.busy&&Object(jsx_runtime.jsx)("i",{className:"fa fa-spinner fa-spin"}),Object(localization.a)("dialogs","sing_up")]}),Object(jsx_runtime.jsx)("button",{type:"submit",style:{position:"absolute",visibility:"hidden"}})]}),Object(jsx_runtime.jsx)("div",{className:"text-center"})]}),_this.props.guest&&Object(jsx_runtime.jsx)("div",{className:auth_default.a.continueAsGuest,children:Object(jsx_runtime.jsx)("span",{onClick:function onClick(){return _this.props.continueAsGuest()},children:Object(localization.a)("dialogs","continue_as_guest")})})]})})})),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this),"renderCaptcha",(function(){return Object(jsx_runtime.jsx)("div",{className:auth_default.a.root,children:Object(jsx_runtime.jsx)("div",{className:auth_default.a.container,children:Object(jsx_runtime.jsxs)("form",{className:auth_default.a.form,children:[Object(jsx_runtime.jsx)("div",{className:auth_default.a.headerBig,children:Object(localization.a)("dialogs","pls_confirm_human")}),Object(jsx_runtime.jsx)("div",{className:auth_default.a.recaptchaBlock,children:Object(jsx_runtime.jsx)(Recaptcha_Recaptcha,{onSuccess:_this.onChangeRecaptcha})})]})})})})),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this),"renderPinVerification",(function(){var _this$state=_this.state,resendAllowed=_this$state.resendAllowed,resendTimeoutProgress=_this$state.resendTimeoutProgress;return Object(jsx_runtime.jsxs)("form",{onSubmit:_this.onSubmitCheckPinCode,className:"authentication-form check-pin-code-form text-center",children:[Object(jsx_runtime.jsxs)("div",{className:"message",children:[Object(jsx_runtime.jsx)("span",{className:"back-arrow",onClick:_this.goToPrevStep,children:Object(jsx_runtime.jsx)("i",{className:"fa fa-arrow-left"})}),Object(jsx_runtime.jsxs)("span",{className:"",children:[_this.signUpByPhone?Object(localization.a)("dialogs","check_your_phone"):Object(localization.a)("dialogs","check_your_email"),":"]}),Object(jsx_runtime.jsx)("span",{className:"email-text",children:_this.props.email}),Object(jsx_runtime.jsx)("span",{className:"",children:Object(localization.a)("dialogs","enter_4d_pin_code")})]}),Object(jsx_runtime.jsxs)("div",{className:"form-group",children:[Object(jsx_runtime.jsx)(Input.a,{className:"pin-code"+(_this.state.errors.pincode?" error":""),inputRef:function inputRef(input){return _this.inputPinCode=input},autoFocus:!mobileDetect.a.isMobile(),type:"tel",onChange:function onChange(key){13!=key.which&&"Enter"!=key.key||_this.inputPinCode.value.length<auth_const.a||_this.state.busy?_this.setState(_this.createErrorState("pincode",null)):_this.onSubmitCheckPinCode();var filtredStr=_this.inputPinCode.value.replace(/[^0-9]/gim,"").substr(0,auth_const.a);_this.inputPinCode.value=filtredStr,_this.setState({pinCodeLength:_this.inputPinCode.value.length,pin:_this.inputPinCode.value})}}),_this.state.errors.pincode&&Object(jsx_runtime.jsx)("span",{className:classnames_default()(login_default.a.pincodeErrorNew,"text-danger"),children:Object(localization.a)("dialogs","wrong_code")})]}),Object(jsx_runtime.jsxs)(Button.c,{type:Button.b.primary,size:Button.a.medium,disabled:_this.state.busy||_this.state.pinCodeLength<auth_const.a,onClick:_this.onSubmitCheckPinCode,children:[_this.state.busy&&Object(jsx_runtime.jsx)("i",{className:"fa fa-spinner fa-spin"}),Object(localization.a)("dialogs","confirm")]}),Object(jsx_runtime.jsxs)("div",{className:classnames_default()("form-group resend-link"),children:[!_this.signUpByPhone&&Object(jsx_runtime.jsx)("div",{style:{marginBottom:10},children:Object(jsx_runtime.jsxs)("span",{children:[Object(localization.a)("dialogs","check_spam_email")," ",Object(localization.a)("dialogs","or")]})}),Object(jsx_runtime.jsxs)("div",{className:classnames_default()(SignUpForm_defineProperty({},auth_default.a.disabled,!resendAllowed)),children:[Object(jsx_runtime.jsx)(LinkLocalized.a,{text:Object(localization.a)("dialogs","resend_email"),click:function click(){return _this.resendEmail()}}),resendTimeoutProgress&&Object(jsx_runtime.jsx)(CircleProgress.a,{className:auth_default.a.timer,progress:resendTimeoutProgress,size:16}),_this.state.resending&&Object(jsx_runtime.jsx)("i",{className:"fa fa-spinner fa-spin"})]}),Object(jsx_runtime.jsx)("div",{style:{marginTop:10},children:_this.signUpByPhone?Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsxs)("span",{children:[Object(localization.a)("dialogs","or")," ",Object(jsx_runtime.jsx)(LinkLocalized.a,{className:auth_default.a.link,text:Object(localization.a)("dialogs","register_with_email"),click:function click(){_this.goToPrevStep(),_this.props.setAuthSignInType(login_const.e.EMAIL)}})]})}):Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsxs)("span",{children:[Object(localization.a)("dialogs","or")," ",Object(jsx_runtime.jsx)(LinkLocalized.a,{className:auth_default.a.link,text:Object(localization.a)("dialogs","register_with_phone"),click:function click(){_this.goToPrevStep(),_this.props.setAuthSignInType(login_const.e.PHONE)}})]})})})]})]})})),SignUpForm_defineProperty(SignUpForm_assertThisInitialized(_this),"renderCorrectStep",(function(){switch(_this.state.step){case auth_const.d.SIGN_UP:return _this.renderSignUp();case auth_const.d.CAPTCHA:return _this.renderCaptcha();case auth_const.d.CHECK_PIN_CODE:return _this.renderPinVerification();default:return null}})),_this.state={step:_this.props.step,email:props.email,phone:props.phone,birthDate:null,errors:{email:null,phone:null},busy:!1,pinCodeLength:0,resendAllowed:!1,termsAccepted:!0,pin:""},_this.onSubmit=_this.onSubmit.bind(SignUpForm_assertThisInitialized(_this)),_this.onSubmitCheckPinCode=_this.onSubmitCheckPinCode.bind(SignUpForm_assertThisInitialized(_this)),_this.loginService=context.beansContext.getBeanInstance(login_const.c),_this.magicActions=context.beansContext.getBeanInstance(MagicActionsService.a),_this.guestMagicLinkAPI=context.beansContext.getBeanInstance(GuestMagicLinkAPI.a),_this.modalService=context.beansContext.getBeanInstance(modals_const.a),_this.callsService=context.beansContext.getBeanInstance(CallsService.a),_this.communitiesService=context.beansContext.getBeanInstance(community_const.a),_this.userWorkspaceService=context.beansContext.getBeanInstance(UserWorkspacesService.a),_this.history=context.beansContext.getBeanInstance("history"),_this.textInput=react_default.a.createRef(),_this.onChangeEmail=auth.d.bind(SignUpForm_assertThisInitialized(_this)),_this.onBlurEmail=auth.b.bind(SignUpForm_assertThisInitialized(_this)),_this.onChangePhone=auth.e.bind(SignUpForm_assertThisInitialized(_this)),_this.onBlurPhone=auth.c.bind(SignUpForm_assertThisInitialized(_this)),_this}return function SignUpForm_createClass(Constructor,protoProps,staticProps){return protoProps&&SignUpForm_defineProperties(Constructor.prototype,protoProps),staticProps&&SignUpForm_defineProperties(Constructor,staticProps),Constructor}(SignUpForm,[{key:"componentDidMount",value:function componentDidMount(){var email=this.state.email,_this$props3=this.props,signInType=_this$props3.signInType,phone=_this$props3.phone;if(signInType===login_const.e.EMAIL&&""!==email)this.validateEmail(email).isValid?this.checkExistingUser(email):this.setState(this.createErrorState("email",Object(localization.a)("errors","INVALID_EMAIL_FORMAT")));else if(signInType===login_const.e.PHONE){!!(phone&&phone.length>7)&&Object(auth.a)(phone)||this.setState(this.createErrorState("phone",Object(localization.a)("dialogs","phone_number_is_invalid"))),""!==phone&&this.checkExistingUser(phone)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.resendTimeout&&clearTimeout(this.resendTimeout),this.resendTimer&&clearInterval(this.resendTimer),null!=this.phone&&this.props.setAuthPhone(this.phone)}},{key:"createErrorState",value:function createErrorState(field,error){var errors=Object.assign({},this.state.errors);return errors[field]=error,{errors:errors}}},{key:"validateEmail",value:function validateEmail(email){var result=Object(UserProfileValidators.b)(email);return{isValid:result.isValid,error:result.isValid?null:this.getErrorMessage(result.errorCode)||this.getCommonErrorMessage()}}},{key:"validatePhone",value:function validatePhone(phone){var result=Object(UserProfileValidators.c)(phone);return{isValid:result.isValid,error:result.isValid?null:this.getErrorMessage(result.errorCode)||this.getCommonErrorMessage()}}},{key:"validateBirthDate",value:function validateBirthDate(birthDate){var birthDateTimestamp=birthDate||this.props.birthDateTimestamp,result=Object(UserProfileValidators.a)({birthDateTimestamp:birthDateTimestamp});return{isValid:result.isValid,error:result.isValid?null:this.getErrorMessage(result.errorCode)||this.getCommonErrorMessage()}}},{key:"signUpUser",value:(_signUpUser=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(recaptcha){var _this$props4,email,phone,signInType,birthDateTimestamp,backUrl,magicLinkKey,guestMagicKey,guest,result,errors;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return this.setState({busy:!0}),_this$props4=this.props,email=_this$props4.email,phone=_this$props4.phone,signInType=_this$props4.signInType,birthDateTimestamp=_this$props4.birthDateTimestamp,backUrl=_this$props4.backUrl,magicLinkKey=_this$props4.magicLinkKey,guestMagicKey=_this$props4.guestMagicKey,guest=_this$props4.guest,_context4.next=4,this.loginService.signUp(email,phone,signInType,birthDateTimestamp,backUrl,magicLinkKey,recaptcha,guestMagicKey,guest);case 4:(result=_context4.sent).error?(errors=this.parseSignUpErrors(result.error),this.setState({errors:errors}),this.setState({step:auth_const.d.SIGN_UP})):result.signUp&&(this.props.setAuthGuestMagicKey(null),this.props.setAuthAllowedMods([login_const.a.SIGN_UP]),this.setState({step:auth_const.d.CHECK_PIN_CODE}),this.setResendTimeout()),this.setState({busy:!1});case 7:case"end":return _context4.stop()}}),_callee4,this)}))),function signUpUser(_x3){return _signUpUser.apply(this,arguments)})},{key:"onSubmit",value:(_onSubmit=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(el){var email,_this$props5,recaptcha,signInType,phone,validateEmailResult,validatePhoneResult,validateBirthDateResult;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(el&&el.preventDefault(),email=this.state.email,_this$props5=this.props,recaptcha=_this$props5.recaptcha,signInType=_this$props5.signInType,phone=_this$props5.phone,validateEmailResult=this.validateEmail(email),validatePhoneResult=this.validatePhone(phone),validateBirthDateResult=this.validateBirthDate(),signInType===login_const.e.PHONE?(this.props.setAuthPhone(phone),this.props.setAuthEmail(""),this.signUpByPhone=!0):signInType===login_const.e.EMAIL&&(this.props.setAuthEmail(email),this.props.setAuthPhone(""),this.signUpByPhone=!1),!(signInType===login_const.e.EMAIL&&validateEmailResult.isValid||signInType===login_const.e.PHONE&&validatePhoneResult.isValid)||!validateBirthDateResult.isValid){_context5.next=18;break}if(this.callsService.leaveConference(!1,!1),recaptcha){_context5.next=14;break}this.setState({step:auth_const.d.CAPTCHA}),this.props.setAuthAllowedMods([login_const.a.SIGN_UP]),_context5.next=16;break;case 14:return _context5.next=16,this.signUpUser();case 16:_context5.next=19;break;case 18:this.setState({errors:{email:validateEmailResult.error,phone:validatePhoneResult.error,birthDate:validateBirthDateResult.error}});case 19:case"end":return _context5.stop()}}),_callee5,this)}))),function onSubmit(_x4){return _onSubmit.apply(this,arguments)})},{key:"parseSignUpErrors",value:function parseSignUpErrors(errors){var _this2=this,parsedErrors={};return errors.codes&&errors.codes.some((function(error){return error===error_codes.a.CONFLICT_EMAIL_ALREADY_REGISTERED}))?parsedErrors.email=this.getErrorMessage(error_codes.a.CONFLICT_EMAIL_ALREADY_REGISTERED)||this.getCommonErrorMessage():errors.validationResult?errors.validationResult.forEach((function(error){var errorMessage=_this2.getErrorMessage(error.code);errorMessage?parsedErrors[error.field]=errorMessage:parsedErrors.common=_this2.getCommonErrorMessage()})):parsedErrors.common=this.getCommonErrorMessage(),parsedErrors}},{key:"getErrorMessage",value:function getErrorMessage(code){return ReplaceableCodes.includes(code)?Object(localization.a)("errors",code+"_OR_PHONE"):KnownErrorCodes.includes(code)?Object(localization.a)("errors",code):null}},{key:"getCommonErrorMessage",value:function getCommonErrorMessage(){return Object(localization.a)("dialogs","sign_up_error")}},{key:"resendEmail",value:(_resendEmail=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:this.setState({step:auth_const.d.CAPTCHA}),this.props.setAuthAllowedMods([login_const.a.SIGN_UP]),this.setResendTimeout();case 3:case"end":return _context6.stop()}}),_callee6,this)}))),function resendEmail(){return _resendEmail.apply(this,arguments)})},{key:"onSubmitCheckPinCode",value:(_onSubmitCheckPinCode=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(el){var _this$props6,email,phone,pinCode;return regeneratorRuntime.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return el&&el.preventDefault(),this.setState({busy:!0}),_this$props6=this.props,email=_this$props6.email,phone=_this$props6.phone,pinCode=this.state.pin,_context7.prev=4,_context7.next=7,this.magicActions.confirmByPin(email,phone,pinCode);case 7:this.outAuth(),_context7.next=13;break;case 10:_context7.prev=10,_context7.t0=_context7.catch(4),this.setState(this.createErrorState("pincode","wrong_code"));case 13:this.setState({busy:!1});case 14:case"end":return _context7.stop()}}),_callee7,this,[[4,10]])}))),function onSubmitCheckPinCode(_x5){return _onSubmitCheckPinCode.apply(this,arguments)})},{key:"onSubmitInfo",value:(_onSubmitInfo=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(el){return regeneratorRuntime.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:el&&el.preventDefault(),this.outAuth();case 2:case"end":return _context8.stop()}}),_callee8,this)}))),function onSubmitInfo(_x6){return _onSubmitInfo.apply(this,arguments)})},{key:"render",value:function render(){return Object(jsx_runtime.jsx)("div",{className:"sign-up",children:this.renderCorrectStep()})}}]),SignUpForm}(react.Component);SignUpForm_defineProperty(SignUpForm_SignUpForm,"propTypes",{step:prop_types_default.a.string,recaptcha:prop_types_default.a.any,email:prop_types_default.a.string,phone:prop_types_default.a.string,username:prop_types_default.a.string,signInType:prop_types_default.a.oneOf([login_const.e.EMAIL,login_const.e.PHONE,login_const.e.USERNAME]),birthDateTimestamp:prop_types_default.a.number,backUrl:prop_types_default.a.string,backAction:prop_types_default.a.func,backUrlCommunityInvite:prop_types_default.a.string,isModal:prop_types_default.a.bool,guest:prop_types_default.a.bool,magicKey:prop_types_default.a.string,magicLinkKey:prop_types_default.a.string,guestMagicKey:prop_types_default.a.object,inviteLink:prop_types_default.a.object,setAuthMode:prop_types_default.a.func,setAuthModeTitle:prop_types_default.a.func,setAuthEmail:prop_types_default.a.func,setAuthPhone:prop_types_default.a.func,setAuthBirthDate:prop_types_default.a.func,setAuthAllowedMods:prop_types_default.a.func,setAuthRecaptcha:prop_types_default.a.func,setAuthSignInType:prop_types_default.a.func,setAuthModalMode:prop_types_default.a.func,setAuthGuest:prop_types_default.a.func,setAuthGuestMagicKey:prop_types_default.a.func,continueAsGuest:prop_types_default.a.func}),SignUpForm_defineProperty(SignUpForm_SignUpForm,"contextTypes",{beansContext:prop_types_default.a.object}),SignUpForm_defineProperty(SignUpForm_SignUpForm,"defaultProps",{step:auth_const.d.SIGN_UP}),SignUpForm_SignUpForm.__docgenInfo={description:"",methods:[{name:"createErrorState",docblock:null,modifiers:[],params:[{name:"field",type:null},{name:"error",type:null}],returns:null},{name:"validateEmail",docblock:null,modifiers:[],params:[{name:"email",type:null}],returns:null},{name:"validatePhone",docblock:null,modifiers:[],params:[{name:"phone",type:null}],returns:null},{name:"validateBirthDate",docblock:null,modifiers:[],params:[{name:"birthDate",type:null}],returns:null},{name:"outAuth",docblock:null,modifiers:[],params:[],returns:null},{name:"onChangeRecaptcha",docblock:"TODO: Move determination and other type logic completely to login service from both sign in and sign up forms\nget rid of this.signInType, use service type instead",modifiers:["async"],params:[{name:"recaptcha"}],returns:null,description:"TODO: Move determination and other type logic completely to login service from both sign in and sign up forms\nget rid of this.signInType, use service type instead"},{name:"signUpUser",docblock:null,modifiers:["async"],params:[{name:"recaptcha",type:null}],returns:null},{name:"onSubmit",docblock:null,modifiers:["async"],params:[{name:"el",type:null}],returns:null},{name:"goToPrevStep",docblock:null,modifiers:[],params:[],returns:null},{name:"parseSignUpErrors",docblock:null,modifiers:[],params:[{name:"errors",type:null}],returns:null},{name:"getErrorMessage",docblock:null,modifiers:[],params:[{name:"code",type:null}],returns:null},{name:"getCommonErrorMessage",docblock:null,modifiers:[],params:[],returns:null},{name:"resendEmail",docblock:null,modifiers:["async"],params:[],returns:null},{name:"setResendTimeout",docblock:null,modifiers:[],params:[],returns:null},{name:"onSubmitCheckPinCode",docblock:null,modifiers:["async"],params:[{name:"el",type:null}],returns:null},{name:"onSubmitInfo",docblock:null,modifiers:["async"],params:[{name:"el",type:null}],returns:null},{name:"changeBirthDate",docblock:null,modifiers:[],params:[{name:"date",type:null}],returns:null},{name:"checkDisabledSignUp",docblock:null,modifiers:[],params:[],returns:null},{name:"renderSignUp",docblock:null,modifiers:[],params:[],returns:null},{name:"renderCaptcha",docblock:null,modifiers:[],params:[],returns:null},{name:"renderPinVerification",docblock:null,modifiers:[],params:[],returns:null},{name:"renderCorrectStep",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SignUpForm",props:{step:{defaultValue:{value:"SignUpSteps.SIGN_UP",computed:!0},type:{name:"string"},required:!1,description:""},recaptcha:{type:{name:"any"},required:!1,description:""},email:{type:{name:"string"},required:!1,description:""},phone:{type:{name:"string"},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""},signInType:{type:{name:"enum",value:[{value:"SignInTypes.EMAIL",computed:!0},{value:"SignInTypes.PHONE",computed:!0},{value:"SignInTypes.USERNAME",computed:!0}]},required:!1,description:""},birthDateTimestamp:{type:{name:"number"},required:!1,description:""},backUrl:{type:{name:"string"},required:!1,description:""},backAction:{type:{name:"func"},required:!1,description:""},backUrlCommunityInvite:{type:{name:"string"},required:!1,description:""},isModal:{type:{name:"bool"},required:!1,description:""},guest:{type:{name:"bool"},required:!1,description:""},magicKey:{type:{name:"string"},required:!1,description:""},magicLinkKey:{type:{name:"string"},required:!1,description:""},guestMagicKey:{type:{name:"object"},required:!1,description:""},inviteLink:{type:{name:"object"},required:!1,description:""},setAuthMode:{type:{name:"func"},required:!1,description:""},setAuthModeTitle:{type:{name:"func"},required:!1,description:""},setAuthEmail:{type:{name:"func"},required:!1,description:""},setAuthPhone:{type:{name:"func"},required:!1,description:""},setAuthBirthDate:{type:{name:"func"},required:!1,description:""},setAuthAllowedMods:{type:{name:"func"},required:!1,description:""},setAuthRecaptcha:{type:{name:"func"},required:!1,description:""},setAuthSignInType:{type:{name:"func"},required:!1,description:""},setAuthModalMode:{type:{name:"func"},required:!1,description:""},setAuthGuest:{type:{name:"func"},required:!1,description:""},setAuthGuestMagicKey:{type:{name:"func"},required:!1,description:""},continueAsGuest:{type:{name:"func"},required:!1,description:""}},context:{beansContext:{type:{name:"object"},required:!1}}};__webpack_exports__.default=Object(es.b)((function mapStateToProps(state){return{recaptcha:state.get([login_const.c,"recaptcha"]),email:state.getIn([login_const.c,"email"]),phone:state.getIn([login_const.c,"phone"]),username:state.getIn([login_const.c,"username"]),signInType:state.getIn([login_const.c,"signInType"]),birthDateTimestamp:state.getIn([login_const.c,"birthDateTimestamp"]),backUrl:state.getIn([login_const.c,"backUrl"]),backAction:state.getIn([login_const.c,"backAction"]),backUrlCommunityInvite:state.getIn([login_const.c,"backUrlCommunityInvite"]),isModal:state.getIn([login_const.c,"isModal"]),guest:state.getIn([login_const.c,"guest"]),magicKey:state.getIn([login_const.c,"magicKey"]),magicLinkKey:state.getIn([login_const.c,"magicLinkKey"]),guestMagicKey:state.getIn([login_const.c,"guestMagicKey"]),inviteLink:state.getIn([login_const.c,"inviteLink"])}}),(function mapDispatchToProps(dispatch){return{setAuthMode:function setAuthMode(mode){return dispatch(Object(loginServiceActions.A)(mode))},setAuthModeTitle:function setAuthModeTitle(modeTitle){return dispatch(Object(loginServiceActions.B)(modeTitle))},setAuthEmail:function setAuthEmail(email){return dispatch(Object(loginServiceActions.w)(email))},setAuthPhone:function setAuthPhone(phone){return dispatch(Object(loginServiceActions.E)(phone))},setAuthBirthDate:function setAuthBirthDate(birthDate){return dispatch(Object(loginServiceActions.v)(birthDate))},setAuthAllowedMods:function setAuthAllowedMods(allowedMods){return dispatch(Object(loginServiceActions.t)(allowedMods))},setAuthRecaptcha:function setAuthRecaptcha(recaptcha){return dispatch(Object(loginServiceActions.F)(recaptcha))},setAuthSignInType:function setAuthSignInType(signInType){return dispatch(Object(loginServiceActions.G)(signInType))},setAuthModalMode:function setAuthModalMode(isModal){return dispatch(Object(loginServiceActions.z)(isModal))},setAuthGuest:function setAuthGuest(guest){return dispatch(Object(loginServiceActions.x)(guest))},setAuthGuestMagicKey:function setAuthGuestMagicKey(guestMagicKey){return dispatch(Object(loginServiceActions.y)(guestMagicKey))}}}))(withStyles_default()(auth_default.a,login_default.a)(Object(lib.withInject)(SignUpForm_SignUpForm)))}}]);