/*! For license information please see 199.54c53a60.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[199],{4051:function(module,exports,__webpack_require__){var css=__webpack_require__(4270),insertCss=__webpack_require__(72),content="string"==typeof css?[[module.i,css,""]]:css;(exports=module.exports=css.locals||{})._getContent=function(){return content},exports._getCss=function(){return""+css},exports._insertCss=function(options){return insertCss(content,options)}},4053:function(module,exports,__webpack_require__){var css=__webpack_require__(4267),insertCss=__webpack_require__(72),content="string"==typeof css?[[module.i,css,""]]:css;(exports=module.exports=css.locals||{})._getContent=function(){return content},exports._getCss=function(){return""+css},exports._insertCss=function(options){return insertCss(content,options)}},4266:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}"undefined"!=typeof document&&"undefined"!=typeof window&&function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return!!Array.isArray(a)&&(g(a,c[b],c),!0)}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;(d=a.prototype=Object.create(e)).constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return _typeof(a)==oa?a.apply(b&&b[0]||d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),(function(b){a.addEventListener(b,c,!1)}))}function n(a,b,c){g(q(b),(function(b){a.removeEventListener(b,c,!1)}))}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort((function(a,c){return a[b]>c[b]})):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if((e=(c=ma[g])?c+f:b)in a)return e;g++}return d}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e==0,g=b&(Ga|Ha)&&d-e==0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}(g.pointers,d):1,b.rotation=g?function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter((function(a){return o(a.target,i)})),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches;setTimeout((function e(){var a=d.indexOf(c);a>-1&&d.splice(a,1)}),cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function Y(a){this.options=la({},this.defaults,a||{}),this.id=function v(){return ua++}(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return(b=b||{}).recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=function y(a){return new(a.options.inputClass||(xa?M:ya?P:wa?R:L))(a,z)}(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,(function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])}),this)}function ja(a,b){var d,c=a.element;c.style&&(g(a.options.cssProps,(function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""})),b||(a.oldCssProps={}))}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h((function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a}),"extend","Use `assign`."),ta=h((function(a,b){return sa(a,b,!0)}),"merge","Use `assign`."),ua=1,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),za="touch",Ba="mouse",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function handler(){},init:function init(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function destroy(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function handler(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:"pen",4:Ba,5:"kinect"},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function handler(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function handler(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length==0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function handler(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function handler(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function destroy(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(d){b[d]=!c||a.CSS.supports("touch-action",d)})),b}();V.prototype={set:function set(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function update(){this.set(this.manager.options.touchAction)},compute:function compute(){var a=[];return g(this.manager.recognizers,(function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))})),function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}(a.join(" "))},preventDefaults:function preventDefaults(a){var b=a.srcEvent,c=a.offsetDirection;if(!this.manager.session.prevented){var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0}b.preventDefault()},preventSrc:function preventSrc(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16;Y.prototype={defaults:{},set:function set(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function recognizeWith(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return b[(a=_(a,this)).id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function dropRecognizeWith(a){return f(a,"dropRecognizeWith",this)||(a=_(a,this),delete this.simultaneous[a.id]),this},requireFailure:function requireFailure(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return-1===r(b,a=_(a,this))&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function dropRequireFailure(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function hasRequireFailures(){return this.requireFail.length>0},canRecognizeWith:function canRecognizeWith(a){return!!this.simultaneous[a.id]},emit:function emit(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function tryEmit(a){return this.canEmit()?this.emit(a):void(this.state=32)},canEmit:function canEmit(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(32|nb)))return!1;a++}return!0},recognize:function recognize(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|32)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=32))},process:function process(a){},getTouchAction:function getTouchAction(){},reset:function reset(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function attrTest(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function process(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:32}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function getTouchAction(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function directionTest(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function attrTest(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function emit(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function getTouchAction(){return[jb]},attrTest:function attrTest(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function emit(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function getTouchAction(){return[hb]},process:function process(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e((function(){this.state=rb,this.tryEmit()}),b.time,this);else if(a.eventType&Ga)return rb;return 32},reset:function reset(){clearTimeout(this._timer)},emit:function emit(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function getTouchAction(){return[jb]},attrTest:function attrTest(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function getTouchAction(){return ba.prototype.getTouchAction.call(this)},attrTest:function attrTest(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function emit(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function getTouchAction(){return[ib]},process:function process(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=!this.pTime||a.timeStamp-this.pTime<b.interval,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;if(this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a,0===this.count%b.taps)return this.hasRequireFailures()?(this._timer=e((function(){this.state=rb,this.tryEmit()}),b.interval,this),ob):rb}return 32},failTimeout:function failTimeout(){return this._timer=e((function(){this.state=32}),this.options.interval,this),32},reset:function reset(){clearTimeout(this._timer)},emit:function emit(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ia.prototype={set:function set(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function stop(a){this.session.stopped=a?2:1},recognize:function recognize(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],2===b.stopped||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function get(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function add(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function remove(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function on(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),(function(a){c[a]=c[a]||[],c[a].push(b)})),this}},off:function off(a,b){if(a!==d){var c=this.handlers;return g(q(a),(function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]})),this}},emit:function emit(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function destroy(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:32,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u}),(void 0!==a?a:"undefined"!=typeof self?self:{}).Hammer=ha,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return ha}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window,document)},4267:function(module,exports,__webpack_require__){(exports=__webpack_require__(69)(!1)).push([module.i,"._2DgAe{display:flex;flex-direction:column;box-sizing:border-box}._2DgAe.F0QWQ{height:100%}._2DgAe._2n5vb{z-index:1079}._1IGxE{display:flex;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;height:80px;width:80px;border-radius:47%;background:rgba(0,0,0,0.32);transform:translate(-50%, -50%);z-index:1010}._16dJ0 *{display:flex;flex-direction:column;box-sizing:border-box}._16dJ0{position:relative;flex:1;align-self:center;justify-content:center;align-items:center;position:relative;max-height:100%;max-width:100%;transition:all ease-in-out 0.2s}._16dJ0:hover{background:rgba(0,0,0,0.15)}._16dJ0._120wv{border:2px solid #fff}._16dJ0._16L5E{border:2px solid #f44336}._16dJ0.Adpki{border:2px solid #efca3b}._16dJ0._2GG85{border:2px solid #1fce26}._16dJ0._3_79N{border:5px solid #f44336}._16dJ0 video{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;object-fit:contain}._16dJ0._3JOw1 video{object-fit:cover}._16dJ0 ._30g2c{justify-content:center;align-items:center;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;max-height:100%;width:100%;max-width:100%;padding:4px 0}._16dJ0 ._30g2c ._1hoWu{align-items:center;position:relative;height:100%;width:100%;overflow:hidden}._16dJ0 ._30g2c ._1hoWu img{position:absolute;top:50%;bottom:0;left:50%;right:0;min-height:30px;min-width:30px;height:55%;border-radius:50%;box-shadow:0 0 5px #0004;transform:translate(-50%, -50%)}._16dJ0 ._30g2c ._1hoWu._1rvnT img{max-height:70%;max-width:70%}._16dJ0 ._30-as{display:block;position:absolute;left:50%;width:calc(80% - 40px);color:#fff;text-align:center;text-shadow:1px 1px 1px #0004, 1px -1px 1px #0004, -1px 1px 1px #0004, -1px -1px 1px #0004;transform:translateX(-50%);overflow:hidden;opacity:0}._16dJ0._1XIvW ._30-as{text-shadow:1px 1px 1px #000b, 1px -1px 1px #000b, -1px 1px 1px #000b, -1px -1px 1px #000b}._16dJ0 ._2ofPi{flex:1;justify-content:center;align-items:center;position:absolute;top:0;bottom:0;left:0;right:0;padding-bottom:5px;pointer-events:none}._16dJ0 ._2ofPi._1j6Q8{height:100%;width:100%;background:#0009;cursor:pointer}._16dJ0 ._2ofPi._1j6Q8:hover{background:#0006}._16dJ0 ._2ofPi .ssFYK{flex-direction:row;position:absolute}._16dJ0 ._2ofPi .ssFYK._3DoPK,._16dJ0 ._2ofPi .ssFYK._2K9bK{top:4px}._16dJ0 ._2ofPi .ssFYK._3DoPK,._16dJ0 ._2ofPi .ssFYK._3nOW9{left:4px}._16dJ0 ._2ofPi .ssFYK._2K9bK,._16dJ0 ._2ofPi .ssFYK.n9T1T{right:4px}._16dJ0 ._2ofPi .ssFYK._3nOW9,._16dJ0 ._2ofPi .ssFYK.n9T1T{bottom:4px}._16dJ0 ._2ofPi .ssFYK._3DoPK>*+*,._16dJ0 ._2ofPi .ssFYK._2K9bK>*+*,._16dJ0 ._2ofPi .ssFYK._3nOW9>*+*,._16dJ0 ._2ofPi .ssFYK.n9T1T>*+*{margin-left:5px}._16dJ0 ._2ofPi ._2M901{justify-content:center;align-items:center;height:16px;width:16px;min-height:16px !important;min-width:16px !important;padding:0;border-radius:3px;box-shadow:0 0 2px #0004;background:rgba(255,255,255,0.62);opacity:0;cursor:pointer;pointer-events:all;transition:all ease 0.2s}._16dJ0 ._2ofPi ._2M901:hover{box-shadow:0 0 5px #fff}._16dJ0 ._2ofPi ._2M901._2QlDU{height:16px;width:16px;background:rgba(255,255,255,0.62)}._16dJ0 ._2ofPi ._2M901._1ID9D{height:16px;width:16px;background:rgba(255,255,255,0.62);opacity:1}._16dJ0 ._2ofPi ._2M901.PjZIs{transform:rotate(180deg)}._16dJ0 ._2ofPi ._2M901.Jgfvz{justify-content:center;align-items:center}._16dJ0 ._2ofPi ._2M901._1sLnq{height:16px;min-width:8px !important;width:8px;border:1px solid #fff;border-radius:2px;background:rgba(0,0,0,0.58)}._16dJ0 ._2ofPi ._2M901._1sLnq.Awv4u{height:16px;width:16px;border-color:rgba(255,255,255,0.62);background:rgba(255,255,255,0.62)}._16dJ0 ._2ofPi ._2M901._1sLnq._2veNV{padding:0;border-color:#f44336}._16dJ0 ._2ofPi ._2M901._1sLnq._2veNV._1u_cg{opacity:1}._16dJ0 ._2ofPi ._2M901._1sLnq ._1_AHq{position:absolute;bottom:1px;left:1px;width:calc(100% - 2px);border-radius:1px;background:#d4e8ff}._16dJ0 ._2ofPi ._2M901._1sLnq._2veNV ._1_AHq{bottom:0;left:0;width:100%;background:#f44336}._16dJ0:hover ._2ofPi ._2M901{opacity:1}._16dJ0._1u_cg ._2ofPi{border:2px solid #287eff}._16dJ0:not(._1XIvW) ._2ofPi{border:2px solid transparent}._16dJ0._2h5aC:hover{cursor:pointer}._16dJ0._2h5aC:hover ._2ofPi:not(._1j6Q8){background:#0003}._1TqRC ._16dJ0 ._30-as{display:none}._2DgAe:hover ._16dJ0 ._30-as{opacity:1;transition:all ease 0.2s}._2DgAe:hover ._16dJ0 ._2ofPi ._2M901._1sLnq{opacity:1}._2DgAe:hover ._16dJ0 ._2ofPi ._2M901._2QlDU._30Dic{opacity:1}._1-kl4{justify-content:center;align-items:center;max-height:100%;height:100%;max-width:100%;width:100%}.aY4kC{display:flex;flex-flow:column wrap}._2APA3{margin:0 4px}._3tARM{flex-direction:row;justify-content:center;align-items:center;border-radius:5px;opacity:1;text-shadow:none;white-space:nowrap;transition:all ease 0.2s}._3tARM:disabled{cursor:not-allowed;pointer-events:none}._3tARM._1FPi8{background:transparent;color:rgba(255,255,255,0.36);border:1px solid rgba(255,255,255,0.14)}._3tARM._1FPi8:hover{background:rgba(255,255,255,0.14);color:#f44336;border-color:rgba(255,255,255,0.36)}._3tARM._1FPi8._10AqC{background:rgba(255,255,255,0.14);color:#f10;border-color:rgba(255,255,255,0.14)}._3tARM._1sLnq,._3tARM.TF9ew,._3tARM._1Ze84{background:rgba(255,255,255,0.14);color:#fff;border:1px solid rgba(255,255,255,0.14)}._3tARM._1sLnq:hover,._3tARM.TF9ew:hover,._3tARM._1Ze84:hover{background:rgba(255,255,255,0.36);border-color:rgba(255,255,255,0.36)}._3tARM._1sLnq.F2HxB,._3tARM.TF9ew.F2HxB,._3tARM._1Ze84.F2HxB{background:rgba(0,0,0,0.32);color:#f44336;border-color:rgba(0,0,0,0.32)}._3tARM._1sLnq._1PueY,._3tARM.TF9ew._1PueY,._3tARM._1Ze84._1PueY{cursor:not-allowed}._3tARM._14m3G{background:rgba(255,255,255,0.14);color:#fff;border:1px solid rgba(255,255,255,0.14)}._3tARM._14m3G:hover{background:rgba(255,255,255,0.36);border-color:rgba(255,255,255,0.36)}._3tARM._14m3G._10AqC{background:#287eff;color:#fff;border-color:#287eff}._3tARM._14m3G._3ub70{background:#07bbc7;color:#fff;border-color:#07bbc7}._3tARM._14m3G._3GRN_{height:14px;padding:0;min-height:12px !important}._3tARM._14m3G._1ZJVc{border-top-left-radius:0;border-top-right-radius:0}._3tARM._14m3G._37dzG{border-bottom-right-radius:0;border-bottom-left-radius:0}._3tARM._1IWRc{background:#287eff;color:#fff;height:28px;border:1px solid rgba(255,255,255,0.14)}._3tARM.CB__y{background:transparent;color:rgba(255,255,255,0.36);border:1px solid rgba(255,255,255,0.14)}._3tARM.CB__y:hover{background:rgba(255,255,255,0.14);color:#fff;border-color:rgba(255,255,255,0.36)}._3tARM.EzE9O{background:#006d05;color:#fff}._3tARM.EzE9O:hover{background:#1bc321}._3tARM._1YqrE{background:#2459a7;color:#fff}._3tARM._1YqrE:hover{background:#287eff}._3tARM._3CtIx{background:#f3c41e;color:#fff}._3tARM._3CtIx:hover{background:#f7d96f}._3tARM._1NhNB{background:#f44336;color:#fff}._3tARM._1NhNB:hover{background:#f8877e}._3InWn{position:relative;padding:10px 10px 10px 25px;background:lightgoldenrodyellow;font-size:12px;text-align:center;cursor:default;z-index:1}._3InWn .SlQYV{margin:0 5px 0 -15px}._3InWn ._2AbwE{justify-content:space-evenly}._3dZOd{display:block;padding:10px 10px 10px 50px;color:inherit}._3dZOd:hover{background-color:#eee;color:inherit;text-decoration:none}._2BLqo{display:none !important}._3Pjmg>*{transform:rotate(-180deg)}._2hXHI{position:fixed;flex:1;z-index:1090}._2hXHI.YzP0Y{width:100%;height:calc(100% - 68px);top:0;left:0;z-index:15}.ZB4XR{padding:16px;text-align:center;width:100%;height:100%;display:flex;align-items:center}._2P7-F{flex:1}._2P7-F._10RQG *{transition:none}._2P7-F>div{background:rgba(0,0,0,0.85)}._2P7-F ._207GL,._2P7-F ._207GL *,._2P7-F .ssFYK,._2P7-F .ssFYK *,._2P7-F ._2ioFr,._2P7-F ._2ioFr *{display:flex;flex-direction:column;box-sizing:border-box}._2P7-F ._207GL{flex-direction:row;justify-content:space-between;height:28px;width:100%;max-width:100%;padding:0 5px;background:#000;color:#fff;font-size:16px;font-weight:600;line-height:20px;opacity:1;transition:all ease 0.2s;transition:width 0s}._2P7-F ._207GL._2Haqj{position:absolute;top:-28px;left:0}._2P7-F ._207GL.hHnbt{top:-23px;width:auto;height:24px;margin-bottom:0;padding:0;border-radius:3px 3px 0 0}._2P7-F ._207GL.njg8U{width:100%}._2P7-F ._207GL>*{flex-direction:row;align-items:center;height:100%}._2P7-F ._207GL ._2gQuk{width:auto}._2P7-F ._207GL ._1cKZi:first-of-type{padding-left:5px}._2P7-F ._207GL ._1cKZi:last-of-type{padding-right:5px}._2P7-F ._207GL ._2gQuk>div+div{margin-left:6px}._2P7-F ._207GL .R1eyC{max-width:100%;margin-left:21px}._2P7-F ._207GL .R1eyC .xcO8P{margin:6px 10px}._2P7-F ._207GL .R1eyC ._13AeL{flex-direction:row;cursor:pointer;width:auto;height:24px;display:flex;flex-shrink:0;margin-left:15px;padding:0 10px;align-items:center;background:#287eff;border-radius:5px;color:white;font-size:1.2rem;text-shadow:none;opacity:1;transition:background 0.2s}._2P7-F ._207GL .R1eyC ._13AeL ._1b4x1{vertical-align:middle;padding-left:5px;display:flex;align-items:center}._2P7-F ._207GL .R1eyC ._1qQIe{display:block;margin-left:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}._2P7-F ._207GL .R1eyC ._1qQIe:hover{text-decoration:underline;cursor:pointer}._2P7-F ._207GL ._3VKay div{justify-content:center;align-items:center;opacity:0.65}._2P7-F ._207GL ._3VKay div:hover{opacity:1;cursor:pointer}._2P7-F ._207GL ._3VKay div.Vljvq{cursor:default;pointer-events:none;opacity:0.25}._2P7-F ._207GL ._3VKay .qV-lu{margin:2px 0;padding:2px;border-radius:3px;background:rgba(255,255,255,0.14)}._2P7-F ._207GL ._3VKay .qV-lu:hover,._2P7-F ._207GL ._3VKay .qV-lu._10Xfe{background:#287eff}._2P7-F ._207GL ._3VKay ._2syus svg{width:18px;height:18px}._2P7-F ._207GL ._3VKay>*+*{margin-left:5px}._2P7-F .ssFYK{flex:1}._2P7-F .ssFYK._2xON_{flex-direction:row}._2P7-F .ssFYK.w4kb1{flex-direction:column}._2P7-F .ssFYK.QJ8Z1{height:100%;width:100%}._2P7-F .ssFYK>div{display:grid;align-items:center;max-height:100%;max-width:100%}._2P7-F .ssFYK ._1Xn-I{scrollbar-width:none}._2P7-F .ssFYK ._1Xn-I::-webkit-scrollbar{height:0;width:0}._2P7-F .ssFYK ._30Dic>div,._2P7-F .ssFYK ._1Xn-I>div{min-height:45px;min-width:45px}._2P7-F ._2ioFr{flex-direction:row;align-items:center;height:40px;width:100%;padding:5px 6px;background:#000;transition:all ease 0.2s, width ease 0.1s}._2P7-F ._2ioFr.hHnbt{display:none}._2P7-F ._2ioFr>button+button{margin-left:4px}._2P7-F ._2ioFr button{justify-content:center;align-items:center;height:28px;max-height:100%;width:32px;border-radius:5px;text-align:center;line-height:0;cursor:pointer}._2P7-F ._3yGLV{min-width:26px;min-height:26px}._1iBjt{display:none;position:fixed;z-index:1091;border:4px solid #287eff;touch-action:none;pointer-events:none}._207GL *,._wUT1 *,._2Q0Qe *{display:flex;flex-direction:column;box-sizing:border-box}._3D2UJ{flex-direction:row;justify-content:center;align-items:center;border-radius:5px;opacity:1;text-shadow:none;white-space:nowrap;transition:none !important}._3D2UJ._1ZRpX{padding:0 25px;background:#04900b;font-size:16px;min-width:109px !important;min-height:28px !important}._3D2UJ.EzE9O{background:#006d05;color:#fff}._3D2UJ.EzE9O:hover{background:#1bc321}._2A5Oc{max-width:100%;text-decoration:none !important;cursor:default !important}._207GL._1K8dg{padding-right:16px;padding-top:16px;padding-bottom:16px;border-top-right-radius:8px;border-top-left-radius:8px;border-bottom:1px solid rgba(255,255,255,0.36);background:#262626}._5yNa3{max-width:100%;color:#ffffffc7;display:flex;overflow:hidden;flex-direction:row;white-space:nowrap;text-overflow:ellipsis;justify-content:space-between;padding-bottom:5px}._5yNa3 ._3nvfR{font-size:1.2em;color:#ffffffc7;display:flex;justify-content:center;align-items:center;flex-shrink:0;flex-direction:row;margin-top:4px}._5yNa3 ._3nvfR .qkm1o{border-radius:4px;overflow:hidden;background:#bed8ff;color:#2459a7;font-size:1.8rem;display:flex;align-items:center;justify-content:center;margin-right:10px}._5yNa3 ._3nvfR .qkm1o img{width:29px;height:20px}._5yNa3 ._3nvfR ._3wvqe{width:110px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}._5yNa3 ._3nvfR ._1qQIe{display:flex;flex-direction:row;color:#fff}._5yNa3 ._3nvfR ._1qQIe:hover{cursor:pointer}._5yNa3 ._3nvfR ._1qQIe ._2x2mI{min-width:15px;height:100%;display:flex;align-items:center;justify-content:center}._2h5aC{display:flex;flex-direction:column;position:fixed;width:360px;z-index:1090}._2h5aC ._wUT1{display:flex;flex-direction:column;border-bottom:1px solid rgba(255,255,255,0.36);max-height:calc(100% - 65px);padding:8px;background:#262626}._2h5aC ._wUT1 ._1iPaS{flex:1.5;overflow:hidden;display:flex;flex-direction:column;padding:0 20px}._2h5aC ._wUT1 ._1iPaS .rTPvz{flex:2;display:flex;align-items:center;justify-content:center;background:#262626}._2h5aC ._wUT1 ._1iPaS ._1tPdV{position:relative;width:300px;height:184px;background:rgba(0,0,0,0.32);border:1px solid #f44336}._2h5aC ._wUT1 ._1iPaS ._1tPdV ._1s52w{position:absolute;width:353.89px;height:0;left:-29px;top:92px;border:1px solid #f44336;transform:rotate(-31.5deg)}._2h5aC ._wUT1 ._1iPaS ._1nlsU{position:relative;width:100%;margin-top:8px;padding-top:75.25%;overflow:hidden}._2h5aC ._wUT1 ._1iPaS ._1nlsU video{position:absolute;top:0;left:0;height:100% !important;width:100% !important}._2h5aC ._wUT1 ._1iPaS ._3bhwm{position:relative;width:100%;margin-top:8px;padding-top:66.25%;overflow:hidden;border:1px solid red}._2h5aC ._wUT1 ._1iPaS ._26ljO{display:flex;align-items:center;justify-content:center;width:100%;bottom:8px;position:absolute}._2h5aC ._wUT1 ._1iPaS ._26ljO ._1Z7gF{width:131px;color:#fff;padding:0 20px;background:rgba(0,0,0,0.32);border-radius:5px;font-size:12px;line-height:22px;text-align:center}._2h5aC ._wUT1 ._1iPaS ._3-HV7{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}._2h5aC ._wUT1 ._2yZFf{display:flex;flex-direction:column;padding-left:20px;overflow:hidden;padding-right:20px;padding-top:10px}._2h5aC ._wUT1 ._2yZFf ._2RunY{display:flex;flex:1;flex-direction:column}._2h5aC ._wUT1 ._2yZFf ._2RunY ._1H64z,._2h5aC ._wUT1 ._2yZFf ._2RunY ._1r7Oh{display:flex;flex-shrink:0;flex-direction:row;align-items:center;padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.36);color:rgba(255,255,255,0.85);cursor:default}._2h5aC ._wUT1 ._2yZFf ._2RunY ._1H64z._3901L,._2h5aC ._wUT1 ._2yZFf ._2RunY ._1r7Oh._3901L{border:0}._2h5aC ._wUT1 ._2yZFf ._2RunY ._1H64z:nth-last-of-type(1),._2h5aC ._wUT1 ._2yZFf ._2RunY ._1r7Oh:nth-last-of-type(1){border-bottom:0}._2h5aC ._wUT1 ._2yZFf ._2RunY ._1H64z.rTPvz,._2h5aC ._wUT1 ._2yZFf ._2RunY ._1r7Oh.rTPvz{color:#f44336}._2h5aC ._wUT1 ._2yZFf ._2RunY ._1H64z.rTPvz ._2V6sB,._2h5aC ._wUT1 ._2yZFf ._2RunY ._1r7Oh.rTPvz ._2V6sB{cursor:default}._2h5aC ._wUT1 ._2yZFf ._2RunY ._1H64z ._2gbzD,._2h5aC ._wUT1 ._2yZFf ._2RunY ._1r7Oh ._2gbzD{width:30px;min-width:30px;height:100%;display:flex;align-items:center;justify-content:center}._2h5aC ._wUT1 ._2yZFf ._2RunY ._1H64z ._3Lz8g,._2h5aC ._wUT1 ._2yZFf ._2RunY ._1r7Oh ._3Lz8g{margin-left:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%}._2h5aC ._wUT1 ._2yZFf ._2RunY ._1H64z ._1_AHq,._2h5aC ._wUT1 ._2yZFf ._2RunY ._1r7Oh ._1_AHq{position:relative;width:100%;height:5px;background:rgba(255,255,255,0.36);border-radius:2px;overflow:hidden}._2h5aC ._wUT1 ._2yZFf ._2RunY ._1H64z ._1_AHq span,._2h5aC ._wUT1 ._2yZFf ._2RunY ._1r7Oh ._1_AHq span{position:absolute;top:0;left:0;height:100%;background:#fff}._2h5aC ._wUT1 ._2yZFf ._2RunY ._1H64z ._2V6sB,._2h5aC ._wUT1 ._2yZFf ._2RunY ._1r7Oh ._2V6sB{width:30px;height:100%;min-width:30px;display:flex;align-items:center;justify-content:center;cursor:pointer}._2h5aC ._wUT1 ._2yZFf ._2RunY .XG4X4{display:flex;flex-direction:row;margin-left:35px;padding:10px 0;color:rgba(255,255,255,0.85);font-size:1.2rem;cursor:pointer;user-select:none;transition:color 0.2s}._2h5aC ._wUT1 ._2yZFf ._2RunY .XG4X4:hover{color:#fff}._2h5aC ._wUT1 ._2yZFf ._2RunY .XG4X4 ._3dU-Y{width:7px;height:7px;margin-top:4px;margin-right:7px;background:#fff}._2h5aC ._wUT1 ._2yZFf ._2RunY ._1vRIa{display:flex;flex-direction:row;align-items:center;padding:10px 0;color:rgba(255,255,255,0.85);cursor:pointer;user-select:none;transition:color 0.2s}._2h5aC ._wUT1 ._2yZFf ._2RunY ._1vRIa:hover{color:#fff}._2h5aC ._1JErh{display:flex;align-items:center;width:100%;padding:0 5px;background:#262626}._2h5aC ._1JErh ._1xJvI{display:-webkit-box;max-height:100%;color:#f44336;cursor:help;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical}._2h5aC ._1JErh ._2QKl5{margin-left:10px;padding:2px 4px;color:#287eff;font-size:1.2rem;cursor:pointer;user-select:none}._2h5aC ._1JErh ._2ThKX{width:100%;color:#fff}._2h5aC ._2Q0Qe{display:flex;align-items:center;flex-direction:row;height:40px;padding:5px 10px;background:#262626;border-bottom-right-radius:8px;border-bottom-left-radius:8px}._2h5aC ._2Q0Qe>*+*{margin-left:4px}._2h5aC ._2Q0Qe button{flex-direction:row;justify-content:center;align-items:center}._2h5aC ._2Q0Qe ._2rY4f{display:flex;align-items:center;justify-content:center;height:28px;width:28px}._2h5aC ._2Q0Qe ._1RM7P,._2h5aC ._2Q0Qe ._26up9{height:28px;min-width:108px;width:auto;padding:0 5px}._2h5aC ._2Q0Qe ._1RM7P ._1bbGy,._2h5aC ._2Q0Qe ._26up9 ._1bbGy{display:flex;align-items:center;width:100%;font-size:14px;white-space:nowrap}._2h5aC ._2Q0Qe ._3AxO3{min-height:24px;min-width:24px}._2h5aC ._2Q0Qe ._2GEi5{min-width:26px;min-height:26px}._3fp4M{color:#adadad !important}._1jmyq{display:flex;min-height:168px;align-items:center;justify-content:center;background:rgba(0,0,0,0.58)}._3LVQd{color:red}\n",""]),exports.locals={conferenceContainer:"_2DgAe",column:"F0QWQ",fullScreen:"_2n5vb",spinner:"_1IGxE",element:"_16dJ0",selected:"_120wv",interrupted:"_16L5E",inactive:"Adpki",restoring:"_2GG85",muted_speaking:"_3_79N",fill:"_3JOw1",no_stream:"_30g2c",image:"_1hoWu",large:"_1rvnT",name:"_30-as",stream:"_1XIvW",settings:"_2ofPi",faded:"_1j6Q8",area:"ssFYK",topLeft:"_3DoPK",topRight:"_2K9bK",bottomLeft:"_3nOW9",bottomRight:"n9T1T",button:"_2M901",togglePin:"_2QlDU",autoSelect:"_1ID9D",expand:"PjZIs",options:"Jgfvz",microphone:"_1sLnq",no:"Awv4u",muted:"_2veNV",speaking:"_1u_cg",volume:"_1_AHq",preview:"_2h5aC",endMoving:"_1TqRC",main:"_30Dic",centered:"_1-kl4",shareContainer:"aY4kC",buttonMargin:"_2APA3",callButton:"_3tARM",rec:"_1FPi8",working:"_10AqC",sound:"TF9ew",camera:"_1Ze84",disabled:"F2HxB",cursorNotAllowed:"_1PueY",screenShare:"_14m3G",workingSmartShare:"_3ub70",showBoth:"_3GRN_",screenShareWithSmart:"_1ZJVc",smartShareWithScreen:"_37dzG",scheduleButton:"_1IWRc",chat:"CB__y",green:"EzE9O",blue:"_1YqrE",yellow:"_3CtIx",red:"_1NhNB",screenShareDescription:"_3InWn",infoIcon:"SlQYV",downloadLinks:"_2AbwE",shareWithAppButton:"_3dZOd",hide:"_2BLqo",callManagerToggle:"_3Pjmg",container_background:"_2hXHI",containerFullscreen:"YzP0Y",Reconnect_Wrapper:"ZB4XR",container:"_2P7-F",resizing:"_10RQG",top:"_207GL",bottom:"_2ioFr",float:"_2Haqj",compact:"hHnbt",fullWidth:"njg8U",callIndicators:"_2gQuk",callIndicators__item:"_1cKZi",left:"R1eyC",time:"xcO8P",return_mode_button:"_13AeL",presentation_button:"_1b4x1",roomName:"_1qQIe",right:"_3VKay",disabledTop:"Vljvq",toggleAutoSelect:"qV-lu",active:"_10Xfe",videoView:"_2syus",horizontal:"_2xON_",vertical:"w4kb1",full:"QJ8Z1",side:"_1Xn-I",callManagerButton:"_3yGLV",resizePreview:"_1iBjt",previewVideoAndDevices:"_wUT1",previewButtons:"_2Q0Qe",callPreviewButtons:"_3D2UJ",call:"_1ZRpX",callPreviewTitle:"_2A5Oc",topOverwrite:"_1K8dg",room:"_5yNa3",roomFullName:"_3nvfR",communityNameImage:"qkm1o",communityName:"_3wvqe",iconName:"_2x2mI",previewVideo:"_1iPaS",error:"rTPvz",videoErrorContent:"_1tPdV",plot:"_1s52w",video:"_1nlsU",videoError:"_3bhwm",previewVideoTitle:"_26ljO",previewTitleText:"_1Z7gF",loading:"_3-HV7",previewDevices:"_2yZFf",previewDevicesAudioAndVideo:"_2RunY",previewVideoDevice:"_1H64z",previewAudioDevice:"_1r7Oh",withoutBorder:"_3901L",showAll:"_2V6sB",icon:"_2gbzD",label:"_3Lz8g",audioTest:"XG4X4",stopIcon:"_3dU-Y",default_settings:"_1vRIa",previewInfo:"_1JErh",errorMessage:"_1xJvI",previewDevicesChangeView:"_2QKl5",tip:"_2ThKX",previewCancelButton:"_2rY4f",previewAudioCallButton:"_1RM7P",previewVideoButton:"_26up9",previewCallButtonTitle:"_1bbGy",previewScreenShareButton:"_3AxO3",previewCallManagerButton:"_2GEi5",autosettingsCheckbox:"_3fp4M",previewLoading:"_1jmyq",share_context:"_3LVQd"},module.exports=exports},4270:function(module,exports,__webpack_require__){(exports=__webpack_require__(69)(!1)).push([module.i,"._3fUwn{display:flex;flex-direction:column;box-sizing:border-box}._3fUwn._1wU04{height:100%}._3fUwn._1nzT6{z-index:1079}._3EaVg{display:flex;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;height:80px;width:80px;border-radius:47%;background:rgba(0,0,0,0.32);transform:translate(-50%, -50%);z-index:1010}._1wVac *{display:flex;flex-direction:column;box-sizing:border-box}._1wVac{position:relative;flex:1;align-self:center;justify-content:center;align-items:center;position:relative;max-height:100%;max-width:100%;transition:all ease-in-out 0.2s}._1wVac:hover{background:rgba(0,0,0,0.15)}._1wVac._9Z6tR{border:2px solid #fff}._1wVac._1v2Q3{border:2px solid #f44336}._1wVac.QmNwu{border:2px solid #efca3b}._1wVac._119I3{border:2px solid #1fce26}._1wVac.iCQkq{border:5px solid #f44336}._1wVac video{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;object-fit:contain}._1wVac._2tZCF video{object-fit:cover}._1wVac ._16Ir0{justify-content:center;align-items:center;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;max-height:100%;width:100%;max-width:100%;padding:4px 0}._1wVac ._16Ir0 ._3M1aK{align-items:center;position:relative;height:100%;width:100%;overflow:hidden}._1wVac ._16Ir0 ._3M1aK img{position:absolute;top:50%;bottom:0;left:50%;right:0;min-height:30px;min-width:30px;height:55%;border-radius:50%;box-shadow:0 0 5px #0004;transform:translate(-50%, -50%)}._1wVac ._16Ir0 ._3M1aK._2v6WI img{max-height:70%;max-width:70%}._1wVac ._3b7AO{display:block;position:absolute;left:50%;width:calc(80% - 40px);color:#fff;text-align:center;text-shadow:1px 1px 1px #0004, 1px -1px 1px #0004, -1px 1px 1px #0004, -1px -1px 1px #0004;transform:translateX(-50%);overflow:hidden;opacity:0}._1wVac._2_xu2 ._3b7AO{text-shadow:1px 1px 1px #000b, 1px -1px 1px #000b, -1px 1px 1px #000b, -1px -1px 1px #000b}._1wVac .MKk4r{flex:1;justify-content:center;align-items:center;position:absolute;top:0;bottom:0;left:0;right:0;padding-bottom:5px;pointer-events:none}._1wVac .MKk4r._3jmmi{height:100%;width:100%;background:#0009;cursor:pointer}._1wVac .MKk4r._3jmmi:hover{background:#0006}._1wVac .MKk4r ._1ZS3z{flex-direction:row;position:absolute}._1wVac .MKk4r ._1ZS3z._2-E_F,._1wVac .MKk4r ._1ZS3z.pUM8j{top:4px}._1wVac .MKk4r ._1ZS3z._2-E_F,._1wVac .MKk4r ._1ZS3z._3vyrT{left:4px}._1wVac .MKk4r ._1ZS3z.pUM8j,._1wVac .MKk4r ._1ZS3z._3nvYd{right:4px}._1wVac .MKk4r ._1ZS3z._3vyrT,._1wVac .MKk4r ._1ZS3z._3nvYd{bottom:4px}._1wVac .MKk4r ._1ZS3z._2-E_F>*+*,._1wVac .MKk4r ._1ZS3z.pUM8j>*+*,._1wVac .MKk4r ._1ZS3z._3vyrT>*+*,._1wVac .MKk4r ._1ZS3z._3nvYd>*+*{margin-left:5px}._1wVac .MKk4r .URvyK{justify-content:center;align-items:center;height:16px;width:16px;min-height:16px !important;min-width:16px !important;padding:0;border-radius:3px;box-shadow:0 0 2px #0004;background:rgba(255,255,255,0.62);opacity:0;cursor:pointer;pointer-events:all;transition:all ease 0.2s}._1wVac .MKk4r .URvyK:hover{box-shadow:0 0 5px #fff}._1wVac .MKk4r .URvyK._3FeIr{height:16px;width:16px;background:rgba(255,255,255,0.62)}._1wVac .MKk4r .URvyK._1DDGj{height:16px;width:16px;background:rgba(255,255,255,0.62);opacity:1}._1wVac .MKk4r .URvyK._34ZS6{transform:rotate(180deg)}._1wVac .MKk4r .URvyK._1gNu6{justify-content:center;align-items:center}._1wVac .MKk4r .URvyK._2h7G1{height:16px;min-width:8px !important;width:8px;border:1px solid #fff;border-radius:2px;background:rgba(0,0,0,0.58)}._1wVac .MKk4r .URvyK._2h7G1._22FE0{height:16px;width:16px;border-color:rgba(255,255,255,0.62);background:rgba(255,255,255,0.62)}._1wVac .MKk4r .URvyK._2h7G1._8-FXr{padding:0;border-color:#f44336}._1wVac .MKk4r .URvyK._2h7G1._8-FXr._1RsbK{opacity:1}._1wVac .MKk4r .URvyK._2h7G1 ._3ULdk{position:absolute;bottom:1px;left:1px;width:calc(100% - 2px);border-radius:1px;background:#d4e8ff}._1wVac .MKk4r .URvyK._2h7G1._8-FXr ._3ULdk{bottom:0;left:0;width:100%;background:#f44336}._1wVac:hover .MKk4r .URvyK{opacity:1}._1wVac._1RsbK .MKk4r{border:2px solid #287eff}._1wVac:not(._2_xu2) .MKk4r{border:2px solid transparent}._1wVac._3zaeD:hover{cursor:pointer}._1wVac._3zaeD:hover .MKk4r:not(._3jmmi){background:#0003}._3M1fT ._1wVac ._3b7AO{display:none}._3fUwn:hover ._1wVac ._3b7AO{opacity:1;transition:all ease 0.2s}._3fUwn:hover ._1wVac .MKk4r .URvyK._2h7G1{opacity:1}._3fUwn:hover ._1wVac .MKk4r .URvyK._3FeIr._11Tnb{opacity:1}.BEX-m{justify-content:center;align-items:center;max-height:100%;height:100%;max-width:100%;width:100%}._3bpvr{display:flex;flex-flow:column wrap}._2rNyd{margin:0 4px}.dSWMd{flex-direction:row;justify-content:center;align-items:center;border-radius:5px;opacity:1;text-shadow:none;white-space:nowrap;transition:all ease 0.2s}.dSWMd:disabled{cursor:not-allowed;pointer-events:none}.dSWMd._Dp6Z{background:transparent;color:rgba(255,255,255,0.36);border:1px solid rgba(255,255,255,0.14)}.dSWMd._Dp6Z:hover{background:rgba(255,255,255,0.14);color:#f44336;border-color:rgba(255,255,255,0.36)}.dSWMd._Dp6Z._1fu45{background:rgba(255,255,255,0.14);color:#f10;border-color:rgba(255,255,255,0.14)}.dSWMd._2h7G1,.dSWMd._3l0qB,.dSWMd.SPPpF{background:rgba(255,255,255,0.14);color:#fff;border:1px solid rgba(255,255,255,0.14)}.dSWMd._2h7G1:hover,.dSWMd._3l0qB:hover,.dSWMd.SPPpF:hover{background:rgba(255,255,255,0.36);border-color:rgba(255,255,255,0.36)}.dSWMd._2h7G1._1mQgR,.dSWMd._3l0qB._1mQgR,.dSWMd.SPPpF._1mQgR{background:rgba(0,0,0,0.32);color:#f44336;border-color:rgba(0,0,0,0.32)}.dSWMd._2h7G1._3MgRT,.dSWMd._3l0qB._3MgRT,.dSWMd.SPPpF._3MgRT{cursor:not-allowed}.dSWMd._1H-Kc{background:rgba(255,255,255,0.14);color:#fff;border:1px solid rgba(255,255,255,0.14)}.dSWMd._1H-Kc:hover{background:rgba(255,255,255,0.36);border-color:rgba(255,255,255,0.36)}.dSWMd._1H-Kc._1fu45{background:#287eff;color:#fff;border-color:#287eff}.dSWMd._1H-Kc._3Jc4z{background:#07bbc7;color:#fff;border-color:#07bbc7}.dSWMd._1H-Kc._2NzHI{height:14px;padding:0;min-height:12px !important}.dSWMd._1H-Kc._3T9Er{border-top-left-radius:0;border-top-right-radius:0}.dSWMd._1H-Kc.Hfemg{border-bottom-right-radius:0;border-bottom-left-radius:0}.dSWMd.zZvww{background:#287eff;color:#fff;height:28px;border:1px solid rgba(255,255,255,0.14)}.dSWMd._1Bz2S{background:transparent;color:rgba(255,255,255,0.36);border:1px solid rgba(255,255,255,0.14)}.dSWMd._1Bz2S:hover{background:rgba(255,255,255,0.14);color:#fff;border-color:rgba(255,255,255,0.36)}.dSWMd._1oKQj{background:#006d05;color:#fff}.dSWMd._1oKQj:hover{background:#1bc321}.dSWMd._2zXnM{background:#2459a7;color:#fff}.dSWMd._2zXnM:hover{background:#287eff}.dSWMd._2MBVf{background:#f3c41e;color:#fff}.dSWMd._2MBVf:hover{background:#f7d96f}.dSWMd._2xRW0{background:#f44336;color:#fff}.dSWMd._2xRW0:hover{background:#f8877e}.DgqUN{position:relative;padding:10px 10px 10px 25px;background:lightgoldenrodyellow;font-size:12px;text-align:center;cursor:default;z-index:1}.DgqUN ._3un0q{margin:0 5px 0 -15px}.DgqUN ._2ExH-{justify-content:space-evenly}._2miVi{display:block;padding:10px 10px 10px 50px;color:inherit}._2miVi:hover{background-color:#eee;color:inherit;text-decoration:none}._1UrW_{display:none !important}._3-mMC>*{transform:rotate(-180deg)}._7rkpe{position:fixed;flex:1;z-index:1090}._7rkpe._1FN0y{width:100%;height:calc(100% - 68px);top:0;left:0;z-index:15}._3nz-x{padding:16px;text-align:center;width:100%;height:100%;display:flex;align-items:center}._3MvZj{flex:1}._3MvZj._3In0P *{transition:none}._3MvZj>div{background:rgba(0,0,0,0.85)}._3MvZj ._1l4oF,._3MvZj ._1l4oF *,._3MvZj ._1ZS3z,._3MvZj ._1ZS3z *,._3MvZj ._2E1Ht,._3MvZj ._2E1Ht *{display:flex;flex-direction:column;box-sizing:border-box}._3MvZj ._1l4oF{flex-direction:row;justify-content:space-between;height:28px;width:100%;max-width:100%;padding:0 5px;background:#000;color:#fff;font-size:16px;font-weight:600;line-height:20px;opacity:1;transition:all ease 0.2s;transition:width 0s}._3MvZj ._1l4oF._3Qkkp{position:absolute;top:-28px;left:0}._3MvZj ._1l4oF.oE1_F{top:-23px;width:auto;height:24px;margin-bottom:0;padding:0;border-radius:3px 3px 0 0}._3MvZj ._1l4oF._3kAvP{width:100%}._3MvZj ._1l4oF>*{flex-direction:row;align-items:center;height:100%}._3MvZj ._1l4oF .kYSgL{width:auto}._3MvZj ._1l4oF ._10h6q:first-of-type{padding-left:5px}._3MvZj ._1l4oF ._10h6q:last-of-type{padding-right:5px}._3MvZj ._1l4oF .kYSgL>div+div{margin-left:6px}._3MvZj ._1l4oF .bzjJk{max-width:100%;margin-left:21px}._3MvZj ._1l4oF .bzjJk ._3MJPl{margin:6px 10px}._3MvZj ._1l4oF .bzjJk ._2659f{flex-direction:row;cursor:pointer;width:auto;height:24px;display:flex;flex-shrink:0;margin-left:15px;padding:0 10px;align-items:center;background:#287eff;border-radius:5px;color:white;font-size:1.2rem;text-shadow:none;opacity:1;transition:background 0.2s}._3MvZj ._1l4oF .bzjJk ._2659f .IYk41{vertical-align:middle;padding-left:5px;display:flex;align-items:center}._3MvZj ._1l4oF .bzjJk ._2Jgdd{display:block;margin-left:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}._3MvZj ._1l4oF .bzjJk ._2Jgdd:hover{text-decoration:underline;cursor:pointer}._3MvZj ._1l4oF ._1dce9 div{justify-content:center;align-items:center;opacity:0.65}._3MvZj ._1l4oF ._1dce9 div:hover{opacity:1;cursor:pointer}._3MvZj ._1l4oF ._1dce9 div._2cHMG{cursor:default;pointer-events:none;opacity:0.25}._3MvZj ._1l4oF ._1dce9 ._2boBo{margin:2px 0;padding:2px;border-radius:3px;background:rgba(255,255,255,0.14)}._3MvZj ._1l4oF ._1dce9 ._2boBo:hover,._3MvZj ._1l4oF ._1dce9 ._2boBo.zvmUl{background:#287eff}._3MvZj ._1l4oF ._1dce9 ._25EFt svg{width:18px;height:18px}._3MvZj ._1l4oF ._1dce9>*+*{margin-left:5px}._3MvZj ._1ZS3z{flex:1}._3MvZj ._1ZS3z._4bZO8{flex-direction:row}._3MvZj ._1ZS3z.pdnrL{flex-direction:column}._3MvZj ._1ZS3z._3VJkf{height:100%;width:100%}._3MvZj ._1ZS3z>div{display:grid;align-items:center;max-height:100%;max-width:100%}._3MvZj ._1ZS3z ._227cb{scrollbar-width:none}._3MvZj ._1ZS3z ._227cb::-webkit-scrollbar{height:0;width:0}._3MvZj ._1ZS3z ._11Tnb>div,._3MvZj ._1ZS3z ._227cb>div{min-height:45px;min-width:45px}._3MvZj ._2E1Ht{flex-direction:row;align-items:center;height:40px;width:100%;padding:5px 6px;background:#000;transition:all ease 0.2s, width ease 0.1s}._3MvZj ._2E1Ht.oE1_F{display:none}._3MvZj ._2E1Ht>button+button{margin-left:4px}._3MvZj ._2E1Ht button{justify-content:center;align-items:center;height:28px;max-height:100%;width:32px;border-radius:5px;text-align:center;line-height:0;cursor:pointer}._3MvZj ._2XqcQ{min-width:26px;min-height:26px}._2QDus{display:none;position:fixed;z-index:1091;border:4px solid #287eff;touch-action:none;pointer-events:none}\n",""]),exports.locals={conferenceContainer:"_3fUwn",column:"_1wU04",fullScreen:"_1nzT6",spinner:"_3EaVg",element:"_1wVac",selected:"_9Z6tR",interrupted:"_1v2Q3",inactive:"QmNwu",restoring:"_119I3",muted_speaking:"iCQkq",fill:"_2tZCF",no_stream:"_16Ir0",image:"_3M1aK",large:"_2v6WI",name:"_3b7AO",stream:"_2_xu2",settings:"MKk4r",faded:"_3jmmi",area:"_1ZS3z",topLeft:"_2-E_F",topRight:"pUM8j",bottomLeft:"_3vyrT",bottomRight:"_3nvYd",button:"URvyK",togglePin:"_3FeIr",autoSelect:"_1DDGj",expand:"_34ZS6",options:"_1gNu6",microphone:"_2h7G1",no:"_22FE0",muted:"_8-FXr",speaking:"_1RsbK",volume:"_3ULdk",preview:"_3zaeD",endMoving:"_3M1fT",main:"_11Tnb",centered:"BEX-m",shareContainer:"_3bpvr",buttonMargin:"_2rNyd",callButton:"dSWMd",rec:"_Dp6Z",working:"_1fu45",sound:"_3l0qB",camera:"SPPpF",disabled:"_1mQgR",cursorNotAllowed:"_3MgRT",screenShare:"_1H-Kc",workingSmartShare:"_3Jc4z",showBoth:"_2NzHI",screenShareWithSmart:"_3T9Er",smartShareWithScreen:"Hfemg",scheduleButton:"zZvww",chat:"_1Bz2S",green:"_1oKQj",blue:"_2zXnM",yellow:"_2MBVf",red:"_2xRW0",screenShareDescription:"DgqUN",infoIcon:"_3un0q",downloadLinks:"_2ExH-",shareWithAppButton:"_2miVi",hide:"_1UrW_",callManagerToggle:"_3-mMC",container_background:"_7rkpe",containerFullscreen:"_1FN0y",Reconnect_Wrapper:"_3nz-x",container:"_3MvZj",resizing:"_3In0P",top:"_1l4oF",bottom:"_2E1Ht",float:"_3Qkkp",compact:"oE1_F",fullWidth:"_3kAvP",callIndicators:"kYSgL",callIndicators__item:"_10h6q",left:"bzjJk",time:"_3MJPl",return_mode_button:"_2659f",presentation_button:"IYk41",roomName:"_2Jgdd",right:"_1dce9",disabledTop:"_2cHMG",toggleAutoSelect:"_2boBo",active:"zvmUl",videoView:"_25EFt",horizontal:"_4bZO8",vertical:"pdnrL",full:"_3VJkf",side:"_227cb",callManagerButton:"_2XqcQ",resizePreview:"_2QDus"},module.exports=exports},4282:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(1),react_default=__webpack_require__.n(react),react_dom=__webpack_require__(58),prop_types=__webpack_require__(2),prop_types_default=__webpack_require__.n(prop_types),withStyles=__webpack_require__(26),withStyles_default=__webpack_require__.n(withStyles),classnames=__webpack_require__(22),classnames_default=__webpack_require__.n(classnames),loadable_esm=__webpack_require__(500),makeStyles=__webpack_require__(1121),immutableUtils=__webpack_require__(4),ToastService=__webpack_require__(336),toast_const=__webpack_require__(78),browser_compat_utils=__webpack_require__(170),miscUtils=__webpack_require__(9),mobileDetect=__webpack_require__(137),system=__webpack_require__(45),calls=__webpack_require__(2255),blockOverscrollPageRefresh=function blockOverscrollPageRefresh(){document.body.classList.add("overscrollBlocked")},unblockOverscrollPageRefresh=function unblockOverscrollPageRefresh(){document.body.classList.remove("overscrollBlocked")},performanceUtils=__webpack_require__(825),hammer=__webpack_require__(4266),hammer_default=__webpack_require__.n(hammer),ConnectSceneService=__webpack_require__(77),ConfirmModal=__webpack_require__(1047),CallsService=__webpack_require__(258),localization=__webpack_require__(6),types=__webpack_require__(11),PopupChatService=__webpack_require__(802),ContextMenuService=__webpack_require__(305),modals_const=__webpack_require__(98),UserWorkspacesService=__webpack_require__(381),CommunitySceneService=__webpack_require__(2300),community_const=__webpack_require__(239),RootSceneService=__webpack_require__(503),ContactsService=__webpack_require__(2303),sizeConstants=__webpack_require__(653),es=__webpack_require__(75),MediaDevicesHelper=__webpack_require__(132),member=__webpack_require__(418),Workspace=__webpack_require__(32),AccessType=__webpack_require__(48),values=__webpack_require__(2254),CallPreview=__webpack_require__(4053),CallPreview_default=__webpack_require__.n(CallPreview),AcrIcon=__webpack_require__(222),jsx_runtime=__webpack_require__(0);function CallPreviewHeader(props){var self=props.self,methods=props.methods;return Object(jsx_runtime.jsx)(react_default.a.Fragment,{children:Object(jsx_runtime.jsxs)("div",{className:classnames_default()(CallPreview_default.a.top,CallPreview_default.a.topOverwrite),children:[self.workspace&&Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.left,children:Object(jsx_runtime.jsx)("div",{className:classnames_default()(CallPreview_default.a.roomName,CallPreview_default.a.callPreviewTitle),children:Object(localization.a)("workspaces","call_preview")})}),Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.showAll,onClick:methods.onCancelCall,children:Object(jsx_runtime.jsx)(AcrIcon.a,{icon:"cross"})})]})})}CallPreviewHeader.propTypes={self:prop_types_default.a.object,methods:prop_types_default.a.object},CallPreviewHeader.__docgenInfo={description:"",methods:[],displayName:"CallPreviewHeader",props:{self:{type:{name:"object"},required:!1,description:""},methods:{type:{name:"object"},required:!1,description:""}}};var CallPreview_CallPreviewHeader=withStyles_default()(CallPreview_default.a)(CallPreviewHeader),Tooltip=__webpack_require__(3926),browserDetect=__webpack_require__(4080),ThumbnailService=__webpack_require__(67),Checkbox=__webpack_require__(2286),InfoIcon_InfoIcon=function InfoIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$width=_ref.width,width=void 0===_ref$width?12:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?12:_ref$height,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"#F44336":_ref$fill,_ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style;return Object(jsx_runtime.jsxs)("svg",{style:style,width:width,height:height,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(jsx_runtime.jsx)("path",{d:"M6.03516 2.56641C6.27462 2.56641 6.46875 2.76053 6.46875 3V7.17188C6.46875 7.41134 6.27462 7.60547 6.03516 7.60547C5.79569 7.60547 5.60156 7.41134 5.60156 7.17188L5.60156 3C5.60156 2.76053 5.79569 2.56641 6.03516 2.56641Z",fill:"#F44336"}),Object(jsx_runtime.jsx)("path",{d:"M5.99414 9.39844C6.27568 9.39844 6.50391 9.17021 6.50391 8.88867C6.50391 8.60714 6.27568 8.37891 5.99414 8.37891C5.7126 8.37891 5.48438 8.60714 5.48438 8.88867C5.48438 9.17021 5.7126 9.39844 5.99414 9.39844Z",fill:"#F44336"}),Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C9.31371 12 12 9.31371 12 6C12 2.68629 9.31371 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12ZM6 11.1328C8.83477 11.1328 11.1328 8.83477 11.1328 6C11.1328 3.16523 8.83477 0.867188 6 0.867188C3.16523 0.867188 0.867188 3.16523 0.867188 6C0.867188 8.83477 3.16523 11.1328 6 11.1328Z",fill:fill})]})};InfoIcon_InfoIcon.__docgenInfo={description:"",methods:[],displayName:"InfoIcon"};var Icons_InfoIcon=InfoIcon_InfoIcon,CameraIcon=__webpack_require__(2405),ArrowIcon=__webpack_require__(2260),MicrophoneIcon=__webpack_require__(1123),SpeakerIcon_SpeakerIcon=function SpeakerIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$working=_ref.working,working=void 0!==_ref$working&&_ref$working,_ref$volume=_ref.volume,volume=void 0===_ref$volume?"high":_ref$volume,_ref$width=_ref.width,width=void 0===_ref$width?24:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?24:_ref$height,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"#fff":_ref$fill,_ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style;return working?"high"==volume?Object(jsx_runtime.jsxs)("svg",{style:style,width:width,height:height,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.1914 5.00897L8.58302 9.04359H4.83203V14.956H8.58303L13.1914 18.9906V5.00897ZM12.7253 3.49608C13.4703 2.8438 14.6367 3.37289 14.6367 4.36309V19.6365C14.6367 20.6267 13.4703 21.1557 12.7253 20.5035L8.03974 16.4013H4.59766C3.92888 16.4013 3.38672 15.8592 3.38672 15.1903V8.80922C3.38672 8.14046 3.92886 7.59828 4.59766 7.59828H8.03974L12.7253 3.49608C12.7253 3.49608 12.7253 3.49608 12.7253 3.49608Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M15.75 17.3903C18.6049 17.1523 20.8477 14.7597 20.8477 11.8433C20.8477 8.92696 18.6049 6.53442 15.75 6.29639V7.7486C17.8053 7.9813 19.4023 9.72582 19.4023 11.8433C19.4023 13.9609 17.8053 15.7054 15.75 15.9381V17.3903Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M15.75 14.399C16.9609 14.1783 17.8789 13.1182 17.8789 11.8436C17.8789 10.5689 16.9609 9.50877 15.75 9.28809V10.7905C16.1528 10.9701 16.4336 11.374 16.4336 11.8436C16.4336 12.3131 16.1528 12.717 15.75 12.8966V14.399Z",fill:fill})]}):Object(jsx_runtime.jsxs)("svg",{style:style,width:width,height:height,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.1914 5.00897L8.58302 9.04359H4.83203V14.956H8.58303L13.1914 18.9906V5.00897ZM12.7253 3.49608C13.4703 2.8438 14.6367 3.37289 14.6367 4.36309V19.6365C14.6367 20.6267 13.4703 21.1557 12.7253 20.5035L8.03974 16.4013H4.59766C3.92888 16.4013 3.38672 15.8592 3.38672 15.1903V8.80922C3.38672 8.14046 3.92886 7.59828 4.59766 7.59828H8.03974L12.7253 3.49608C12.7253 3.49608 12.7253 3.49608 12.7253 3.49608Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M15.75 14.399C16.9609 14.1783 17.8789 13.1182 17.8789 11.8436C17.8789 10.5689 16.9609 9.50877 15.75 9.28809V10.7905C16.1528 10.9701 16.4336 11.374 16.4336 11.8436C16.4336 12.3131 16.1528 12.717 15.75 12.8966V14.399Z",fill:fill})]}):Object(jsx_runtime.jsx)("svg",{style:style,width:width,height:height,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.73063 16.4014L3.52112 19.6073C3.23874 19.8893 3.23848 20.3469 3.52054 20.6293C3.80259 20.9116 4.26015 20.9119 4.54253 20.6298L8.43198 16.7448L12.7253 20.5036C13.4703 21.1558 14.6367 20.6268 14.6367 19.6366V10.5471L15.75 9.43512V10.7907C16.1528 10.9702 16.4336 11.3741 16.4336 11.8437C16.4336 12.3132 16.1528 12.7171 15.75 12.8967V14.3991C16.9609 14.1784 17.8789 13.1183 17.8789 11.8437C17.8789 10.6122 17.022 9.58083 15.8718 9.31344L17.061 8.12562C18.446 8.78979 19.4023 10.205 19.4023 11.8437C19.4023 13.9612 17.8053 15.7057 15.75 15.9384V17.3906C18.6049 17.1526 20.8477 14.76 20.8477 11.8437C20.8477 9.80979 19.7569 8.0307 18.1284 7.05947L20.6684 4.52234C20.9508 4.24028 20.951 3.78272 20.669 3.50035C20.3869 3.21797 19.9294 3.21771 19.647 3.49977L16.6871 6.4563C16.384 6.37743 16.0709 6.32346 15.75 6.29671V7.39231L14.6367 8.50432V4.36322C14.6367 3.37301 13.4703 2.84392 12.7253 3.4962L8.03974 7.5984H4.59766C3.92887 7.5984 3.38672 8.14058 3.38672 8.80934V15.1905C3.38672 15.8593 3.92889 16.4014 4.59766 16.4014H6.73063ZM8.58303 9.04372L13.1914 5.00909V9.94799L8.17759 14.9561H4.83204V9.04372H8.58303ZM13.1914 11.9908V18.9907L9.45685 15.7211L13.1914 11.9908Z",fill:"#f44336"})})};SpeakerIcon_SpeakerIcon.__docgenInfo={description:"",methods:[],displayName:"SpeakerIcon"};var Icons_SpeakerIcon=SpeakerIcon_SpeakerIcon,PlayIcon_PlayIcon=function PlayIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$width=_ref.width,width=void 0===_ref$width?9:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?12:_ref$height,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"white":_ref$fill,_ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style;return Object(jsx_runtime.jsx)("svg",{style:style,width:width,height:height,viewBox:"0 0 9 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(jsx_runtime.jsx)("path",{d:"M9 6L-4.89399e-07 11.1962L-3.51373e-08 0.803847L9 6Z",fill:fill})})};PlayIcon_PlayIcon.__docgenInfo={description:"",methods:[],displayName:"PlayIcon"};var Icons_PlayIcon=PlayIcon_PlayIcon,Spinner=__webpack_require__(416),lib=__webpack_require__(17),Avatar=__webpack_require__(508),Conference=__webpack_require__(4046),Conference_default=__webpack_require__.n(Conference);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Stream_ConferenceStream=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ConferenceStream,_React$Component);var _super=_createSuper(ConferenceStream);function ConferenceStream(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ConferenceStream),(_this=_super.call(this,props)).videoRef=react_default.a.createRef(),_this.audioRef=react_default.a.createRef(),_this.callService=props.getBeanInstance(types.a),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ConferenceStream,[{key:"componentDidMount",value:function componentDidMount(){this.updateVideoStream(),this.updateAudioStream()}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState,nextContext){return!Object(performanceUtils.a)(this.props,nextProps,["avatarStyle"],[],[],!0)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){this.updateVideoStream(),this.updateAudioStream()}},{key:"updateVideoStream",value:function updateVideoStream(){var stream,jitsiStream,participant=this.callService.getParticipant(this.props.id.split("/")[0]);this.props.beforeCallStream?stream=this.props.beforeCallStream:"SCREEN"!==this.props.id.split("/")[1]?(stream=participant&&participant.get("stream")&&participant.get("stream").stream,jitsiStream=participant&&participant.get("stream")):(stream=participant&&participant.get("screenShareStream")&&participant.get("screenShareStream").stream,jitsiStream=participant&&participant.get("screenShareStream")),this.videoRef.current.srcObject!==stream&&(this.props.beforeCallStream?this.videoRef.current.srcObject=stream:jitsiStream&&jitsiStream.attach(this.videoRef.current))}},{key:"updateAudioStream",value:function updateAudioStream(){var participant=this.callService.getParticipant(this.props.id.split("/")[0]),audioStream=participant&&participant.get("audioStream")&&participant.get("audioStream").stream;this.audioRef.current.srcObject!==audioStream&&(this.audioRef.current.srcObject=audioStream)}},{key:"render",value:function render(){var _this$props=this.props,stream=_this$props.stream,sound=_this$props.sound,showVideo=_this$props.showVideo,image=_this$props.image,avatarStyle=_this$props.avatarStyle,connectionStatus=_this$props.connectionStatus,onClick=_this$props.onClick,onDoubleClick=_this$props.onDoubleClick,beforeCallStream=_this$props.beforeCallStream,id=_this$props.id,isMain=_this$props.isMain,isScreenShare=_this$props.isScreenShare,streamId=null,audioId=null;id&&(streamId="video-".concat(id),audioId="audio-".concat(id));var thisParticipant=id.split("/")[0]===this.callService.getMyId(),hide=!stream&&!beforeCallStream||!showVideo||connectionStatus!==CallsService.e.ACTIVE;return Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[Object(jsx_runtime.jsx)("video",{id:streamId,className:classnames_default()(_defineProperty({},Conference_default.a.hide,hide),isMain&&isScreenShare&&"screen-share-video-desktop"),ref:this.videoRef,playsInline:!0,autoPlay:!0,muted:!0,onClick:onClick,onDoubleClick:onDoubleClick}),!1,Object(jsx_runtime.jsx)("audio",{id:audioId,className:"conference-audio-element",ref:this.audioRef,style:{display:"none"},autoPlay:!0,muted:!sound||thisParticipant}),Object(jsx_runtime.jsx)("div",{className:classnames_default()(Conference_default.a.no_stream,_defineProperty({},Conference_default.a.hide,stream&&showVideo)),style:avatarStyle,children:Object(jsx_runtime.jsx)("div",{className:classnames_default()(Conference_default.a.image),children:Object(jsx_runtime.jsx)(Avatar.a,{src:image,imgSize:ThumbnailService.c.SIZE_240})})})]})}}]),ConferenceStream}(react_default.a.Component);_defineProperty(Stream_ConferenceStream,"propTypes",{selectedCallProvider:prop_types_default.a.string,style:prop_types_default.a.object,stream:prop_types_default.a.any,beforeCallStream:prop_types_default.a.object,audioStream:prop_types_default.a.any,sound:prop_types_default.a.bool,image:prop_types_default.a.string,showVideo:prop_types_default.a.bool,avatarStyle:prop_types_default.a.object,connectionStatus:prop_types_default.a.string,isMain:prop_types_default.a.bool,isScreenShare:prop_types_default.a.bool,onClick:prop_types_default.a.func,onDoubleClick:prop_types_default.a.func}),_defineProperty(Stream_ConferenceStream,"defaultProps",{style:{},sound:!0,stream:null,audioStream:null,beforeCallStream:null,avatarStyle:{},connectionStatus:CallsService.e.ACTIVE,isMain:!1,isScreenShare:!1,onClick:miscUtils.t,onDoubleClick:miscUtils.t}),_defineProperty(Stream_ConferenceStream,"whyDidYouRender",!0),Stream_ConferenceStream.__docgenInfo={description:"",methods:[{name:"updateVideoStream",docblock:null,modifiers:[],params:[],returns:null},{name:"updateAudioStream",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ConferenceStream",props:{style:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},sound:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},stream:{defaultValue:{value:"null",computed:!1},type:{name:"any"},required:!1,description:""},audioStream:{defaultValue:{value:"null",computed:!1},type:{name:"any"},required:!1,description:""},beforeCallStream:{defaultValue:{value:"null",computed:!1},type:{name:"object"},required:!1,description:""},avatarStyle:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},connectionStatus:{defaultValue:{value:"ParticipantConnectionStatus.ACTIVE",computed:!0},type:{name:"string"},required:!1,description:""},isMain:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isScreenShare:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{defaultValue:{value:"noop",computed:!0},type:{name:"func"},required:!1,description:""},onDoubleClick:{defaultValue:{value:"noop",computed:!0},type:{name:"func"},required:!1,description:""},selectedCallProvider:{type:{name:"string"},required:!1,description:""},image:{type:{name:"string"},required:!1,description:""},showVideo:{type:{name:"bool"},required:!1,description:""}}};var Stream=withStyles_default()(Conference_default.a)(Object(lib.withInject)(Stream_ConferenceStream)),SvgIcon=__webpack_require__(811);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){HashTag_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function HashTag_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var HashTag_HashtagIcon=function HashtagIcon(props){return Object(jsx_runtime.jsx)(SvgIcon.a,_objectSpread(_objectSpread({},props),{},{children:Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",d:"M8.346 10l-.705 4H5v2h2.288l-.662 3.757 1.97.347L9.319 16h3.97l-.663 3.757 1.97.347.723-4.104H19v-2h-3.328l.705-4H19V8h-2.27l.644-3.653L15.404 4 14.7 8h-3.97l.645-3.653L9.404 4 8.7 8H5v2h3.346zm6 0h-3.969l-.705 4h3.97l.704-4z",clipRule:"evenodd"})}))};HashTag_HashtagIcon.__docgenInfo={description:"",methods:[],displayName:"HashtagIcon"};var HashTag=HashTag_HashtagIcon;function Lock_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Lock_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Lock_ownKeys(Object(source),!0).forEach((function(key){Lock_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Lock_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function Lock_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Lock_LockIcon=function LockIcon(props){return Object(jsx_runtime.jsxs)(SvgIcon.a,Lock_objectSpread(Lock_objectSpread({viewBox:"0 0 17 21"},props),{},{children:[Object(jsx_runtime.jsx)("path",{d:"M9.172 15.06a1.5 1.5 0 10-1.734 0v.792a.867.867 0 001.734 0v-.792z"}),Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",d:"M3.219 8.656V5.902a5.074 5.074 0 0110.148 0v2.754h.61a2.39 2.39 0 012.39 2.39v7.009a2.39 2.39 0 01-2.39 2.39H2.609a2.39 2.39 0 01-2.39-2.39v-7.008a2.39 2.39 0 012.39-2.39h.61zm1.734-2.754a3.34 3.34 0 016.68 0v2.754h-6.68V5.902zm-3 5.145c0-.363.294-.656.656-.656h11.368c.362 0 .656.293.656.656v7.008a.656.656 0 01-.656.656H2.609a.656.656 0 01-.656-.656v-7.008z",clipRule:"evenodd"})]}))};Lock_LockIcon.__docgenInfo={description:"",methods:[],displayName:"LockIcon"};var Lock=Lock_LockIcon;function DuringCall_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function DuringCall_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?DuringCall_ownKeys(Object(source),!0).forEach((function(key){DuringCall_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):DuringCall_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function DuringCall_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DuringCall_DuringCallIcon=function DuringCallIcon(props){return Object(jsx_runtime.jsx)(SvgIcon.a,DuringCall_objectSpread(DuringCall_objectSpread({},props),{},{children:Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",d:"M14.19 12.887l-.326.326a2.376 2.376 0 01-.235-.075c-.474-.176-1.096-.546-1.666-1.116-.57-.57-.94-1.193-1.116-1.666a2.376 2.376 0 01-.075-.236l.325-.326a2.422 2.422 0 000-3.425L8.675 3.947a2.422 2.422 0 00-3.425 0L3.763 5.433a1.44 1.44 0 00-.372.638c-.228.745-.11 1.534.08 2.189.209.717.566 1.487 1.017 2.265.906 1.563 2.284 3.319 3.969 5.003 1.684 1.684 3.44 3.063 5.002 3.968.779.452 1.549.809 2.266 1.017.655.19 1.444.308 2.188.08a1.44 1.44 0 00.638-.372l1.487-1.486a2.422 2.422 0 000-3.425l-2.423-2.423a2.422 2.422 0 00-3.425 0zm-.124.361h0zm-3.33-3.347v0zm3.856 4.628l-.001.002c-.463.462-2.231-.069-3.65-1.487-1.419-1.419-1.95-3.188-1.487-3.65l.621-.621a.977.977 0 000-1.382L7.653 4.97a.977.977 0 00-1.381 0L4.785 6.455v.002C4.3 7.873 6.248 11.276 9.48 14.507c3.23 3.23 6.634 5.178 8.048 4.693h.002l1.487-1.486a.976.976 0 000-1.381l-2.423-2.423a.977.977 0 00-1.38 0l-.617.617-.004.003zm-.366-7.826a3.326 3.326 0 012.245.962c.609.608.93 1.407.963 2.245a.488.488 0 10.976-.038 4.302 4.302 0 00-1.248-2.898 4.302 4.302 0 00-2.898-1.247.488.488 0 10-.038.976zm3.77-.718c-1.192-1.192-2.828-1.76-4.596-1.713a.488.488 0 11-.026-.977c1.994-.053 3.904.59 5.312 2 1.409 1.408 2.052 3.317 2 5.312a.488.488 0 01-.977-.026c.047-1.769-.522-3.405-1.713-4.596zm-2.546 3.43a.66.66 0 10-.933-.933.66.66 0 00.933.933z",clipRule:"evenodd"})}))};DuringCall_DuringCallIcon.__docgenInfo={description:"",methods:[],displayName:"DuringCallIcon"};var DuringCall=DuringCall_DuringCallIcon,WorkspaceIcon_WorkspaceIcon=function WorkspaceIcon(_ref){var privacyType=_ref.privacyType;return _ref.hasConference?Object(jsx_runtime.jsx)(DuringCall,{style:{fontSize:18}}):privacyType===Workspace.b.PrivacyType.CLOSED?Object(jsx_runtime.jsx)(Lock,{style:{fontSize:18}}):Object(jsx_runtime.jsx)(HashTag,{style:{fontSize:18}})};WorkspaceIcon_WorkspaceIcon.propTypes={privacyType:prop_types_default.a.oneOfType([prop_types_default.a.shape(Object.keys(Workspace.b.PrivacyType)),prop_types_default.a.string]),hasConference:prop_types_default.a.bool},WorkspaceIcon_WorkspaceIcon.defaultProps={hasConference:!1},WorkspaceIcon_WorkspaceIcon.__docgenInfo={description:"",methods:[],displayName:"WorkspaceIcon",props:{hasConference:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},privacyType:{type:{name:"union",value:[{name:"shape",value:"Object.keys(Workspace.PrivacyType)",computed:!0},{name:"string"}]},required:!1,description:""}}};var common_WorkspaceIcon_WorkspaceIcon=WorkspaceIcon_WorkspaceIcon;function CallPreviewContent_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function CallPreviewContent(props){var state=props.state,error=props.error,properties=props.properties,self=props.self,methods=props.methods,_ref=self&&self.autoCallSettings&&self.autoCallSettings.toJS()||{},camera=_ref.camera,microphone=_ref.microphone,sound=_ref.sound;return Object(jsx_runtime.jsx)(react_default.a.Fragment,{children:Object(jsx_runtime.jsxs)("div",{className:CallPreview_default.a.previewVideoAndDevices,children:[Object(jsx_runtime.jsxs)("div",{className:CallPreview_default.a.previewVideo,children:[Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.room,children:Object(jsx_runtime.jsxs)("div",{children:[Object(localization.a)("workspaces","location"),Object(jsx_runtime.jsxs)("div",{className:CallPreview_default.a.roomFullName,children:[self.community?Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.communityNameImage,children:Object(jsx_runtime.jsx)("img",{src:self.community.get("imageMediaItem")?self.community.getIn(["imageMediaItem","data","source","url"]):ThumbnailService.b,alt:"community_image"})}),Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.communityName,children:self.community.get("title")}),""]}):"",Object(jsx_runtime.jsxs)("span",{className:CallPreview_default.a.roomName,onClick:function handleRoomNameClick(){methods.selectWorkspace(self.workspace)},children:[Object(Workspace.d)(self.workspace)&&Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.iconName,children:Object(jsx_runtime.jsx)(common_WorkspaceIcon_WorkspaceIcon,{privacyType:self.workspace.get("privacyType")})}),self.title]})]})]})}),error.videoError||!camera||state.loading?Object(jsx_runtime.jsxs)("div",{className:CallPreview_default.a.videoErrorContent,children:[!state.loading&&Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.plot}),state.loading?Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.loading,children:Object(jsx_runtime.jsx)(Spinner.a,{})}):Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.previewVideoTitle,children:Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.previewTitleText,children:Object(localization.a)("workspaces","camera_preview")})})]}):Object(jsx_runtime.jsxs)("div",{className:CallPreview_default.a.video,children:[Object(jsx_runtime.jsx)(Stream,{beforeCallStream:state.myStream,showVideo:!0,id:"/main"}),Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.previewVideoTitle,children:Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.previewTitleText,children:Object(localization.a)("workspaces","camera_preview")})})]})]}),Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.previewDevices,children:Object(jsx_runtime.jsxs)("div",{className:CallPreview_default.a.previewDevicesAudioAndVideo,children:[Object(jsx_runtime.jsxs)("div",{className:classnames_default()(CallPreview_default.a.previewVideoDevice,CallPreviewContent_defineProperty({},CallPreview_default.a.error,error.videoError)),children:[Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.icon,children:Object(jsx_runtime.jsx)(CameraIcon.a,{working:self.videoAvailable&&camera&&!error.videoError,width:16,height:16,fill:error.videoError?"#F44336":"rgba(255,255,255,0.62)"})}),Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.label,children:error.videoError?Object(localization.a)("workspaces","camera_error"):properties.videoInputDevice&&properties.videoInputDevice.label}),error.videoError?Object(jsx_runtime.jsx)(Tooltip.a,{title:error.errorMessage,children:Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.showAll,children:Object(jsx_runtime.jsx)(Icons_InfoIcon,{})})}):!state.simpleView&&Object(jsx_runtime.jsx)(Tooltip.a,{title:Object(localization.a)("tooltips","select_camera"),children:Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.showAll,onClick:methods.showVideoInputDevices,children:Object(jsx_runtime.jsx)(ArrowIcon.a,{})})})]}),Object(jsx_runtime.jsxs)("div",{className:classnames_default()(CallPreview_default.a.previewAudioDevice,CallPreviewContent_defineProperty({},CallPreview_default.a.error,error.audioError)),children:[Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.icon,children:Object(jsx_runtime.jsx)(MicrophoneIcon.a,{working:self.audioAvailable&&microphone&&!error.audioError,width:16,height:16,fill:error.audioError?"#f44336":"rgba(255,255,255,0.62)"})}),Object(jsx_runtime.jsxs)("div",{className:CallPreview_default.a.label,children:[!error.audioError&&properties.audioInputDevice&&properties.audioInputDevice.label,!error.audioError&&Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.volume,children:Object(jsx_runtime.jsx)("span",{id:"previewMicrophoneVolume"})}),error.audioError&&Object(localization.a)("workspaces","microphone_error")]}),!state.simpleView&&!error.audioError&&Object(jsx_runtime.jsx)(Tooltip.a,{title:Object(localization.a)("tooltips","select_microphone"),children:Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.showAll,onClick:methods.showAudioInputDevices,children:Object(jsx_runtime.jsx)(ArrowIcon.a,{})})}),error.audioError&&Object(jsx_runtime.jsx)(Tooltip.a,{title:error.errorMessage,children:Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.showAll,children:Object(jsx_runtime.jsx)(Icons_InfoIcon,{})})})]}),!state.simpleView&&browserDetect.a.isChrome()&&Object(jsx_runtime.jsxs)("div",{className:classnames_default()(CallPreview_default.a.previewAudioDevice,CallPreviewContent_defineProperty({},CallPreview_default.a.error,!1)),title:properties.audioOutputDevice&&properties.audioOutputDevice.label,children:[Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.icon,children:Object(jsx_runtime.jsx)(Icons_SpeakerIcon,{working:sound,width:16,height:16,fill:"rgba(255,255,255,0.62)"})}),Object(jsx_runtime.jsxs)("div",{className:CallPreview_default.a.label,children:[!state.simpleView&&properties.audioOutputDevice&&properties.audioOutputDevice.label,Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.volume,children:Object(jsx_runtime.jsx)("span",{id:"previewAudioVolume"})})]}),!state.simpleView&&!error.audioError&&Object(jsx_runtime.jsx)(Tooltip.a,{title:Object(localization.a)("tooltips","select_speaker"),children:Object(jsx_runtime.jsx)("div",{className:CallPreview_default.a.showAll,onClick:methods.showAudioOutputDevices,children:Object(jsx_runtime.jsx)(ArrowIcon.a,{})})})]}),!state.simpleView&&Object(jsx_runtime.jsxs)("div",{className:CallPreview_default.a.audioTest,onClick:methods.audioTest,children:[state.audioTest?Object(jsx_runtime.jsx)("span",{className:CallPreview_default.a.stopIcon}):Object(jsx_runtime.jsx)(Icons_PlayIcon,{style:{marginTop:1,marginRight:5}}),Object(jsx_runtime.jsx)("div",{children:Object(localization.a)("workspaces","audio_test")}),Object(jsx_runtime.jsx)("audio",{ref:methods.setAudioRef,loop:!0,src:"https://d1i26qt4g7gtak.cloudfront.net/acroplia-call-32-mono.mp3"})]}),Object(jsx_runtime.jsxs)("div",{className:CallPreview_default.a.default_settings,children:[Object(jsx_runtime.jsx)(Checkbox.a,{classes:{root:CallPreview_default.a.autosettingsCheckbox},color:"primary",checked:self.hasAutoCall,onChange:methods.toggleHasAutoCall}),Object(localization.a)("workspaces","save_as_default_settings_and_skip_this_call_preview")]})]})})]})})}CallPreviewContent.propTypes={state:prop_types_default.a.object,error:prop_types_default.a.object,properties:prop_types_default.a.object,self:prop_types_default.a.object,methods:prop_types_default.a.object},CallPreviewContent.__docgenInfo={description:"",methods:[],displayName:"CallPreviewContent",props:{state:{type:{name:"object"},required:!1,description:""},error:{type:{name:"object"},required:!1,description:""},properties:{type:{name:"object"},required:!1,description:""},self:{type:{name:"object"},required:!1,description:""},methods:{type:{name:"object"},required:!1,description:""}}};var CallPreview_CallPreviewContent=withStyles_default()(CallPreview_default.a)(CallPreviewContent),TiniButton=__webpack_require__(119),ScreenShareIcon=__webpack_require__(4050),UserList=__webpack_require__(1545);function CallPreviewButtons_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function CallPreviewButtons(props){var self=props.self,methods=props.methods,properties=props.properties,callProviderReady=props.callProviderReady,activeWorkspaceUuid=props.activeWorkspaceUuid,error=props.error,localParticipantConnectionState=props.localParticipantConnectionState,_ref=self&&self.autoCallSettings&&self.autoCallSettings.toJS()||{},camera=_ref.camera,microphone=_ref.microphone,sound=_ref.sound,canShareScreen=!mobileDetect.a.isMobile()&&!mobileDetect.a.isIPad()&&!mobileDetect.a.isTablet(),changeInputDevices=function changeInputDevices(data){methods.onUpdateAutoCallSettings(data)},startCall=Object(react.useCallback)((function(){var isCameraEnabled=camera&&!error.videoError,isMicrophoneEnabled=microphone&&!error.audioError;methods.startCall(isCameraEnabled,isMicrophoneEnabled,!1)}),[camera,microphone,methods,error]),toggleSound=Object(react.useCallback)(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,methods.setSound(!sound);case 2:changeInputDevices({sound:!sound});case 3:case"end":return _context.stop()}}),_callee)}))),[methods,changeInputDevices]),callButtonText=function getCallButtonText(){return activeWorkspaceUuid?Object(localization.a)("common","join"):Object(localization.a)("workspaces","start_call")}();return Object(jsx_runtime.jsxs)("div",{id:"conferenceButtons",className:CallPreview_default.a.previewButtons,children:[Object(jsx_runtime.jsx)(TiniButton.a,{className:classnames_default()(CallPreview_default.a.callPreviewButtons,CallPreview_default.a.call,CallPreview_default.a.green,CallPreviewButtons_defineProperty({},Conference_default.a.disabled,properties.status===types.f.BUSY||localParticipantConnectionState!==CallsService.c.CONNECTION_ESTABLISHED)),disabled:properties.status===types.f.BUSY,onClick:startCall,children:callButtonText}),Object(jsx_runtime.jsx)(TiniButton.a,{className:classnames_default()(Conference_default.a.callButton,CallPreview_default.a.callPreviewButtons,Conference_default.a.microphone,CallPreviewButtons_defineProperty({},Conference_default.a.disabled,!self.audioAvailable||properties.status===types.f.BUSY||error.audioError)),disabled:properties.status===types.f.BUSY||error.audioError,onClick:function onClick(){return changeInputDevices({microphone:!microphone})},title:Object(localization.a)("tooltips","microphone"),children:Object(jsx_runtime.jsx)(MicrophoneIcon.a,{working:microphone,height:18,width:18})}),Object(jsx_runtime.jsx)(TiniButton.a,{className:classnames_default()(Conference_default.a.callButton,CallPreview_default.a.callPreviewButtons,Conference_default.a.camera,CallPreviewButtons_defineProperty({},Conference_default.a.disabled,!self.videoAvailable||properties.status===types.f.BUSY||error.videoError)),disabled:properties.status===types.f.BUSY||error.videoError,onClick:function onClick(){return changeInputDevices({camera:!camera})},title:Object(localization.a)("tooltips","camera"),children:Object(jsx_runtime.jsx)(CameraIcon.a,{working:camera,width:18,height:18,fill:"#fff"})}),Object(jsx_runtime.jsx)(TiniButton.a,{className:classnames_default()(Conference_default.a.callButton,CallPreview_default.a.callPreviewButtons,Conference_default.a.sound,CallPreviewButtons_defineProperty({},Conference_default.a.disabled,!sound)),onClick:toggleSound,title:Object(localization.a)("tooltips","speaker"),children:Object(jsx_runtime.jsx)(Icons_SpeakerIcon,{working:sound,height:18,width:18,fill:"#fff"})}),canShareScreen&&Object(jsx_runtime.jsx)(TiniButton.a,{className:classnames_default()(Conference_default.a.callButton,Conference_default.a.screenShare,CallPreview_default.a.previewScreenShareButton,CallPreviewButtons_defineProperty({},Conference_default.a.disabled,!self.screenShareAvailable||!callProviderReady||properties.status===types.f.BUSY)),disabled:!self.screenShareAvailable||properties.status===types.f.BUSY,title:Object(localization.a)("tooltips","start_screen_sharing"),onClick:methods.triggerShare,children:Object(jsx_runtime.jsx)(ScreenShareIcon.a,{height:18,width:18,working:!0,fill:"#fff"})}),Object(jsx_runtime.jsx)("span",{style:{flex:1,pointerEvents:"none"}}),!properties.workspace.get("activeConferenceUuid")&&properties.workspace.get("type")!==Workspace.a.P2P&&Object(jsx_runtime.jsx)(TiniButton.a,{className:Conference_default.a.callButton,onClick:methods.toggleCallManagerVisibility,title:Object(localization.a)("tooltips","call_manager"),children:Object(jsx_runtime.jsx)(UserList.a,{className:CallPreview_default.a.previewCallManagerButton,color:properties.showCallManager?"primary":"inherit",htmlColor:properties.showCallManager?void 0:"#ffffff"})})]})}CallPreviewButtons.propTypes={self:prop_types_default.a.object,error:prop_types_default.a.object,methods:prop_types_default.a.object,properties:prop_types_default.a.object,callProviderReady:prop_types_default.a.bool,activeWorkspaceUuid:prop_types_default.a.string,getBeanInstance:prop_types_default.a.func,localParticipantConnectionState:prop_types_default.a.string},CallPreviewButtons.__docgenInfo={description:"",methods:[],displayName:"CallPreviewButtons",props:{self:{type:{name:"object"},required:!1,description:""},error:{type:{name:"object"},required:!1,description:""},methods:{type:{name:"object"},required:!1,description:""},properties:{type:{name:"object"},required:!1,description:""},callProviderReady:{type:{name:"bool"},required:!1,description:""},activeWorkspaceUuid:{type:{name:"string"},required:!1,description:""},getBeanInstance:{type:{name:"func"},required:!1,description:""},localParticipantConnectionState:{type:{name:"string"},required:!1,description:""}}};var CallPreview_CallPreviewButtons=withStyles_default()(CallPreview_default.a)(CallPreviewButtons),navigationTheme=__webpack_require__(2240),ThemeProvider=__webpack_require__(2241);function CallPreview_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function CallPreview_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DraggableLoadable=loadable_esm.a.lib((function(){return __webpack_require__.e(0).then(__webpack_require__.t.bind(null,4281,7))}));function CallPreview_CallPreview(props){var containerRef=Object(react.useRef)(null),properties=props.properties,state=props.state,error=props.error,self=props.self,methods=props.methods,activeWorkspaceUuid=props.activeWorkspaceUuid,localParticipantConnectionState=props.localParticipantConnectionState,containerStyles={"--header-height":values.a,width:types.g.POPOUT_WIDTH};Object(react.useEffect)((function(){return window.addEventListener("resize",onWindowResize),function(){window.removeEventListener("resize",onWindowResize)}})),Object(react.useEffect)((function(){setBeforeCallWindowPosition({x:properties.beforeCallWindowPosition.get("x"),y:properties.beforeCallWindowPosition.get("y")})}),[]);var onWindowResize=function onWindowResize(){setBeforeCallWindowPosition({x:properties.beforeCallWindowPosition.get("x"),y:properties.beforeCallWindowPosition.get("y")})},checkOverScreen=function checkOverScreen(position){if(!containerRef.current)return position;var bounds=containerRef.current.getBoundingClientRect(),newPosition=function CallPreview_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?CallPreview_ownKeys(Object(source),!0).forEach((function(key){CallPreview_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):CallPreview_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},position);return position.x<0&&(newPosition.x=0),position.y<0&&(newPosition.y=0),position.x+bounds.width>window.innerWidth&&(newPosition.x=window.innerWidth-bounds.width),position.y+bounds.height>window.innerHeight&&(newPosition.y=window.innerHeight-bounds.height),newPosition},setBeforeCallWindowPosition=function setBeforeCallWindowPosition(data){var position=checkOverScreen({x:data.x,y:data.y});position.x===properties.beforeCallWindowPosition.get("x")&&position.y===properties.beforeCallWindowPosition.get("y")||methods.setBeforeCallWindowPosition(position)},onStop=function onStop(event,data){setBeforeCallWindowPosition({x:data.x,y:data.y})};return Object(jsx_runtime.jsx)(DraggableLoadable,{fallback:Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{}),children:function children(_ref){var Draggable=_ref.default;return Object(jsx_runtime.jsx)(Draggable,{handle:".beforeCall-float",defaultPosition:{x:properties.beforeCallWindowPosition.get("x"),y:properties.beforeCallWindowPosition.get("y")},onStop:onStop,children:Object(jsx_runtime.jsx)("div",{className:classnames_default()(CallPreview_default.a.container,CallPreview_default.a.preview,"beforeCall-float"),style:containerStyles,ref:containerRef,children:Object(jsx_runtime.jsxs)(ThemeProvider.a,{theme:navigationTheme.a,children:[Object(jsx_runtime.jsx)(CallPreview_CallPreviewHeader,{self:self,methods:methods}),Object(jsx_runtime.jsx)(CallPreview_CallPreviewContent,{self:self,state:state,error:error,methods:methods,properties:properties}),Object(jsx_runtime.jsx)(CallPreview_CallPreviewButtons,{self:self,error:error,properties:properties,callProviderReady:properties.callProviderReady,methods:methods,activeWorkspaceUuid:activeWorkspaceUuid,localParticipantConnectionState:localParticipantConnectionState})]})})})}})}CallPreview_CallPreview.propTypes={self:prop_types_default.a.object,methods:prop_types_default.a.object,properties:prop_types_default.a.object,state:prop_types_default.a.object,disabledRecipients:prop_types_default.a.object,error:prop_types_default.a.object,activeWorkspaceUuid:prop_types_default.a.string,localParticipantConnectionState:prop_types_default.a.string},CallPreview_CallPreview.__docgenInfo={description:"",methods:[],displayName:"CallPreview",props:{self:{type:{name:"object"},required:!1,description:""},methods:{type:{name:"object"},required:!1,description:""},properties:{type:{name:"object"},required:!1,description:""},state:{type:{name:"object"},required:!1,description:""},disabledRecipients:{type:{name:"object"},required:!1,description:""},error:{type:{name:"object"},required:!1,description:""},activeWorkspaceUuid:{type:{name:"string"},required:!1,description:""},localParticipantConnectionState:{type:{name:"string"},required:!1,description:""}}};var BeforeCall_CallPreview_CallPreview=withStyles_default()(CallPreview_default.a)(CallPreview_CallPreview),calendarActions=__webpack_require__(352),node_modules_uuid=__webpack_require__(40),config=__webpack_require__(95),fetch=__webpack_require__(8),BaseContextService=(__webpack_require__(5),__webpack_require__(47)),SessionService=__webpack_require__(56);function EventManager_typeof(obj){return(EventManager_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function EventManager_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function EventManager_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function EventManager_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){EventManager_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){EventManager_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function EventManager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function EventManager_setPrototypeOf(o,p){return(EventManager_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function EventManager_createSuper(Derived){var hasNativeReflectConstruct=function EventManager_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=EventManager_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=EventManager_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return EventManager_possibleConstructorReturn(this,result)}}function EventManager_possibleConstructorReturn(self,call){return!call||"object"!==EventManager_typeof(call)&&"function"!=typeof call?function EventManager_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function EventManager_getPrototypeOf(o){return(EventManager_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var EventTypes={REACT_COMPONENT_RENDER_ERROR:"REACT_COMPONENT_RENDER_ERROR",GENERAL_BROWSER_JS_ERROR:"GENERAL_BROWSER_JS_ERROR",TIME_UNTIL_I_AM_ABLE_TO_WRITE_IN_RECENT_CHAT:"TIME_UNTIL_I_AM_ABLE_TO_WRITE_IN_RECENT_CHAT",TIME_FOR_CHAT_LOAD:"TIME_FOR_CHAT_LOAD",TIME_FOR_DOCUMENT_FRESH_LOAD:"TIME_FOR_DOCUMENT_FRESH_LOAD",TIME_FOR_DOCUMENT_LOAD:"TIME_FOR_DOCUMENT_LOAD",TIME_TO_OPEN_ROOM:"TIME_TO_OPEN_ROOM",TIME_TO_SCROLL_UP_MESSAGES:"TIME_TO_SCROLL_UP_MESSAGES",TIME_TO_LOAD_FIRST_BYTE:"TIME_TO_LOAD_FIRST_BYTE",TIME_TO_LOAD_PAGE_RESOURCES:"TIME_TO_LOAD_PAGE_RESOURCES",TIME_TO_LOAD_DOM:"TIME_TO_LOAD_DOM",WEB_VITAL_CLS:"WEB_VITAL_CLS",WEB_VITAL_FID:"WEB_VITAL_FID",WEB_VITAL_LCP:"WEB_VITAL_LCP",TIME_FROM_ACCEPT_CALL_UNTIL_ABLE_TO_SEE_OWN_VIDEO:"TIME_FROM_ACCEPT_CALL_UNTIL_ABLE_TO_SEE_OWN_VIDEO",TIME_FROM_JOIN_WITH_VIDEO_UNTIL_CALL_START:"TIME_FROM_JOIN_WITH_VIDEO_UNTIL_CALL_START",TIME_FROM_JOIN_WITH_AUDIO_UNTIL_CALL_START:"TIME_FROM_JOIN_WITH_AUDIO_UNTIL_CALL_START",TIME_FROM_JOIN_WITHOUT_STREAM_UNTIL_CALL_START:"TIME_FROM_JOIN_WITHOUT_STREAM_UNTIL_CALL_START",CALL_API_RESOURCE:"CALL_API_RESOURCE"};var EventManager_EventManager=function(_StateFullService){!function EventManager_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&EventManager_setPrototypeOf(subClass,superClass)}(EventManager,_StateFullService);var _sendCustomEvent,_closeTimeEvent,_sendEvent,_assembleEvent,_fetchGeo,_fetchIp,_super=EventManager_createSuper(EventManager);function EventManager(context){var _this;return function EventManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EventManager),(_this=_super.call(this,context,"eventManager",function getInitState(){var device=(new(0,__webpack_require__(4268).DeviceUUID)).parse(),uuid=localStorage.getItem("device-uuid");return uuid||(uuid=Object(node_modules_uuid.v4)(),localStorage.setItem("device-uuid",uuid)),{device:device,uuid:uuid}}())).queue=[],_this.interval=setInterval((function(){_this.fetchIp(),_this.fetchGeo(),_this.sendQueueToApi()}),1e4),_this}return function EventManager_createClass(Constructor,protoProps,staticProps){return protoProps&&EventManager_defineProperties(Constructor.prototype,protoProps),staticProps&&EventManager_defineProperties(Constructor,staticProps),Constructor}(EventManager,[{key:"sendQueueToApi",value:function sendQueueToApi(){}},{key:"fetchIp",value:(_fetchIp=EventManager_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var ttl,localhost,currentStorageEntry,currentStorageValue,currentStorageExpiry,response,item;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(ttl=36e5,localhost="127.0.0.1",!Object(system.a)()||!config.a.enableGeolocation){_context.next=21;break}if(currentStorageEntry=localStorage.getItem("geo_ip"),currentStorageValue=currentStorageEntry?JSON.parse(currentStorageEntry).value:null,currentStorageExpiry=currentStorageEntry?JSON.parse(currentStorageEntry).expiry:null,!(currentStorageValue&&currentStorageExpiry>(new Date).getTime())){_context.next=8;break}return _context.abrupt("return",currentStorageValue);case 8:return _context.prev=8,_context.next=11,fetch.a.get("/getIp");case 11:return response=_context.sent,item={value:response.ip,expiry:(new Date).getTime()+ttl},localStorage.setItem("geo_ip",JSON.stringify(item)),_context.abrupt("return",item.value||localhost);case 17:_context.prev=17,_context.t0=_context.catch(8),console.error(_context.t0);case 20:return _context.abrupt("return",currentStorageValue||localhost);case 21:return _context.abrupt("return",localhost);case 22:case"end":return _context.stop()}}),_callee,null,[[8,17]])}))),function fetchIp(){return _fetchIp.apply(this,arguments)})},{key:"fetchGeo",value:(_fetchGeo=EventManager_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var ip,currentStorageEntry,response,item;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!Object(system.a)()||!config.a.enableGeolocation){_context2.next=19;break}return _context2.next=3,this.fetchIp();case 3:if(ip=_context2.sent,!((currentStorageEntry=localStorage.getItem("geo_"+ip))&&Object.keys(JSON.parse(currentStorageEntry)).length>0)){_context2.next=7;break}return _context2.abrupt("return",JSON.parse(currentStorageEntry));case 7:return _context2.prev=7,_context2.next=10,fetch.a.get("/geolocation");case 10:return response=_context2.sent,item={country:response.country_code,region:response.region_code,city:response.city},localStorage.setItem("geo_"+ip,JSON.stringify(item)),_context2.abrupt("return",item);case 16:_context2.prev=16,_context2.t0=_context2.catch(7),console.error(_context2.t0);case 19:return _context2.abrupt("return",{});case 20:case"end":return _context2.stop()}}),_callee2,this,[[7,16]])}))),function fetchGeo(){return _fetchGeo.apply(this,arguments)})},{key:"validateType",value:function validateType(type){if(!type)throw new Error("Event type can not be empty or null");if(!EventTypes[type])throw new Error("Event type should be one of ".concat(JSON.stringify(Object.keys(EventTypes))))}},{key:"assembleEvent",value:(_assembleEvent=EventManager_asyncToGenerator(regeneratorRuntime.mark((function _callee3(type,value){var errorMessage,argument1,id,device,uuid,geo,country,region,city,resourceId,userId,platform,os,heap,cpuCount,deviceType,_args3=arguments;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return errorMessage=_args3.length>2&&void 0!==_args3[2]?_args3[2]:null,argument1=_args3.length>3&&void 0!==_args3[3]?_args3[3]:null,id=_args3.length>4&&void 0!==_args3[4]?_args3[4]:null,device=Object(immutableUtils.f)(this.state.get("device")),uuid=Object(immutableUtils.f)(this.state.get("uuid")),_context3.next=7,this.fetchGeo();case 7:if(_context3.t0=_context3.sent,_context3.t0){_context3.next=10;break}_context3.t0={};case 10:return geo=_context3.t0,country=geo.country,region=geo.region,city=geo.city,resourceId=null!=id?id:window.location.pathname,userId=SessionService.a.getUserUUID(),platform="WEB",os=device.os,heap=window.performance&&window.performance.memory&&window.performance.memory.totalJSHeapSize?window.performance.memory.totalJSHeapSize/1e6:null,cpuCount=navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:null,deviceType="DESKTOP",device.isMobile?deviceType="MOBILE":device.isTablet&&(deviceType="TABLET"),_context3.abrupt("return",{platform:platform,os:os,deviceType:deviceType,eventType:type,deviceId:uuid,value:value,arg1:argument1,country:country,region:region,city:city,heap:heap,cpuCount:cpuCount,browser:device.browser,errorMessage:errorMessage&&errorMessage.length>255?errorMessage.substring(0,255):errorMessage,resourceId:resourceId&&resourceId.length>255?resourceId.substring(0,255):resourceId,userId:userId});case 23:case"end":return _context3.stop()}}),_callee3,this)}))),function assembleEvent(_x,_x2){return _assembleEvent.apply(this,arguments)})},{key:"sendEvent",value:(_sendEvent=EventManager_asyncToGenerator(regeneratorRuntime.mark((function _callee4(event){return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:this.queue.length<1e4&&this.queue.push(event);case 1:case"end":return _context4.stop()}}),_callee4,this)}))),function sendEvent(_x3){return _sendEvent.apply(this,arguments)})},{key:"startTimeEvent",value:function startTimeEvent(type){var id=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,argument1=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.validateType(type);var eventKey=id?"".concat(type,"_").concat(id):type;if(!this.state.get(eventKey)){var eventRecord={type:type,id:id,startDate:new Date,argument1:argument1};this.setState(EventManager_defineProperty({},eventKey,Object(immutableUtils.g)(eventRecord)))}}},{key:"closeTimeEvent",value:(_closeTimeEvent=EventManager_asyncToGenerator(regeneratorRuntime.mark((function _callee5(type){var id,eventKey,record,eventRecord,value,event,_args5=arguments;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(id=_args5.length>1&&void 0!==_args5[1]?_args5[1]:null,this.validateType(type),eventKey=id?"".concat(type,"_").concat(id):type,record=this.state.get(eventKey)){_context5.next=6;break}return _context5.abrupt("return",null);case 6:return eventRecord=Object(immutableUtils.f)(record),value=(new Date).getTime()-eventRecord.startDate.getTime(),_context5.next=10,this.assembleEvent(type,value,null,eventRecord.argument1,id);case 10:return event=_context5.sent,this.setState(EventManager_defineProperty({},eventKey,void 0)),_context5.abrupt("return",this.sendEvent(event));case 14:case"end":return _context5.stop()}}),_callee5,this)}))),function closeTimeEvent(_x4){return _closeTimeEvent.apply(this,arguments)})},{key:"sendCustomEvent",value:(_sendCustomEvent=EventManager_asyncToGenerator(regeneratorRuntime.mark((function _callee6(type,value,errorMessage){var event;return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return this.validateType(type),_context6.next=3,this.assembleEvent(type,value,errorMessage);case 3:return event=_context6.sent,_context6.abrupt("return",this.sendEvent(event));case 6:case"end":return _context6.stop()}}),_callee6,this)}))),function sendCustomEvent(_x5,_x6,_x7){return _sendCustomEvent.apply(this,arguments)})}]),EventManager}(BaseContextService.b),constants=(Object(lib.bean)("eventManager")(EventManager_EventManager),__webpack_require__(42)),utils_startCall=function startCall(props){var camera=props.camera,microphone=props.microphone,screenShare=props.screenShare;return new Promise((function(res){var eventType=EventTypes.TIME_FROM_JOIN_WITHOUT_STREAM_UNTIL_CALL_START;camera?eventType=EventTypes.TIME_FROM_JOIN_WITH_VIDEO_UNTIL_CALL_START:microphone&&(eventType=EventTypes.TIME_FROM_JOIN_WITH_AUDIO_UNTIL_CALL_START),props.eventManager.startTimeEvent(eventType,props.conferenceUuid);var eventCloseHandler=function eventCloseHandler(){return res(!0),props.eventManager.closeTimeEvent(eventType,props.conferenceUuid)},callRecipientsList=function getEnabledMembers(){var members=props.members,disabledRecipients=props.disabledRecipients;return members?members.map(member.a).filter((function(uuid){return!disabledRecipients.has(uuid)})):null}(),callRecipients=callRecipientsList&&callRecipientsList.size?callRecipientsList:null;props.conferenceUuid?props.callsService.joinConference(props.conferenceUuid,{autoStream:!0,video:camera,audio:microphone,screenShare:screenShare}).then(eventCloseHandler,eventCloseHandler):props.connectSceneService.createConference(camera,microphone,screenShare,callRecipients,props.workspaceUuid).then((function(){res(!0)}))}))};function BeforeCall_typeof(obj){return(BeforeCall_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function BeforeCall_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function BeforeCall_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){BeforeCall_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){BeforeCall_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function BeforeCall_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function BeforeCall_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?BeforeCall_ownKeys(Object(source),!0).forEach((function(key){BeforeCall_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):BeforeCall_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function BeforeCall_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function BeforeCall_setPrototypeOf(o,p){return(BeforeCall_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function BeforeCall_createSuper(Derived){var hasNativeReflectConstruct=function BeforeCall_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=BeforeCall_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=BeforeCall_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return BeforeCall_possibleConstructorReturn(this,result)}}function BeforeCall_possibleConstructorReturn(self,call){return!call||"object"!==BeforeCall_typeof(call)&&"function"!=typeof call?BeforeCall_assertThisInitialized(self):call}function BeforeCall_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function BeforeCall_getPrototypeOf(o){return(BeforeCall_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function BeforeCall_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var BeforeCall_BeforeCall=function(_React$Component){!function BeforeCall_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&BeforeCall_setPrototypeOf(subClass,superClass)}(BeforeCall,_React$Component);var _super=BeforeCall_createSuper(BeforeCall);function BeforeCall(props,context){var _this;return function BeforeCall_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BeforeCall),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this=_super.call(this,props,context)),"startCall",(function(camera,microphone,screenShare){utils_startCall(BeforeCall_objectSpread(BeforeCall_objectSpread({},_this.props),{},{callsService:_this.callsService,eventManager:_this.eventManager,conferenceUuid:_this.conferenceUuid,connectSceneService:_this.connectSceneService,camera:camera,microphone:microphone,screenShare:screenShare}))})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"setAudioRef",(function(ref){return _this.audio=ref})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"changeView",(function(){return _this.setState((function(state){return{simpleView:!state.simpleView}}))})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"onOpenScheduleCall",(function(){_this.onCancelCall(),_this.props.dispatch(Object(calendarActions.n)(!0))})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"onStartAutoCall",(function(){_this.stopStream(),_this.stopMicrophone(),_this.startCall(!1,!1)})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"onStartAudioCall",(function(){_this.stopStream(),_this.stopMicrophone(),_this.startCall(!1,!0)})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"onStartVideoCall",(function(){_this.stopStream(),_this.stopMicrophone(),_this.startCall(!0,!0)})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"mapFollowState",(function(followState){var userUuid=_this.props.currentUser.get("uuid");return{activeAreas:followState.filter((function(state){return state.get("userUuid")===userUuid})).reduce((function(out,state){return out[state.get("area")]=state.get("id"),out}),{})}})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"onStartSmartShare",(function(){_this.stopStream(),_this.stopMicrophone(),_this.startCall(!1,!0,!1).then((function(){var wsUuid=_this.props.workspace.get("uuid"),wsSettings=_this.props.userSettings.getIn([constants.g.workspaces,_this.props.workspace.get("uuid")]);_this.callsService.startSmartSharing(_this.mapFollowState,_this.props.currentUser,wsSettings,wsUuid)}))})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"onStartScreenShare",(function(){_this.stopStream(),_this.stopMicrophone(),_this.startCall(!1,!0,!0)})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"onCancelCall",(function(){_this.stopStream(),_this.stopMicrophone(),_this.callsService.waitForConference(!1)})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"getMyStream",function(){var _ref=BeforeCall_asyncToGenerator(regeneratorRuntime.mark((function _callee(_constraints){var constraints,videoInputDevice;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:_this.setState({loading:!0}),_this.state.myStream&&(_this.stopStream(),_this.stopMicrophone()),constraints={},_constraints?constraints=BeforeCall_objectSpread({},_constraints):(videoInputDevice=_this.props.videoInputDevice,mobileDetect.a.isMobile()||mobileDetect.a.isIPad()||mobileDetect.a.isTablet()?constraints.video={facingMode:{exact:videoInputDevice&&(videoInputDevice.label.includes("back")||videoInputDevice.label.includes("Back"))?"environment":"user"},aspectRatio:4/3}:constraints.video={deviceId:!videoInputDevice||videoInputDevice.deviceId,aspectRatio:4/3}),constraints.audio=!1,navigator.mediaDevices.getUserMedia(constraints).then((function(stream){if(_this.props.permissionStatus.get("camera")===MediaDevicesHelper.b.PROMPT&&stream)try{stream.getVideoTracks().forEach((function(track){return track&&track.stop()})),stream.getAudioTracks().forEach((function(track){return track&&track.stop()}))}catch(e){}else stream?(stream.getVideoTracks().forEach((function(track){track.enabled&&"live"===track.readyState||_this.setState({cameraIsBusyWithAnotherApp:!0})})),_this.setState({myStream:stream,loading:!1})):_this.props.permissionStatus.get("camera")===MediaDevicesHelper.b.GRANTED&&_this.props.videoAvailable&&_this.setState({cameraIsBusyWithAnotherApp:!0,loading:!1})})).catch((function(e){console.error(e);var object={loading:!1};e&&_this.props.permissionStatus.get("camera")===MediaDevicesHelper.b.GRANTED&&_this.props.videoAvailable&&(object.cameraIsBusyWithAnotherApp=!0),_this.setState(object)}));case 6:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}()),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"audioStream",null),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"getAudioStream",function(){var _ref2=BeforeCall_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_constraints){var constraints,audioInputDevice;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_this.audioStream&&_this.stopMicrophone(),constraints={},_constraints?constraints=BeforeCall_objectSpread({},_constraints):(audioInputDevice=_this.props.audioInputDevice,constraints.audio={deviceId:!audioInputDevice||audioInputDevice.deviceId}),constraints.video=!1,navigator.mediaDevices.getUserMedia(constraints).then((function(stream){if(_this.props.permissionStatus.get("microphone")===MediaDevicesHelper.b.PROMPT&&stream)try{stream.getVideoTracks().forEach((function(track){return track&&track.stop()})),stream.getAudioTracks().forEach((function(track){return track&&track.stop()}))}catch(e){}else stream&&(_this.audioStream=stream,_this.microphoneSoundLevel(stream))})).catch((function(e){console.error(e)}));case 5:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref2.apply(this,arguments)}}()),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"stopStream",(function(){try{_this.state.myStream&&_this.state.myStream.getVideoTracks().forEach((function(track){return track&&track.stop()}))}catch(e){return void console.error(e)}_this.setState({myStream:null,cameraIsBusyWithAnotherApp:!1})})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"stopMicrophone",(function(){_this.microphoneLevel&&(_this.microphoneLevel.onaudioprocess=null);try{_this.audioStream&&_this.audioStream.getAudioTracks().forEach((function(track){return track&&track.stop()}))}catch(e){return void console.error(e)}_this.audioStream=null;var element=document.getElementById("previewMicrophoneVolume");element&&(element.style.width="0%")})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"microphoneSoundLevel",(function(stream){var audioContext;if(_this.microphoneLevel&&(_this.microphoneLevel.onaudioprocess=null),window.AudioContext?audioContext=new window.AudioContext:window.webkitAudioContext&&(audioContext=new window.webkitAudioContext),audioContext){var analyser=audioContext.createAnalyser(),microphone=audioContext.createMediaStreamSource(stream);_this.microphoneLevel=audioContext.createScriptProcessor(2048,1,1),analyser.smoothingTimeConstant=.8,analyser.fftSize=1024,microphone.connect(analyser),analyser.connect(_this.microphoneLevel),_this.microphoneLevel.connect(audioContext.destination),_this.microphoneLevel.onaudioprocess=function(){var array=new Uint8Array(analyser.frequencyBinCount);analyser.getByteFrequencyData(array);var average=array.reduce((function(s,c){return s+c}),0)/array.length,element=document.getElementById("previewMicrophoneVolume");element&&(element.style.width=average+"%")}}})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"showVideoInputDevices",function(){var _ref3=BeforeCall_asyncToGenerator(regeneratorRuntime.mark((function _callee3(event){var top,left,_yield$_this$callsSer,videoInput,videoInputDevice,items;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return top=event.pageY,left=event.pageX,_context3.next=4,_this.callsService.getDevices();case 4:if(_yield$_this$callsSer=_context3.sent,videoInput=_yield$_this$callsSer.videoInput){_context3.next=8;break}return _context3.abrupt("return");case 8:videoInputDevice=Object(immutableUtils.f)(_this.props.videoInputDevice),items=[],videoInput.map((function(device){items.push({name:device.label,action:function action(){if(videoInputDevice&&device.deviceId!==videoInputDevice.deviceId){_this.callsService.selectVideoInputDevice(device),_this.onUpdateAutoCallSettings({videoInputDevice:device});var constraints={};mobileDetect.a.isMobile()||mobileDetect.a.isIPad()||mobileDetect.a.isTablet()||mobileDetect.a.isIOS()||mobileDetect.a.isAndroid()||mobileDetect.a.isIPhone()?constraints.video={facingMode:{exact:device.label.includes("back")||device.label.includes("Back")?"environment":"user"},aspectRatio:4/3}:constraints.video={deviceId:device.deviceId,aspectRatio:4/3},constraints.audio={deviceId:!_this.props.audioInputDevice||_this.props.audioInputDevice.deviceId},_this.getMyStream(constraints)}},active:videoInputDevice&&device.deviceId===videoInputDevice.deviceId,disabled:videoInputDevice&&device.deviceId===videoInputDevice.deviceId})})),_this.contextMenuService.show({items:items,top:top,left:left});case 12:case"end":return _context3.stop()}}),_callee3)})));return function(_x3){return _ref3.apply(this,arguments)}}()),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"showAudioInputDevices",function(){var _ref4=BeforeCall_asyncToGenerator(regeneratorRuntime.mark((function _callee4(event){var top,left,_yield$_this$callsSer2,audioInput,audioInputDevice,items;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return top=event.pageY,left=event.pageX,_context4.next=4,_this.callsService.getDevices();case 4:if(_yield$_this$callsSer2=_context4.sent,audioInput=_yield$_this$callsSer2.audioInput){_context4.next=8;break}return _context4.abrupt("return");case 8:audioInputDevice=Object(immutableUtils.f)(_this.props.audioInputDevice),items=[],audioInput.map((function(device){items.push({name:device.label,action:function action(){if(audioInputDevice&&device.deviceId!==audioInputDevice.deviceId){_this.callsService.selectAudioInputDevice(device),_this.onUpdateAutoCallSettings({audioInputDevice:device});var constraints={};mobileDetect.a.isMobile()||mobileDetect.a.isIPad()||mobileDetect.a.isTablet()?constraints.video={facingMode:{exact:_this.props.videoInputDevice&&(_this.props.videoInputDevice.label.includes("back")||_this.props.videoInputDevice.label.includes("Back"))?"environment":"user"},aspectRatio:4/3}:constraints.video={deviceId:!_this.props.videoInputDevice||_this.props.videoInputDevice.deviceId,aspectRatio:4/3},constraints.audio={deviceId:device.deviceId},_this.getAudioStream()}},active:audioInputDevice&&device.deviceId===audioInputDevice.deviceId,disabled:audioInputDevice&&device.deviceId===audioInputDevice.deviceId})})),_this.contextMenuService.show({items:items,top:top,left:left});case 12:case"end":return _context4.stop()}}),_callee4)})));return function(_x4){return _ref4.apply(this,arguments)}}()),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"showAudioOutputDevices",function(){var _ref5=BeforeCall_asyncToGenerator(regeneratorRuntime.mark((function _callee5(event){var top,left,_yield$_this$callsSer3,audioOutput,audioOutputDevice,items;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return top=event.pageY,left=event.pageX,_context5.next=4,_this.callsService.getDevices();case 4:if(_yield$_this$callsSer3=_context5.sent,audioOutput=_yield$_this$callsSer3.audioOutput){_context5.next=8;break}return _context5.abrupt("return");case 8:audioOutputDevice=Object(immutableUtils.f)(_this.props.audioOutputDevice),items=[],audioOutput.map((function(device){items.push({name:device.label,action:function action(){audioOutputDevice&&device.deviceId!==audioOutputDevice.deviceId&&(_this.callsService.selectAudioOutputDevice(device),_this.onUpdateAutoCallSettings({audioOutputDevice:device}),_this.audio&&_this.audio.setSinkId(device.deviceId))},active:audioOutputDevice&&device.deviceId===audioOutputDevice.deviceId,disabled:audioOutputDevice&&device.deviceId===audioOutputDevice.deviceId})})),_this.contextMenuService.show({items:items,top:top,left:left});case 12:case"end":return _context5.stop()}}),_callee5)})));return function(_x5){return _ref5.apply(this,arguments)}}()),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"audioTest",(function(){if(_this.audio){var element=document.getElementById("previewAudioVolume");_this.audio.paused?(_this.audio.play(),_this.setState({audioTest:!0}),element&&_this.props.audioOutputDevice&&(element.style.width="100%")):(_this.audio.pause(),_this.setState({audioTest:!1}),element&&(element.style.width="0%"))}})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"hidePopup",(function(){return _this.setState((function(state){return{popup:BeforeCall_objectSpread(BeforeCall_objectSpread({},state.popup),{},{show:!1})}}))})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"showErrorMessage",(function(event){_this.state.popup.show&&_this.hidePopup();var top=_this.props.floatingWindowBounds.get("y")+types.g.POPOUT_HEIGHT+5,left=_this.props.floatingWindowBounds.get("x"),width=types.g.POPOUT_WIDTH;_this.setState({popup:{show:!0,position:{top:top,left:left},size:{width:width}}})})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"toggleCallManagerVisibility",(function(){_this.callsService.toggleCallManagerVisibility()})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"selectWorkspace",(function(workspace){workspace&&_this.connectSceneService.selectWorkspace(workspace)})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"setBeforeCallWindowPosition",(function(position){_this.callsService.setBeforeCallWindowPosition(position),_this.contextMenuService.isShown()&&(mobileDetect.a.isMobile()||mobileDetect.a.isTablet()||mobileDetect.a.isIPad())&&_this.contextMenuService.close()})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"triggerShare",(function(event){_this.contextMenuService.show({top:event.pageY,left:event.pageX,items:[{name:Object(localization.a)("workspaces","screenShareOn"),action:_this.onStartScreenShare,icon:Object(jsx_runtime.jsx)(ScreenShareIcon.a,{working:!0,fill:"#000",width:"18",height:"18"})},{type:"DIVIDER"}]})})),BeforeCall_defineProperty(BeforeCall_assertThisInitialized(_this),"onUpdateAutoCallSettings",(function(data){_this.callsService.onUpdateAutoCallSettings(data),void 0!==data.camera&&(data.camera&&!_this.state.myStream&&_this.getMyStream(),!data.camera&&_this.state.myStream&&_this.stopStream()),void 0!==data.microphone&&(data.microphone&&!_this.audioStream&&_this.getAudioStream(),!data.microphone&&_this.audioStream&&_this.stopMicrophone())})),_this.source=null,_this.microphoneLevel=null,_this.state={myStream:null,simpleView:!1,audioTest:!1,popup:{show:!1,position:{top:0,left:0},size:{width:0}},cameraIsBusyWithAnotherApp:!1,loading:!1},_this.callsService=context.beansContext.getBeanInstance(CallsService.a),_this.modalService=context.beansContext.getBeanInstance(modals_const.a),_this.userWorkspaceService=context.beansContext.getBeanInstance(UserWorkspacesService.a),_this.connectSceneService=context.beansContext.getBeanInstance(ConnectSceneService.a),_this.contextMenuService=context.beansContext.getBeanInstance(ContextMenuService.a),_this.eventManager=context.beansContext.getBeanInstance("eventManager"),_this}return function BeforeCall_createClass(Constructor,protoProps,staticProps){return protoProps&&BeforeCall_defineProperties(Constructor.prototype,protoProps),staticProps&&BeforeCall_defineProperties(Constructor,staticProps),Constructor}(BeforeCall,[{key:"componentDidMount",value:function componentDidMount(){if(!this.state.myStream){var _ref6=this.props.autoCallSettings&&this.props.autoCallSettings.toJS()||{},camera=_ref6.camera,microphone=_ref6.microphone;("boolean"!=typeof camera||camera)&&this.getMyStream(),("boolean"!=typeof microphone||microphone)&&this.getAudioStream()}this.conferenceUuid&&this.eventManager.closeTimeEvent(EventTypes.TIME_FROM_ACCEPT_CALL_UNTIL_ABLE_TO_SEE_OWN_VIDEO,this.conferenceUuid),this.callsService.changeCallManagerDisabledRecipients(new Set(this.getInitialDisabledRecipients()))}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var props=this.props,state=this.state;prevProps.permissionStatus.get("camera")!==props.permissionStatus.get("camera")&&(props.permissionStatus.get("camera")===MediaDevicesHelper.b.DENIED?this.stopStream():this.getMyStream()),prevProps.permissionStatus.get("microphone")!==props.permissionStatus.get("microphone")&&(props.permissionStatus.get("microphone")===MediaDevicesHelper.b.DENIED?this.stopMicrophone():this.getAudioStream()),prevProps.beforeCall!==props.beforeCall&&(props.beforeCall&&!state.myStream?(this.getMyStream(),this.getAudioStream()):this.onCancelCall())}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.stopStream(),this.stopMicrophone()}},{key:"getInitialDisabledRecipients",value:function getInitialDisabledRecipients(){var _this2=this;return this.props.scheduledRecipients?this.props.members.map(member.a).filter((function(uuid){return!_this2.props.scheduledRecipients.includes(uuid)})):[]}},{key:"title",get:function get(){return this.props.workspace&&this.userWorkspaceService.getWSTitle(this.props.workspace.get("uuid"))}},{key:"conferenceUuid",get:function get(){return this.props.workspace&&this.props.workspace.get("activeConferenceUuid")}},{key:"getEnabledMembers",value:function getEnabledMembers(){var _this$props=this.props,members=_this$props.members,disabledRecipients=_this$props.disabledRecipients;return members?members.map(member.a).filter((function(uuid){return!disabledRecipients.has(uuid)})):null}},{key:"isConferenceStarted",value:function isConferenceStarted(){return this.conferenceUuid}},{key:"canStartCall",value:function canStartCall(){return!this.props.workspace||!Object(Workspace.d)(this.props.workspace)||!this.getEnabledMembers()||this.getEnabledMembers().size>1}},{key:"canManageMembersInWorkspace",value:function canManageMembersInWorkspace(){return Object(AccessType.e)(this.props.workspace.accessType,AccessType.c.ADMIN)}},{key:"render",value:function render(){var props=this.props,state=this.state,videoError=props.permissionStatus.get("camera")!==MediaDevicesHelper.b.GRANTED||!props.videoAvailable||state.cameraIsBusyWithAnotherApp,audioError=props.permissionStatus.get("microphone")!==MediaDevicesHelper.b.GRANTED||!props.audioAvailable,errorMessage="";(videoError||audioError)&&(props.videoAvailable||props.audioAvailable?props.videoAvailable?props.audioAvailable||(errorMessage=Object(localization.a)("dialogs","mic_not_found")+". "):errorMessage=Object(localization.a)("dialogs","cam_not_found")+". ":errorMessage=Object(localization.a)("dialogs","cam_not_found")+". "+Object(localization.a)("dialogs","mic_not_found")+". ",props.videoAvailable&&state.cameraIsBusyWithAnotherApp&&(errorMessage+=Object(localization.a)("dialogs","media_device_busy_message").replace("<br/>"," ")+" "),props.permissionStatus.get("camera")!==MediaDevicesHelper.b.GRANTED&&(errorMessage+=Object(localization.a)("dialogs","allow_access_message").replace("<br/>"," ")));var audioAvailable=!(props.permissionStatus.get("microphone")!==MediaDevicesHelper.b.GRANTED||!props.audioAvailable),videoAvailable=!(props.permissionStatus.get("camera")!==MediaDevicesHelper.b.GRANTED||!props.videoAvailable||state.cameraIsBusyWithAnotherApp),screenShareAvailable=!(props.status===types.f.BUSY);return Object(jsx_runtime.jsx)(BeforeCall_CallPreview_CallPreview,{properties:props,state:state,disabledRecipients:props.disabledRecipients,activeWorkspaceUuid:this.conferenceUuid,error:{errorMessage:errorMessage,videoError:videoError,audioError:audioError},localParticipantConnectionState:props.localParticipantConnectionState,self:{title:this.title,workspace:props.workspace,audioAvailable:audioAvailable,videoAvailable:videoAvailable,screenShareAvailable:screenShareAvailable,canStartCall:this.canStartCall(),hasAutoCall:this.props.hasAutoCall,community:this.props.community,autoCallSettings:this.props.autoCallSettings,canManageMembersInWorkspace:this.canManageMembersInWorkspace(),isConferenceStarted:this.isConferenceStarted()},methods:{startCall:this.startCall,smartShareConfig:this.smartShareConfig,toggleSound:this.toggleSound,setSound:this.callsService.setSound,toggleHasAutoCall:this.callsService.toggleHasAutoCall,onUpdateAutoCallSettings:this.onUpdateAutoCallSettings,callsService:this.callsService,showVideoInputDevices:this.showVideoInputDevices,showAudioInputDevices:this.showAudioInputDevices,showAudioOutputDevices:this.showAudioOutputDevices,audioTest:this.audioTest,showErrorMessage:this.showErrorMessage,changeView:this.changeView,onStartVideoCall:this.onStartVideoCall,onStartAudioCall:this.onStartAudioCall,onStartScreenShare:this.onStartScreenShare,onStartSmartShare:this.onStartSmartShare,triggerShare:this.triggerShare,onCancelCall:this.onCancelCall,setAudioRef:this.setAudioRef,hidePopup:this.hidePopup,onOpenScheduleCall:this.onOpenScheduleCall,toggleCallManagerVisibility:this.toggleCallManagerVisibility,setBeforeCallWindowPosition:this.setBeforeCallWindowPosition,selectWorkspace:this.selectWorkspace}})}}]),BeforeCall}(react_default.a.Component);BeforeCall_defineProperty(BeforeCall_BeforeCall,"propTypes",{hasAutoCall:prop_types_default.a.bool,community:prop_types_default.a.object,autoCallSettings:prop_types_default.a.object,audioInputDevice:prop_types_default.a.object,videoInputDevice:prop_types_default.a.object,audioOutputDevice:prop_types_default.a.object,beforeCall:prop_types_default.a.bool,permissionStatus:prop_types_default.a.object,videoAvailable:prop_types_default.a.bool,audioAvailable:prop_types_default.a.bool,floatingWindowBounds:prop_types_default.a.object,isPopout:prop_types_default.a.bool,activeWorkspaceUuid:prop_types_default.a.string,members:prop_types_default.a.object,currentUser:prop_types_default.a.object,workspace:prop_types_default.a.object,disabledRecipients:prop_types_default.a.object,showCallManager:prop_types_default.a.bool,beforeCallWindowPosition:prop_types_default.a.object,localParticipantConnectionState:prop_types_default.a.string}),BeforeCall_defineProperty(BeforeCall_BeforeCall,"contextTypes",{beansContext:prop_types_default.a.object}),BeforeCall_BeforeCall.__docgenInfo={description:"",methods:[{name:"startCall",docblock:null,modifiers:[],params:[{name:"camera",type:null},{name:"microphone",type:null},{name:"screenShare",type:null}],returns:null},{name:"getInitialDisabledRecipients",docblock:null,modifiers:[],params:[],returns:null},{name:"title",docblock:null,modifiers:["get"],params:[],returns:null},{name:"conferenceUuid",docblock:null,modifiers:["get"],params:[],returns:null},{name:"setAudioRef",docblock:null,modifiers:[],params:[{name:"ref",type:null}],returns:null},{name:"changeView",docblock:null,modifiers:[],params:[],returns:null},{name:"getEnabledMembers",docblock:"Returns enabled member's user uuid array\n@return {List<string>|undefined}",modifiers:[],params:[],returns:{description:null,type:{name:"union",elements:[{name:"List",elements:[{name:"string"}]},null]}},description:"Returns enabled member's user uuid array"},{name:"isConferenceStarted",docblock:null,modifiers:[],params:[],returns:null},{name:"onOpenScheduleCall",docblock:null,modifiers:[],params:[],returns:null},{name:"onStartAutoCall",docblock:null,modifiers:[],params:[],returns:null},{name:"onStartAudioCall",docblock:null,modifiers:[],params:[],returns:null},{name:"onStartVideoCall",docblock:null,modifiers:[],params:[],returns:null},{name:"mapFollowState",docblock:null,modifiers:[],params:[{name:"followState",type:null}],returns:null},{name:"onStartSmartShare",docblock:null,modifiers:[],params:[],returns:null},{name:"onStartScreenShare",docblock:null,modifiers:[],params:[],returns:null},{name:"onCancelCall",docblock:null,modifiers:[],params:[],returns:null},{name:"getMyStream",docblock:null,modifiers:["async"],params:[{name:"_constraints",type:null}],returns:null},{name:"getAudioStream",docblock:null,modifiers:["async"],params:[{name:"_constraints",type:null}],returns:null},{name:"stopStream",docblock:null,modifiers:[],params:[],returns:null},{name:"stopMicrophone",docblock:null,modifiers:[],params:[],returns:null},{name:"microphoneSoundLevel",docblock:null,modifiers:[],params:[{name:"stream",type:null}],returns:null},{name:"showVideoInputDevices",docblock:null,modifiers:["async"],params:[{name:"event",type:null}],returns:null},{name:"showAudioInputDevices",docblock:null,modifiers:["async"],params:[{name:"event",type:null}],returns:null},{name:"showAudioOutputDevices",docblock:null,modifiers:["async"],params:[{name:"event",type:null}],returns:null},{name:"audioTest",docblock:null,modifiers:[],params:[],returns:null},{name:"hidePopup",docblock:null,modifiers:[],params:[],returns:null},{name:"showErrorMessage",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"toggleCallManagerVisibility",docblock:null,modifiers:[],params:[],returns:null},{name:"canStartCall",docblock:null,modifiers:[],params:[],returns:null},{name:"selectWorkspace",docblock:null,modifiers:[],params:[{name:"workspace",type:null}],returns:null},{name:"canManageMembersInWorkspace",docblock:null,modifiers:[],params:[],returns:null},{name:"setBeforeCallWindowPosition",docblock:null,modifiers:[],params:[{name:"position",type:null}],returns:null},{name:"triggerShare",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"onUpdateAutoCallSettings",docblock:null,modifiers:[],params:[{name:"data",type:null}],returns:null}],displayName:"BeforeCall",props:{hasAutoCall:{type:{name:"bool"},required:!1,description:""},community:{type:{name:"object"},required:!1,description:""},autoCallSettings:{type:{name:"object"},required:!1,description:""},audioInputDevice:{type:{name:"object"},required:!1,description:""},videoInputDevice:{type:{name:"object"},required:!1,description:""},audioOutputDevice:{type:{name:"object"},required:!1,description:""},beforeCall:{type:{name:"bool"},required:!1,description:""},permissionStatus:{type:{name:"object"},required:!1,description:""},videoAvailable:{type:{name:"bool"},required:!1,description:""},audioAvailable:{type:{name:"bool"},required:!1,description:""},floatingWindowBounds:{type:{name:"object"},required:!1,description:""},isPopout:{type:{name:"bool"},required:!1,description:""},activeWorkspaceUuid:{type:{name:"string"},required:!1,description:""},members:{type:{name:"object"},required:!1,description:""},currentUser:{type:{name:"object"},required:!1,description:""},workspace:{type:{name:"object"},required:!1,description:""},disabledRecipients:{type:{name:"object"},required:!1,description:""},showCallManager:{type:{name:"bool"},required:!1,description:""},beforeCallWindowPosition:{type:{name:"object"},required:!1,description:""},localParticipantConnectionState:{type:{name:"string"},required:!1,description:""}},context:{beansContext:{type:{name:"object"},required:!1}}};var Popup_BeforeCall_BeforeCall=Object(es.b)((function mapStateToProps(state){var callWorkspaceUuid=state.getIn([CallsService.a,"conference","workspaceUuid"]),activeWorkspaceUuid=state.getIn([ConnectSceneService.a,"activeWorkspaceUuid"]),workspace=state.getIn([UserWorkspacesService.b,"workspaces",callWorkspaceUuid||activeWorkspaceUuid]),communities=state.getIn([community_const.b,"communities"]),communitiesReady=state.getIn([community_const.b,"isReady"]),workspaces=state.getIn([UserWorkspacesService.a,"workspaces"]);return{community:function getCommunity(){var communityUuid=null;if(callWorkspaceUuid){var callWorkspace=workspaces.get(callWorkspaceUuid);communityUuid=callWorkspace&&callWorkspace.get("communityUuid")}else if(activeWorkspaceUuid){var activeWorkspace=workspaces.get(activeWorkspaceUuid);communityUuid=activeWorkspace&&activeWorkspace.get("communityUuid")}return communitiesReady&&communityUuid&&communities.get(communityUuid)}(),camera:state.getIn([CallsService.a,"camera"]),autoCallSettings:state.getIn([CallsService.a,"autoCallSettings"]),hasAutoCall:state.getIn([CallsService.a,"hasAutoCall"]),audioInputDevice:state.getIn([CallsService.a,"selectedDevice","audioInputDevice"]),videoInputDevice:state.getIn([CallsService.a,"selectedDevice","videoInputDevice"]),audioOutputDevice:state.getIn([CallsService.a,"selectedDevice","audioOutputDevice"]),beforeCall:state.getIn([CallsService.a,"waiting"]),permissionStatus:state.getIn([CallsService.a,"permissionStatus"]),videoAvailable:state.getIn([CallsService.a,"videoAvailable"]),audioAvailable:state.getIn([CallsService.a,"audioAvailable"]),status:state.getIn([CallsService.a,"status"]),floatingWindowBounds:state.getIn([CallsService.a,"floatingWindowBounds"]),isPopout:state.getIn([CallsService.a,"isPopout"]),participants:state.getIn([CallsService.a,"participants"]),disabledRecipients:state.getIn([CallsService.a,"disabledCallManagerRecipients"]),conference:state.getIn([CallsService.a,"conference"]),scheduledRecipients:state.getIn([CallsService.a,"scheduledRecipients"]),guestMagicLink:state.getIn([CallsService.a,"guestMagicLink"]),callProviderReady:state.getIn([CallsService.a,"callProviderReady"]),callWorkspaceUuid:callWorkspaceUuid,activeWorkspaceUuid:activeWorkspaceUuid,workspace:workspace,members:state.getIn([UserWorkspacesService.a,"workspaces",callWorkspaceUuid,"members"]),currentUser:state.getIn(["session","user"]),userSettings:state.get(constants.f),showCallManager:state.getIn([CallsService.a,"showCallManager"]),beforeCallWindowPosition:state.getIn([CallsService.a,"beforeCallWindowPosition"]),localParticipantConnectionState:state.getIn([CallsService.a,"localParticipantConnectionState"])}}))(BeforeCall_BeforeCall),ContexMenu=__webpack_require__(184),VideoView=__webpack_require__(2293),PopoutIcon=__webpack_require__(2292),PinTopRightIcon=__webpack_require__(2291),PinRightIcon=__webpack_require__(2290),PinLeftIcon=__webpack_require__(2289),ExpandWithBorderIcon=__webpack_require__(2288),MenuItem=__webpack_require__(86),Grid=__webpack_require__(21),Typography=__webpack_require__(85),tooltip_Tooltip=__webpack_require__(829),ConferenceAutoSelectIcon_ConferenceAutoSelectIcon=function ConferenceAutoSelectIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$width=_ref.width,width=void 0===_ref$width?20:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?20:_ref$height,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"#287eff":_ref$fill;return Object(jsx_runtime.jsxs)("svg",{width:width,height:height,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(jsx_runtime.jsx)("path",{d:"M21.6094 1.5C22.0883 1.5 22.4766 1.88825 22.4766 2.36719V8.08594C22.4766 8.56487 22.0883 8.95312 21.6094 8.95312C21.1304 8.95312 20.7422 8.56487 20.7422 8.08594V3.23438L15.8906 3.23438C15.4117 3.23438 15.0234 2.84612 15.0234 2.36719C15.0234 1.88825 15.4117 1.5 15.8906 1.5L21.6094 1.5Z",fill:fill}),Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.2919 8.95184H6.41705C5.96667 8.95184 5.60156 9.31529 5.60156 9.76362V14.2523C5.60156 14.7006 5.96667 15.0641 6.41705 15.0641H9.31225L12.4419 17.5113C12.8615 17.8394 13.4766 17.5418 13.4766 17.0106V6.98944C13.4766 6.4582 12.8616 6.16059 12.4419 6.48875L9.2919 8.95184ZM9.90984 13.3297L11.7422 14.7625V9.23751L9.88948 10.6862H7.33594V13.3297H9.90984Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M14.7891 13.0547C15.3716 13.0547 15.8438 12.5877 15.8438 12.0117C15.8438 11.4357 15.3716 10.9688 14.7891 10.9688V13.0547Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M14.7188 9.46875C16.1317 9.46875 17.2734 10.6093 17.2734 12.0117C17.2734 13.4141 16.1317 14.5547 14.7188 14.5547V15.7266C16.7748 15.7266 18.4453 14.0654 18.4453 12.0117C18.4453 9.958 16.7748 8.29688 14.7188 8.29688V9.46875Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M1.52344 21.6562C1.52344 22.1352 1.91169 22.5234 2.39063 22.5234L8.10938 22.5234C8.58831 22.5234 8.97657 22.1352 8.97657 21.6562C8.97657 21.1773 8.58831 20.7891 8.10938 20.7891L3.25781 20.7891L3.25781 15.9375C3.25781 15.4586 2.86956 15.0703 2.39062 15.0703C1.91169 15.0703 1.52344 15.4586 1.52344 15.9375L1.52344 21.6562Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M22.4766 21.6562C22.4766 22.1352 22.0883 22.5234 21.6094 22.5234H15.8906C15.4117 22.5234 15.0234 22.1352 15.0234 21.6562C15.0234 21.1773 15.4117 20.7891 15.8906 20.7891H20.7422V15.9375C20.7422 15.4586 21.1304 15.0703 21.6094 15.0703C22.0883 15.0703 22.4766 15.4586 22.4766 15.9375V21.6562Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M2.39063 1.5C1.91169 1.5 1.52344 1.88825 1.52344 2.36719V8.08594C1.52344 8.56487 1.91169 8.95313 2.39063 8.95313C2.86956 8.95313 3.25781 8.56487 3.25781 8.08594V3.23438H8.10938C8.58831 3.23438 8.97656 2.84612 8.97656 2.36719C8.97656 1.88825 8.58831 1.5 8.10938 1.5H2.39063Z",fill:fill})]})};ConferenceAutoSelectIcon_ConferenceAutoSelectIcon.__docgenInfo={description:"",methods:[],displayName:"ConferenceAutoSelectIcon"};var Icons_ConferenceAutoSelectIcon=ConferenceAutoSelectIcon_ConferenceAutoSelectIcon,SendToDeviceIcon_SendToDeviceIcon=function SendToDeviceIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$width=_ref.width,width=void 0===_ref$width?24:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?24:_ref$height,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"#fff":_ref$fill;return Object(jsx_runtime.jsxs)("svg",{width:width,height:height,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.1289 10.1055V19.3047H19.5195V10.1055H14.1289ZM13.7188 8.66016C13.147 8.66016 12.6836 9.12361 12.6836 9.69531V19.7148C12.6836 20.2865 13.147 20.75 13.7188 20.75H19.9297C20.5014 20.75 20.9648 20.2865 20.9648 19.7148V9.69531C20.9648 9.12361 20.5014 8.66016 19.9297 8.66016H13.7188Z",fill:fill}),Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.28516 3.25C3.71346 3.25 3.25 3.71346 3.25 4.28516V14.7148C3.25 15.2151 3.60483 15.6324 4.07654 15.729C4.14392 15.7428 4.21369 15.75 4.28516 15.75H12.8203V14.3047H6.10156V4.69531H17.3711V9.05078H18.8164V4.28516C18.8164 3.71346 18.353 3.25 17.7812 3.25H4.28516ZM4.67578 10.2617C5.09647 10.2617 5.4375 9.92069 5.4375 9.5C5.4375 9.07931 5.09647 8.73828 4.67578 8.73828C4.2551 8.73828 3.91406 9.07931 3.91406 9.5C3.91406 9.92069 4.2551 10.2617 4.67578 10.2617Z",fill:fill})]})};SendToDeviceIcon_SendToDeviceIcon.__docgenInfo={description:"",methods:[],displayName:"SendToDeviceIcon"};var Icons_SendToDeviceIcon=SendToDeviceIcon_SendToDeviceIcon;function SmartShareIcon_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var SmartShareIcon_SmartShareIcon=function SmartShareIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$height=_ref.height,height=void 0===_ref$height?14:_ref$height,_ref$width=_ref.width,width=void 0===_ref$width?14:_ref$width,_ref$fill=(_ref.working,_ref.fill),fill=void 0===_ref$fill?"#fff":_ref$fill;return Object(jsx_runtime.jsxs)("svg",{width:width,height:height,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(jsx_runtime.jsx)("path",SmartShareIcon_defineProperty({fill:fill,d:"M9.75721 10.6559C9.75721 11.154 9.55888 11.6054 9.23742 11.9344C9.82895 12.3408 10.2627 13.0195 10.4076 13.82H9.42447C9.20983 12.9838 8.5539 12.4919 7.95382 12.4919C7.35375 12.4919 6.69781 12.9838 6.48317 13.82H5.5C5.64435 13.023 6.0749 12.3468 6.66246 11.9398C6.33791 11.6103 6.13742 11.1567 6.13742 10.6559C6.13742 9.64916 6.94773 8.83301 7.94731 8.83301C8.94689 8.83301 9.75721 9.64916 9.75721 10.6559ZM7.94731 11.5153C8.40824 11.5153 8.79367 11.1371 8.79367 10.6559C8.79367 10.1748 8.40824 9.79655 7.94731 9.79655C7.48638 9.79655 7.10096 10.1748 7.10096 10.6559C7.10096 11.1371 7.48638 11.5153 7.94731 11.5153Z"},"fill","white")),Object(jsx_runtime.jsx)("path",SmartShareIcon_defineProperty({fill:fill,d:"M10.6301 3.13005H3.15617V7.42692H10.6301V3.13005ZM2.19263 2.1665V8.39046H11.5937V2.1665H2.19263Z"},"fill","white")),Object(jsx_runtime.jsx)("path",SmartShareIcon_defineProperty({fill:fill,d:"M12.8699 4.66667H11.6069V7.42708H12.8699V4.66667ZM10.6433 3.70312V8.39062H13.8334V3.70312H10.6433Z"},"fill","white")),Object(jsx_runtime.jsx)("path",SmartShareIcon_defineProperty({fill:fill,d:"M13.8202 9.37695C13.492 9.04118 13.0354 8.83301 12.5306 8.83301C11.531 8.83301 10.7207 9.64916 10.7207 10.6559C10.7207 11.1567 10.9212 11.6103 11.2457 11.9398C10.6582 12.3468 10.2276 13.023 10.0833 13.82H11.0664C11.2811 12.9838 11.937 12.4919 12.5371 12.4919C13.0119 12.4919 13.5218 12.7999 13.8202 13.3428V9.37695ZM13.3769 10.6559C13.3769 11.1371 12.9915 11.5153 12.5306 11.5153C12.0696 11.5153 11.6842 11.1371 11.6842 10.6559C11.6842 10.1748 12.0696 9.79655 12.5306 9.79655C12.9915 9.79655 13.3769 10.1748 13.3769 10.6559Z"},"fill","white")),Object(jsx_runtime.jsx)("path",SmartShareIcon_defineProperty({fill:fill,d:"M2.17977 9.37695C2.50805 9.04118 2.9646 8.83301 3.46944 8.83301C4.46901 8.83301 5.27933 9.64916 5.27933 10.6559C5.27933 11.1567 5.07884 11.6103 4.75429 11.9398C5.34185 12.3468 5.7724 13.023 5.91675 13.82H4.93358C4.71893 12.9838 4.063 12.4919 3.46293 12.4919C2.98807 12.4919 2.47823 12.7999 2.17977 13.3428V9.37695ZM2.62308 10.6559C2.62308 11.1371 3.00851 11.5153 3.46944 11.5153C3.93036 11.5153 4.31579 11.1371 4.31579 10.6559C4.31579 10.1748 3.93036 9.79655 3.46944 9.79655C3.00851 9.79655 2.62308 10.1748 2.62308 10.6559Z"},"fill","white"))]})};SmartShareIcon_SmartShareIcon.__docgenInfo={description:"",methods:[],displayName:"SmartShareIcon"};var Icons_SmartShareIcon=SmartShareIcon_SmartShareIcon,CheckIcon=__webpack_require__(1541),bind=__webpack_require__(1041),bind_default=__webpack_require__.n(bind),common_TiniButton=__webpack_require__(575),TiniButton_default=__webpack_require__.n(common_TiniButton);function MainButton_typeof(obj){return(MainButton_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function MainButton_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function MainButton_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?MainButton_ownKeys(Object(source),!0).forEach((function(key){MainButton_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):MainButton_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function MainButton_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function MainButton_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MainButton_setPrototypeOf(o,p){return(MainButton_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function MainButton_createSuper(Derived){var hasNativeReflectConstruct=function MainButton_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=MainButton_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=MainButton_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return MainButton_possibleConstructorReturn(this,result)}}function MainButton_possibleConstructorReturn(self,call){return!call||"object"!==MainButton_typeof(call)&&"function"!=typeof call?MainButton_assertThisInitialized(self):call}function MainButton_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function MainButton_getPrototypeOf(o){return(MainButton_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function MainButton_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var MainButton_MainButton=function(_React$Component){!function MainButton_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&MainButton_setPrototypeOf(subClass,superClass)}(MainButton,_React$Component);var _super=MainButton_createSuper(MainButton);function MainButton(){var _this;MainButton_classCallCheck(this,MainButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return MainButton_defineProperty(MainButton_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"onClick",(function(e){e&&(e.preventDefault(),e.stopPropagation()),_this.props.disabled||_this.props.onClickHandler(e)})),_this}return function MainButton_createClass(Constructor,protoProps,staticProps){return protoProps&&MainButton_defineProperties(Constructor.prototype,protoProps),staticProps&&MainButton_defineProperties(Constructor,staticProps),Constructor}(MainButton,[{key:"render",value:function render(){var _classNames,_this$props=this.props,className=_this$props.className,size=_this$props.size,shadow=_this$props.shadow,disabled=_this$props.disabled,notransperent=_this$props.notransperent,acrIcon=_this$props.acrIcon,acrIconSize=_this$props.acrIconSize,faIcon=_this$props.faIcon,inverse=_this$props.inverse,nodeRef=_this$props.nodeRef,buttonStyle=_this$props.buttonStyle,children=_this$props.children,iconStyle=_this$props.iconStyle,otherProps=_objectWithoutProperties(_this$props,["className","size","shadow","disabled","notransperent","acrIcon","acrIconSize","faIcon","inverse","nodeRef","buttonStyle","children","iconStyle"]),sizeStyle={};size&&(sizeStyle.minWidth=24*size,sizeStyle.minHeight=24*size);var buttonClasses=bind_default()(className,(MainButton_defineProperty(_classNames={},TiniButton_default.a.tini_button,!0),MainButton_defineProperty(_classNames,TiniButton_default.a.shadowed,shadow),MainButton_defineProperty(_classNames,TiniButton_default.a.inverse,inverse),MainButton_defineProperty(_classNames,TiniButton_default.a.disabled,disabled),MainButton_defineProperty(_classNames,TiniButton_default.a.notransperent,notransperent),_classNames));return Object(jsx_runtime.jsxs)("button",MainButton_objectSpread(MainButton_objectSpread({className:buttonClasses,ref:nodeRef,onClick:this.onClick,style:MainButton_objectSpread(MainButton_objectSpread({position:"relative"},buttonStyle),sizeStyle),type:"button"},otherProps),{},{children:[acrIcon&&Object(jsx_runtime.jsx)(AcrIcon.a,{icon:acrIcon,style:iconStyle,size:acrIconSize}),faIcon&&Object(jsx_runtime.jsx)("span",{className:"fa fa-"+faIcon}),children]}))}}]),MainButton}(react_default.a.Component);MainButton_defineProperty(MainButton_MainButton,"propTypes",{className:prop_types_default.a.string,faIcon:prop_types_default.a.string,acrIcon:prop_types_default.a.string,acrIconSize:prop_types_default.a.number,onClickHandler:prop_types_default.a.func,inverse:prop_types_default.a.bool,size:prop_types_default.a.number,disabled:prop_types_default.a.bool,shadow:prop_types_default.a.bool,notransperent:prop_types_default.a.bool,nodeRef:prop_types_default.a.func,iconStyle:prop_types_default.a.object,children:prop_types_default.a.any,buttonStyle:prop_types_default.a.any}),MainButton_defineProperty(MainButton_MainButton,"defaultProps",{acrIcon:null,acrIconSize:14,faIcon:null,inverse:!1,size:1,disabled:!1,shadow:!1,notransperent:!1,onClickHandler:miscUtils.t}),MainButton_MainButton.__docgenInfo={description:"",methods:[{name:"onClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"MainButton",props:{acrIcon:{defaultValue:{value:"null",computed:!1},type:{name:"string"},required:!1,description:""},acrIconSize:{defaultValue:{value:"14",computed:!1},type:{name:"number"},required:!1,description:""},faIcon:{defaultValue:{value:"null",computed:!1},type:{name:"string"},required:!1,description:""},inverse:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},size:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},disabled:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},shadow:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},notransperent:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClickHandler:{defaultValue:{value:"noop",computed:!0},type:{name:"func"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},nodeRef:{type:{name:"func"},required:!1,description:""},iconStyle:{type:{name:"object"},required:!1,description:""},children:{type:{name:"any"},required:!1,description:""},buttonStyle:{type:{name:"any"},required:!1,description:""}}};var common_MainButton=MainButton_MainButton;function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Timer_TimerComponent=function TimerComponent(props){var _React$useState2=_slicedToArray(react_default.a.useState(Math.round((+new Date-props.startTime)/1e3)),2),time=_React$useState2[0],setTime=_React$useState2[1],tick=function tick(){return setTime(Math.round((+new Date-props.startTime)/1e3))};if(react_default.a.useEffect((function(_){var interval=setInterval(tick,1e3);return function(_){return clearInterval(interval)}}),[]),time<0)return null;var hours=Math.floor(time/3600),rest=time%3600,minutes=Math.floor(rest/60),seconds=Math.floor(rest%60),str="";return str=hours?(hours+"").padStart(2,"0")+":"+(minutes+"").padStart(2,"0"):minutes,str+=":"+(seconds+"").padStart(2,"0")};Timer_TimerComponent.propTypes={startTime:prop_types_default.a.number},Timer_TimerComponent.defaultProps={startTime:0};var Timer=Timer_TimerComponent,Popup_Popup=__webpack_require__(4051),Popup_default=__webpack_require__.n(Popup_Popup);function CallIndicators(props){var myUserId=props.myUserId,participants=props.participants,microphone=props.microphone,camera=props.camera,sound=props.sound,requestedStream=props.requestedStream,autoSelect=props.autoSelect,selectedCallProvider=props.selectedCallProvider,callsService=props.getBeanInstance(CallsService.a),screen=null,screenCaster=participants.valueSeq().find((function(p){return Boolean(p.get("screenShareStream"))})),me=participants.valueSeq().find((function(p){return p.get("userId")===myUserId}));screenCaster&&(screen=screenCaster.get("screenShareStream"));var hasScreenStream=!1;selectedCallProvider===types.c.VOXEET&&(hasScreenStream=!(!screen||!screen.active)),selectedCallProvider===types.c.JITSI&&(hasScreenStream=screen&&!screen.isMuted()&&screenCaster.getIn(["userInfo","originalId"])===me.getIn(["userInfo","originalId"])&&callsService.isScreenSharing());var iconsVisibility={microphone:!microphone,camera:!camera,sound:!sound,screenShare:hasScreenStream,autoFollow:autoSelect},isModeratorAskedToScreenShare=!hasScreenStream&&requestedStream===types.p.SCREEN;return Object(jsx_runtime.jsxs)("div",{className:classnames_default()(Popup_default.a.callIndicators),children:[iconsVisibility.microphone&&Object(jsx_runtime.jsx)("div",{className:Popup_default.a.callIndicators__item,children:Object(jsx_runtime.jsx)(Tooltip.a,{arrow:!0,open:!microphone&&requestedStream===types.p.AUDIO,title:Object(localization.a)("workspaces","user_request_audio"),children:Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(MicrophoneIcon.a,{working:props.microphone,height:16,width:16,fill:props.microphone?"#fff":void 0})})})},"microphone"),iconsVisibility.camera&&Object(jsx_runtime.jsx)("div",{className:Popup_default.a.callIndicators__item,children:Object(jsx_runtime.jsx)(Tooltip.a,{arrow:!0,open:!camera&&requestedStream===types.p.VIDEO,title:Object(localization.a)("workspaces","user_request_video"),children:Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(CameraIcon.a,{working:camera,height:16,width:16,fill:camera?"#fff":void 0})})})},"camera"),iconsVisibility.sound&&Object(jsx_runtime.jsx)("div",{className:Popup_default.a.callIndicators__item,children:Object(jsx_runtime.jsx)(Icons_SpeakerIcon,{working:sound,height:16,width:16,fill:sound?"#fff":void 0})},"dynamic"),(iconsVisibility.screenShare||isModeratorAskedToScreenShare)&&Object(jsx_runtime.jsx)("div",{className:Popup_default.a.callIndicators__item,children:Object(jsx_runtime.jsx)(Tooltip.a,{arrow:!0,open:isModeratorAskedToScreenShare,title:Object(localization.a)("workspaces","user_request_screen"),children:Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(ScreenShareIcon.a,{working:hasScreenStream,height:14,width:14,fill:hasScreenStream?"#48c2f9":"#fff"})})})},"screen"),iconsVisibility.autoFollow&&Object(jsx_runtime.jsx)("div",{className:Popup_default.a.callIndicators__item,children:Object(jsx_runtime.jsx)(Icons_ConferenceAutoSelectIcon,{height:15,width:15,fill:autoSelect?"#287eff":"rgba(255,255,255,0.62)"})},"autoselect")]})}CallIndicators.propTypes={myUserId:prop_types_default.a.string.isRequired,microphone:prop_types_default.a.bool,camera:prop_types_default.a.bool,sound:prop_types_default.a.bool,autoSelect:prop_types_default.a.bool,participants:prop_types_default.a.any,requestedStream:prop_types_default.a.any,selectedCallProvider:prop_types_default.a.string,getBeanInstance:prop_types_default.a.func},CallIndicators.defaultProps={microphone:!1,camera:!1,sound:!1,autoSelect:!1},CallIndicators.__docgenInfo={description:"",methods:[],displayName:"CallIndicators",props:{microphone:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},camera:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},sound:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},autoSelect:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},myUserId:{type:{name:"string"},required:!0,description:""},participants:{type:{name:"any"},required:!1,description:""},requestedStream:{type:{name:"any"},required:!1,description:""},selectedCallProvider:{type:{name:"string"},required:!1,description:""},getBeanInstance:{type:{name:"func"},required:!1,description:""}}};var Popup_CallIndicators=Object(es.b)((function mapStateToProps(state){var selectedCallProvider=state.getIn([CallsService.a,"selectedCallProvider"]);return{myUserId:selectedCallProvider===types.c.VOXEET?state.getIn([CallsService.a,"myVoxeetId"]):state.getIn([CallsService.a,"myUserIdJitsi"]),selectedCallProvider:selectedCallProvider,participants:Object(immutableUtils.g)(state.getIn([CallsService.a,"participants"])),requestedStream:state.getIn([CallsService.a,"requestedStream"])}}))(withStyles_default()(Popup_default.a)(Object(lib.withInject)(CallIndicators)));function Top_typeof(obj){return(Top_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Top_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Top_setPrototypeOf(o,p){return(Top_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Top_createSuper(Derived){var hasNativeReflectConstruct=function Top_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Top_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Top_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Top_possibleConstructorReturn(this,result)}}function Top_possibleConstructorReturn(self,call){return!call||"object"!==Top_typeof(call)&&"function"!=typeof call?Top_assertThisInitialized(self):call}function Top_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Top_getPrototypeOf(o){return(Top_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Top_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Top_PopupTopLayout=function(_React$Component){!function Top_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Top_setPrototypeOf(subClass,superClass)}(PopupTopLayout,_React$Component);var _super=Top_createSuper(PopupTopLayout);function PopupTopLayout(_props,context){var _this;return function Top_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PopupTopLayout),Top_defineProperty(Top_assertThisInitialized(_this=_super.call(this,_props,context)),"handleSendToDeviceClick",(function(){_this.props.tryingToReconnect||_this.props.showSendToDeviceMenu(_this.sendToDeviceIconRef)})),Top_defineProperty(Top_assertThisInitialized(_this),"onTitleClick",(function(){var props=Top_assertThisInitialized(_this).props,url=_this.userWorkspaceService.getRoomShortLink(props.workspaceUuid);window.location.href.includes(url)||_this.connectSceneService.selectWorkspace(props.workspaceUuid,props.unreads),_this.connectSceneService.switchWorkspaceAreaToMiddle()})),Top_defineProperty(Top_assertThisInitialized(_this),"selectCallWindowView",(function(callWindowView){_this.callsService.selectCallWindowView(callWindowView),callWindowView!==types.d.PIN_TOP_RIGHT&&callWindowView!==types.d.PIN_LEFT_COLUMN&&callWindowView!==types.d.PIN_RIGHT_COLUMN||_this.props.selectWorkspace()})),Top_defineProperty(Top_assertThisInitialized(_this),"handleToggleAutoSelect",(function(event){_this.props.tryingToReconnect||_this.props.toggleAutoSelect(event)})),Top_defineProperty(Top_assertThisInitialized(_this),"showVideoViewMenu",(function(event){if(!_this.props.tryingToReconnect){var callWindowView=_this.props.callWindowView,items=[{type:ContexMenu.a.COMPONENT,content:Object(jsx_runtime.jsx)(VideoViewItem,{icon:Object(jsx_runtime.jsx)(PopoutIcon.a,{}),title:Object(localization.a)("workspaces","float"),selected:callWindowView===types.d.FLOAT,onClick:function onClick(){_this.contextMenuService.close(),_this.selectCallWindowView(types.d.FLOAT)}},"float")},{type:ContexMenu.a.COMPONENT,content:Object(jsx_runtime.jsx)(VideoViewItem,{icon:Object(jsx_runtime.jsx)(PinTopRightIcon.a,{htmlColor:"#ffffff",width:"19",height:"19"}),title:Object(localization.a)("workspaces","pin_top_right"),selected:callWindowView===types.d.PIN_TOP_RIGHT,onClick:function onClick(){_this.contextMenuService.close(),_this.selectCallWindowView(types.d.PIN_TOP_RIGHT)}},"pinTopRight")},{type:ContexMenu.a.COMPONENT,content:Object(jsx_runtime.jsx)(VideoViewItem,{icon:Object(jsx_runtime.jsx)(PinRightIcon.a,{htmlColor:"#ffffff",width:"19",height:"19"}),title:Object(localization.a)("workspaces","pin_right_column"),selected:callWindowView===types.d.PIN_RIGHT_COLUMN,disabled:!_this.props.canPinCallWindowToRightOrLeftColumn||!_this.props.canPin,onClick:function onClick(){_this.props.canPinCallWindowToRightOrLeftColumn&&_this.props.canPin&&(_this.contextMenuService.close(),_this.selectCallWindowView(types.d.PIN_RIGHT_COLUMN))}},"pinRightColumn")},{type:ContexMenu.a.COMPONENT,content:Object(jsx_runtime.jsx)(VideoViewItem,{icon:Object(jsx_runtime.jsx)(PinLeftIcon.a,{htmlColor:"#ffffff",width:"19",height:"19"}),title:Object(localization.a)("workspaces","pin_left_column"),selected:callWindowView===types.d.PIN_LEFT_COLUMN,disabled:!_this.props.canPinCallWindowToRightOrLeftColumn||!_this.props.canPin,onClick:function onClick(){_this.props.canPinCallWindowToRightOrLeftColumn&&_this.props.canPin&&(_this.contextMenuService.close(),_this.selectCallWindowView(types.d.PIN_LEFT_COLUMN))}},"pinLeftColumn")},{type:ContexMenu.a.DIVIDER},{type:ContexMenu.a.COMPONENT,content:Object(jsx_runtime.jsx)(VideoViewItem,{icon:Object(jsx_runtime.jsx)(ExpandWithBorderIcon.a,{}),title:Object(localization.a)("workspaces","full_screen"),selected:callWindowView===types.d.FULL_SCREEN,onClick:function onClick(){_this.contextMenuService.close(),_this.selectCallWindowView(types.d.FULL_SCREEN)}},"fullScreen")}];_this.contextMenuService.show({top:event.pageY,left:event.pageX,items:items,style:{padding:"8px 0",boxShadow:"0px 3px 6px rgba(0, 0, 0, 0.32)",maxWidth:"320px",borderRadius:"4px"}})}})),_this.contextMenuService=context.beansContext.getBeanInstance(ContextMenuService.a),_this.modalService=context.beansContext.getBeanInstance(modals_const.a),_this.callsService=context.beansContext.getBeanInstance(types.a),_this.connectSceneService=context.beansContext.getBeanInstance(ConnectSceneService.a),_this.isDevAcroplia="release",_this}return function Top_createClass(Constructor,protoProps,staticProps){return protoProps&&Top_defineProperties(Constructor.prototype,protoProps),staticProps&&Top_defineProperties(Constructor,staticProps),Constructor}(PopupTopLayout,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState,nextContext){return nextProps.isCompactView!==this.props.isCompactView||nextProps.isFullWidthIndicators!==this.props.isFullWidthIndicators||nextProps.isCallWindowFloat!==this.props.isCallWindowFloat||nextProps.isVideoViewVisible!==this.props.isVideoViewVisible||nextProps.nameWidth!==this.props.nameWidth||nextProps.showPresentationReturnButton!==this.props.showPresentationReturnButton||nextProps.microphone!==this.props.microphone||nextProps.camera!==this.props.camera||nextProps.sound!==this.props.sound||nextProps.autoSelect!==this.props.autoSelect||nextProps.startTimestamp!==this.props.startTimestamp||nextProps.showWorkspace!==this.props.showWorkspace||nextProps.isWorkspaceGroup!==this.props.isWorkspaceGroup||nextProps.workspacePrivacyType!==this.props.workspacePrivacyType||nextProps.workspaceTitle!==this.props.workspaceTitle||nextProps.isSendToMyDeviceVisible!==this.props.isSendToMyDeviceVisible||nextProps.tryingToReconnect!==this.props.tryingToReconnect}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState,snapshot){}},{key:"render",value:function render(){var _classNames,_classNames2,_this2=this;return Object(jsx_runtime.jsx)("div",{className:classnames_default()(Popup_default.a.top,(_classNames={},Top_defineProperty(_classNames,Popup_default.a.compact,this.props.isCompactView),Top_defineProperty(_classNames,Popup_default.a.fullWidth,this.props.isFullWidthIndicators),Top_defineProperty(_classNames,Popup_default.a.float,this.props.isCallWindowFloat),_classNames)),children:this.props.isCompactView?Object(jsx_runtime.jsx)(Popup_CallIndicators,{microphone:this.props.microphone,camera:this.props.camera,sound:this.props.sound,autoSelect:this.props.autoSelect}):Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[Object(jsx_runtime.jsxs)("div",{className:Popup_default.a.left,children:[this.props.startTimestamp&&Object(jsx_runtime.jsx)("div",{className:Popup_default.a.time,children:Object(jsx_runtime.jsx)(Timer,{startTime:this.props.startTimestamp})}),this.props.showWorkspace&&Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[this.props.isWorkspaceGroup&&Object(jsx_runtime.jsx)(common_WorkspaceIcon_WorkspaceIcon,{privacyType:this.props.workspacePrivacyType}),Object(jsx_runtime.jsx)("div",{className:Popup_default.a.roomName,style:{maxWidth:this.props.nameWidth},onClick:this.props.onTitleClick,children:this.props.workspaceTitle}),this.props.showPresentationReturnButton&&Object(jsx_runtime.jsx)(tooltip_Tooltip.a,{title:Object(localization.a)("workspaces","smart_share_return_presentation_tooltip"),children:Object(jsx_runtime.jsxs)(common_MainButton,{className:Popup_default.a.return_mode_button,onClickHandler:this.props.onReturnPresentation,children:[Object(jsx_runtime.jsx)(Icons_SmartShareIcon,{height:14,width:14,fill:"#fff"}),Object(jsx_runtime.jsx)("div",{className:Popup_default.a.presentation_button,children:Object(localization.a)("workspaces","return_presentation_mode")})]})})]})]}),Object(jsx_runtime.jsx)("span",{style:{flex:1}}),Object(jsx_runtime.jsxs)("div",{className:Popup_default.a.right,children:[Object(jsx_runtime.jsx)(tooltip_Tooltip.a,{title:Object(localization.a)("tooltips","auto_select"),children:Object(jsx_runtime.jsx)("div",{className:classnames_default()(Popup_default.a.toggleAutoSelect,(_classNames2={},Top_defineProperty(_classNames2,Popup_default.a.disabledTop,this.props.tryingToReconnect),Top_defineProperty(_classNames2,Popup_default.a.active,this.props.autoSelect),_classNames2)),onClick:this.props.toggleAutoSelect,children:Object(jsx_runtime.jsx)(Icons_ConferenceAutoSelectIcon,{height:18,width:18,fill:this.props.autoSelect?"#fff":"rgba(255,255,255,0.62)"})})}),this.props.isSendToMyDeviceVisible&&this.isDevAcroplia&&Object(jsx_runtime.jsx)(tooltip_Tooltip.a,{title:Object(localization.a)("tooltips","send_to_my_device"),children:Object(jsx_runtime.jsx)("div",{className:classnames_default()(Top_defineProperty({},Popup_default.a.disabledTop,this.props.tryingToReconnect)),onClick:this.handleSendToDeviceClick,ref:function ref(_ref){return _this2.sendToDeviceIconRef=_ref},children:Object(jsx_runtime.jsx)(Icons_SendToDeviceIcon,{width:24,height:24,fill:"white"})})}),this.props.isVideoViewVisible&&Object(jsx_runtime.jsx)(tooltip_Tooltip.a,{title:Object(localization.a)("workspaces","video_view"),children:Object(jsx_runtime.jsx)("div",{className:classnames_default()(Popup_default.a.videoView,Top_defineProperty({},Popup_default.a.disabledTop,this.props.tryingToReconnect)),onClick:this.showVideoViewMenu,children:Object(jsx_runtime.jsx)(VideoView.a,{})})})]})]})})}}]),PopupTopLayout}(react_default.a.Component);Top_defineProperty(Top_PopupTopLayout,"propTypes",{isCompactView:prop_types_default.a.bool,isFullWidthIndicators:prop_types_default.a.bool,isCallWindowFloat:prop_types_default.a.bool,isVideoViewVisible:prop_types_default.a.bool,nameWidth:prop_types_default.a.number,showPresentationReturnButton:prop_types_default.a.bool,microphone:prop_types_default.a.bool,camera:prop_types_default.a.bool,sound:prop_types_default.a.bool,autoSelect:prop_types_default.a.bool,startTimestamp:prop_types_default.a.any,showWorkspace:prop_types_default.a.bool,isWorkspaceGroup:prop_types_default.a.bool,workspacePrivacyType:prop_types_default.a.string,workspaceTitle:prop_types_default.a.string,isSendToMyDeviceVisible:prop_types_default.a.bool,togglePopout:prop_types_default.a.func,toggleAutoSelect:prop_types_default.a.func,onTitleClick:prop_types_default.a.func,onReturnPresentation:prop_types_default.a.func,showSendToDeviceMenu:prop_types_default.a.func,showVideoViewMenu:prop_types_default.a.func,selectWorkspace:prop_types_default.a.func,tryingToReconnect:prop_types_default.a.bool}),Top_defineProperty(Top_PopupTopLayout,"contextTypes",{beansContext:prop_types_default.a.object}),Top_defineProperty(Top_PopupTopLayout,"defaultProps",{togglePopout:function togglePopout(){},toggleAutoSelect:function toggleAutoSelect(){},onTitleClick:function onTitleClick(){},onReturnPresentation:function onReturnPresentation(){},showSendToDeviceMenu:function showSendToDeviceMenu(){},showVideoViewMenu:function showVideoViewMenu(){},selectWorkspace:function selectWorkspace(){},tryingToReconnect:!1});var useStyles=Object(makeStyles.a)((function(){return{item:{display:"flex",alignItems:"center"}}}));function VideoViewItem(props,context){var classes=useStyles();return Object(jsx_runtime.jsx)(MenuItem.a,{disabled:props.disabled,onClick:props.onClick,children:Object(jsx_runtime.jsxs)(Grid.a,{container:!0,spacing:1,alignItems:"center",children:[Object(jsx_runtime.jsx)(Grid.a,{item:!0,className:classes.item,children:props.icon}),Object(jsx_runtime.jsx)(Grid.a,{item:!0,children:Object(jsx_runtime.jsx)(Typography.a,{children:props.title})}),Object(jsx_runtime.jsx)("span",{style:{flex:1}}),props.selected&&Object(jsx_runtime.jsx)(Grid.a,{item:!0,className:classes.item,children:Object(jsx_runtime.jsx)(CheckIcon.a,{})})]})})}VideoViewItem.propTypes={icon:prop_types_default.a.any,title:prop_types_default.a.string,selected:prop_types_default.a.bool,disabled:prop_types_default.a.bool,isVisible:prop_types_default.a.bool,onClick:prop_types_default.a.func},VideoViewItem.defaultProps={selected:!1,disabled:!1,isVisible:!0,onClick:function onClick(){}},Top_PopupTopLayout.__docgenInfo={description:"",methods:[{name:"handleSendToDeviceClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onTitleClick",docblock:null,modifiers:[],params:[],returns:null},{name:"selectCallWindowView",docblock:null,modifiers:[],params:[{name:"callWindowView",type:null}],returns:null},{name:"handleToggleAutoSelect",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"showVideoViewMenu",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"PopupTopLayout",props:{togglePopout:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},toggleAutoSelect:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},onTitleClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},onReturnPresentation:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},showSendToDeviceMenu:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},showVideoViewMenu:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},selectWorkspace:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},tryingToReconnect:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isCompactView:{type:{name:"bool"},required:!1,description:""},isFullWidthIndicators:{type:{name:"bool"},required:!1,description:""},isCallWindowFloat:{type:{name:"bool"},required:!1,description:""},isVideoViewVisible:{type:{name:"bool"},required:!1,description:""},nameWidth:{type:{name:"number"},required:!1,description:""},showPresentationReturnButton:{type:{name:"bool"},required:!1,description:""},microphone:{type:{name:"bool"},required:!1,description:""},camera:{type:{name:"bool"},required:!1,description:""},sound:{type:{name:"bool"},required:!1,description:""},autoSelect:{type:{name:"bool"},required:!1,description:""},startTimestamp:{type:{name:"any"},required:!1,description:""},showWorkspace:{type:{name:"bool"},required:!1,description:""},isWorkspaceGroup:{type:{name:"bool"},required:!1,description:""},workspacePrivacyType:{type:{name:"string"},required:!1,description:""},workspaceTitle:{type:{name:"string"},required:!1,description:""},isSendToMyDeviceVisible:{type:{name:"bool"},required:!1,description:""}},context:{beansContext:{type:{name:"object"},required:!1}}};var Top=withStyles_default()(Popup_default.a)(Object(lib.withInject)(Top_PopupTopLayout)),EllipseIcon_EllipseIcon=function EllipseIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$height=_ref.height,height=void 0===_ref$height?12:_ref$height,_ref$width=_ref.width,width=void 0===_ref$width?4:_ref$width,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"white":_ref$fill;return Object(jsx_runtime.jsxs)("svg",{height:height,width:width,viewBox:"0 0 4 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(jsx_runtime.jsx)("path",{d:"M3.07812 1.82812C3.07812 2.42356 2.59543 2.90625 2 2.90625C1.40457 2.90625 0.921875 2.42356 0.921875 1.82812C0.921875 1.23269 1.40457 0.75 2 0.75C2.59543 0.75 3.07812 1.23269 3.07812 1.82812Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M3.07812 10.1719C3.07812 10.7673 2.59543 11.25 2 11.25C1.40457 11.25 0.921875 10.7673 0.921875 10.1719C0.921875 9.57644 1.40457 9.09375 2 9.09375C2.59543 9.09375 3.07812 9.57644 3.07812 10.1719Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M3.07812 6C3.07812 6.59543 2.59543 7.07812 2 7.07812C1.40457 7.07812 0.921875 6.59543 0.921875 6C0.921875 5.40457 1.40457 4.92188 2 4.92188C2.59543 4.92188 3.07812 5.40457 3.07812 6Z",fill:fill})]})};EllipseIcon_EllipseIcon.__docgenInfo={description:"",methods:[],displayName:"EllipseIcon"};var Icons_EllipseIcon=EllipseIcon_EllipseIcon,ExpandIcon_ExpandIcon=function ExpandIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$width=_ref.width,width=void 0===_ref$width?22:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?22:_ref$height,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"#262626":_ref$fill;return Object(jsx_runtime.jsxs)("svg",{width:width,height:height,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(jsx_runtime.jsx)("path",{d:"M11.3945 4.80469H16.668C16.9916 4.80469 17.2539 5.06702 17.2539 5.39062V10.6641C17.2539 10.9877 16.9916 11.25 16.668 11.25C16.3444 11.25 16.082 10.9877 16.082 10.6641V6.8052L11.2447 11.649L10.4161 10.8203L15.2534 5.97656L11.3945 5.97656C11.0709 5.97656 10.8086 5.71423 10.8086 5.39062C10.8086 5.06702 11.0709 4.80469 11.3945 4.80469Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M5.36719 17.2656H10.6406C10.9642 17.2656 11.2266 17.0033 11.2266 16.6797C11.2266 16.3561 10.9642 16.0938 10.6406 16.0938H6.78177L11.2447 11.649L10.4161 10.8203L5.95313 15.2651V11.4063C5.95313 11.0826 5.69079 10.8203 5.36719 10.8203C5.04358 10.8203 4.78125 11.0826 4.78125 11.4063V16.6797C4.78125 17.0033 5.04358 17.2656 5.36719 17.2656Z",fill:fill}),Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.5V21.5H21.5V0.5H0.5ZM19.7656 2.23438H2.23438V19.7656H19.7656V2.23438Z",fill:fill})]})};ExpandIcon_ExpandIcon.__docgenInfo={description:"",methods:[],displayName:"ExpandIcon"};var Icons_ExpandIcon=ExpandIcon_ExpandIcon,StarIcon_StarIcon=function StarIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$width=_ref.width,width=void 0===_ref$width?"12":_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?"11":_ref$height,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"white":_ref$fill,_ref$stroke=_ref.stroke,stroke=void 0===_ref$stroke?"black":_ref$stroke;return fill?Object(jsx_runtime.jsx)("svg",{width:width,height:height,viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(jsx_runtime.jsx)("path",{d:"M5.52806 0.348739C5.68429 -0.0977422 6.31571 -0.0977431 6.47194 0.348738L7.45443 3.15653C7.5246 3.35709 7.71388 3.49139 7.92637 3.49139H11.0222C11.5155 3.49139 11.7108 4.13 11.3019 4.40588L8.86256 6.05156C8.67421 6.17863 8.59521 6.41673 8.67026 6.63119L9.61675 9.33613C9.77569 9.79034 9.2641 10.1849 8.86517 9.91576L6.27964 8.17143C6.11064 8.05742 5.88936 8.05742 5.72036 8.17143L3.13483 9.91576C2.7359 10.1849 2.22431 9.79034 2.38325 9.33613L3.32974 6.63119C3.40479 6.41673 3.32579 6.17863 3.13744 6.05156L0.698116 4.40588C0.289192 4.13 0.48447 3.49139 0.977753 3.49139H4.07363C4.28612 3.49139 4.4754 3.35709 4.54557 3.15653L5.52806 0.348739Z",fill:fill,fillOpacity:1,stroke:stroke,strokeWidth:.5,strokeOpacity:.62,strokeLinejoin:"round"})}):Object(jsx_runtime.jsx)("svg",{width:width,height:height,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.4493 6.30466L10.1045 2.16573C10.0973 2.14353 10.091 2.13521 10.0905 2.13458L10.0905 2.13456C10.0903 2.13437 10.0902 2.13426 10.0902 2.13419C10.0885 2.13308 10.0746 2.12524 10.0488 2.12524C10.0229 2.12524 10.009 2.13308 10.0073 2.13419C10.0073 2.13426 10.0072 2.13437 10.007 2.13456C10.0067 2.13497 10.0003 2.14322 9.99304 2.16573L8.64822 6.30466C8.30569 7.35886 7.3233 8.0726 6.21485 8.0726H1.86292C1.83961 8.0726 1.82974 8.07603 1.82898 8.07629L1.82895 8.0763C1.82872 8.07638 1.82859 8.07642 1.8285 8.07645C1.82694 8.07767 1.81519 8.08847 1.80719 8.11309C1.7992 8.13771 1.80235 8.15336 1.8029 8.15526C1.80295 8.15533 1.80303 8.15545 1.80317 8.15564L1.80318 8.15567C1.80365 8.15634 1.80963 8.1649 1.82848 8.1786L5.34926 10.7366C6.24602 11.3881 6.62126 12.543 6.27873 13.5972L4.93391 17.7361C4.9267 17.7583 4.92691 17.7687 4.92692 17.7695V17.7696C4.92693 17.7698 4.92694 17.77 4.92694 17.7701C4.92765 17.772 4.93431 17.7865 4.95519 17.8016C4.97614 17.8168 4.99199 17.8187 4.99397 17.8188C4.99405 17.8187 4.99419 17.8187 4.99442 17.8186L4.99445 17.8186C4.99523 17.8184 5.00523 17.8153 5.02407 17.8016L8.54486 15.2436C9.44161 14.5921 10.6559 14.5921 11.5527 15.2436L15.0734 17.8016C15.0926 17.8155 15.1026 17.8185 15.1031 17.8186C15.1033 17.8187 15.1035 17.8187 15.1035 17.8188C15.1055 17.8187 15.1214 17.8168 15.1423 17.8016C15.1633 17.7864 15.1699 17.7719 15.1706 17.77C15.1706 17.77 15.1706 17.7698 15.1706 17.7696C15.1706 17.7691 15.1709 17.7586 15.1636 17.7361L13.8188 13.5972C13.4763 12.543 13.8515 11.3881 14.7483 10.7366L18.269 8.1786C18.2882 8.16469 18.2941 8.15607 18.2943 8.15564C18.2945 8.15545 18.2946 8.15533 18.2946 8.15526C18.2952 8.15337 18.2983 8.13772 18.2903 8.11309C18.2823 8.08847 18.2706 8.07767 18.269 8.07645C18.2689 8.07642 18.2688 8.07638 18.2686 8.0763C18.2681 8.07613 18.2583 8.0726 18.2346 8.0726H13.8827C12.7742 8.0726 11.7918 7.35886 11.4493 6.30466ZM11.2933 1.77946C10.9016 0.573841 9.19594 0.573837 8.80421 1.77946L7.45939 5.91839C7.28421 6.45756 6.78177 6.8226 6.21485 6.8226H1.86292C0.595258 6.8226 0.0681851 8.44476 1.09375 9.18987L4.61453 11.7479C5.07318 12.0811 5.26509 12.6718 5.08991 13.2109L3.74509 17.3498C3.35336 18.5555 4.73324 19.558 5.7588 18.8129L9.27959 16.2549C9.73823 15.9217 10.3593 15.9217 10.8179 16.2549L14.3387 18.8129C15.3643 19.558 16.7442 18.5555 16.3524 17.3499L15.0076 13.2109C14.8324 12.6718 15.0243 12.0811 15.483 11.7479L19.0038 9.18987C20.0293 8.44476 19.5023 6.8226 18.2346 6.8226H13.8827C13.3158 6.8226 12.8133 6.45756 12.6381 5.91839L11.2933 1.77946Z",fill:"#fff"})})};StarIcon_StarIcon.__docgenInfo={description:"",methods:[],displayName:"StarIcon"};var Settings_class,_temp,Icons_StarIcon=StarIcon_StarIcon,imports=__webpack_require__(510);function Settings_typeof(obj){return(Settings_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Settings_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Settings_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Settings_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){Settings_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function Settings_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Settings_setPrototypeOf(o,p){return(Settings_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Settings_createSuper(Derived){var hasNativeReflectConstruct=function Settings_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Settings_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Settings_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Settings_possibleConstructorReturn(this,result)}}function Settings_possibleConstructorReturn(self,call){return!call||"object"!==Settings_typeof(call)&&"function"!=typeof call?Settings_assertThisInitialized(self):call}function Settings_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Settings_getPrototypeOf(o){return(Settings_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Settings_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Settings_Settings=function Settings(props){var isPreview=props.isPreview,favourite=props.favourite,toggleFavourite=props.toggleFavourite,muted=(props.secondStream,props.muted),microphone=props.microphone,toggleMuted=props.toggleMuted,mainSpeaker=props.mainSpeaker,participant=props.participant,userId=props.userId,me=props.me,id=props.id,type=props.type,filled=props.filled,toggleMicrophone=props.toggleMicrophone,showStreamSettingsMenu=props.showStreamSettingsMenu,expand=props.expand,selected=props.selected,isMicrophoneDisabled=function isMicrophoneDisabledByCallCreator(){var streamStatus=participant&&participant.streamStatus;return streamStatus&&!1===streamStatus.AUDIO}();return Object(jsx_runtime.jsxs)("div",{className:Conference_default.a.settings,onClick:function onGlobalClick(){props.isPreview&&props.favourite&&props.toggleFavourite?props.toggleFavourite(props.userId):props.isPreview&&!props.secondStream&&props.muted&&props.toggleMicrophone?props.toggleMicrophone():props.toggleSelected&&props.toggleSelected(props.id)},children:[Object(jsx_runtime.jsx)("div",{className:classnames_default()(Conference_default.a.area,Conference_default.a.topRight),children:!isPreview&&expand&&Object(jsx_runtime.jsx)(tooltip_Tooltip.a,{title:Object(imports.a)("tooltips","fullscreen"),children:Object(jsx_runtime.jsx)("div",{className:classnames_default()(Conference_default.a.button,Conference_default.a.expand),onClick:function onExpandClick(e){e.stopPropagation(),props.expand&&props.expand(props.id)},children:Object(jsx_runtime.jsx)(Icons_ExpandIcon,{height:12,width:12,fill:"#000"})})})},"top_right"),!props.isPopupTooSmallToShowControlls&&Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("div",{className:classnames_default()(Conference_default.a.area,Conference_default.a.topLeft),children:[toggleFavourite&&Object(jsx_runtime.jsx)(tooltip_Tooltip.a,{title:Object(imports.a)("tooltips","featured"),children:Object(jsx_runtime.jsx)("div",{className:classnames_default()(Conference_default.a.button,Conference_default.a.togglePin,Settings_defineProperty({},Conference_default.a.main,!isPreview)),onClick:function onFavouriteClick(e){e.stopPropagation(),props.toggleFavourite&&props.toggleFavourite(props.userId)},children:favourite?Object(jsx_runtime.jsx)(Icons_StarIcon,{height:12,width:12,fill:"#287eff",stroke:"#287eff"}):Object(jsx_runtime.jsx)(Icons_StarIcon,{height:12,width:12,fill:"#fff",stroke:"#000"})})}),(mainSpeaker||selected)&&Object(jsx_runtime.jsx)("div",{className:classnames_default()(Conference_default.a.button,Conference_default.a.autoSelect),onClick:function onAutoSelectClick(e){e.stopPropagation(),props.clearSelectedStream&&props.clearSelectedStream()},children:Object(jsx_runtime.jsx)(Icons_ConferenceAutoSelectIcon,{height:12,width:12,fill:"#287eff"})})]},"top_left"),Object(jsx_runtime.jsx)("div",{className:classnames_default()(Conference_default.a.area,Conference_default.a.bottomLeft),children:Object(jsx_runtime.jsx)(Microphone,{userId:userId,me:me,muted:muted,microphone:microphone&&!isMicrophoneDisabled,toggleMuted:toggleMuted,toggleMicrophone:toggleMicrophone})},"bottom_left"),Object(jsx_runtime.jsx)("div",{className:classnames_default()(Conference_default.a.area,Conference_default.a.bottomRight),children:type!=types.r.NO&&Object(jsx_runtime.jsx)(tooltip_Tooltip.a,{title:Object(imports.a)("tooltips","stream_menu"),children:Object(jsx_runtime.jsx)("div",{className:classnames_default()(Conference_default.a.button,Conference_default.a.options),onClick:function onSettingsClick(e){e.stopPropagation(),showStreamSettingsMenu({event:e,participant:participant,id:id,type:type,filled:filled})},children:Object(jsx_runtime.jsx)(Icons_EllipseIcon,{})})})},"bottom_right")]})]})};function areEqual(prevProps,nextProps){Object(performanceUtils.a)(prevProps,nextProps,[],[],[])}Settings_Settings.propTypes={isPreview:prop_types_default.a.bool,streamId:prop_types_default.a.string,userId:prop_types_default.a.string,participant:prop_types_default.a.object,me:prop_types_default.a.bool,muted:prop_types_default.a.bool,microphone:prop_types_default.a.bool,selected:prop_types_default.a.bool,favourite:prop_types_default.a.bool,speaking:prop_types_default.a.bool,mainSpeaker:prop_types_default.a.bool,secondStream:prop_types_default.a.bool,id:prop_types_default.a.any,type:prop_types_default.a.any,filled:prop_types_default.a.any,expand:prop_types_default.a.func,toggleFavourite:prop_types_default.a.oneOfType([prop_types_default.a.func,prop_types_default.a.bool]),toggleMuted:prop_types_default.a.oneOfType([prop_types_default.a.func,prop_types_default.a.bool]),toggleMicrophone:prop_types_default.a.oneOfType([prop_types_default.a.func,prop_types_default.a.bool]),toggleSelected:prop_types_default.a.oneOfType([prop_types_default.a.func,prop_types_default.a.bool]),toggleAutoSelect:prop_types_default.a.oneOfType([prop_types_default.a.func,prop_types_default.a.bool]),clearSelectedStream:prop_types_default.a.oneOfType([prop_types_default.a.func,prop_types_default.a.bool]),showStreamSettingsMenu:prop_types_default.a.func},Settings_Settings.defaultProps={streamId:"",userId:"",participant:{},me:!1,muted:!1,microphone:!0,selected:!1,favourite:!1,speaking:!1,mainSpeaker:!1,secondStream:!1,toggleFavourite:!1,toggleMuted:!1,toggleMicrophone:!1,toggleSelected:!1,showStreamSettingsMenu:miscUtils.t},Settings_Settings.__docgenInfo={description:"",methods:[],displayName:"Settings",props:{streamId:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},userId:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},participant:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},me:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},muted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},microphone:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},selected:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},favourite:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},speaking:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},mainSpeaker:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},secondStream:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},toggleFavourite:{defaultValue:{value:"false",computed:!1},type:{name:"union",value:[{name:"func"},{name:"bool"}]},required:!1,description:""},toggleMuted:{defaultValue:{value:"false",computed:!1},type:{name:"union",value:[{name:"func"},{name:"bool"}]},required:!1,description:""},toggleMicrophone:{defaultValue:{value:"false",computed:!1},type:{name:"union",value:[{name:"func"},{name:"bool"}]},required:!1,description:""},toggleSelected:{defaultValue:{value:"false",computed:!1},type:{name:"union",value:[{name:"func"},{name:"bool"}]},required:!1,description:""},showStreamSettingsMenu:{defaultValue:{value:"noop",computed:!0},type:{name:"func"},required:!1,description:""},isPreview:{type:{name:"bool"},required:!1,description:""},id:{type:{name:"any"},required:!1,description:""},type:{type:{name:"any"},required:!1,description:""},filled:{type:{name:"any"},required:!1,description:""},expand:{type:{name:"func"},required:!1,description:""},toggleAutoSelect:{type:{name:"union",value:[{name:"func"},{name:"bool"}]},required:!1,description:""},clearSelectedStream:{type:{name:"union",value:[{name:"func"},{name:"bool"}]},required:!1,description:""}}};var Element_Settings=Object(lib.withInject)(Object(react.memo)(Settings_Settings,areEqual)),Microphone=Object(lib.withInject)((_temp=Settings_class=function(_React$Component){!function Settings_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Settings_setPrototypeOf(subClass,superClass)}(_class,_React$Component);var _super=Settings_createSuper(_class);function _class(props){var _this;return function Settings_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,_class),Settings_defineProperty(Settings_assertThisInitialized(_this=_super.call(this,props)),"state",{speaking:!1}),Settings_defineProperty(Settings_assertThisInitialized(_this),"checkVolumeInterval",null),Settings_defineProperty(Settings_assertThisInitialized(_this),"microphoneRef",null),Settings_defineProperty(Settings_assertThisInitialized(_this),"volumeRef",null),Settings_defineProperty(Settings_assertThisInitialized(_this),"checkVolume",Settings_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var volume,computedStyle,speaking;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return volume=0,_context.prev=1,_context.next=4,_this.callsService.getUserLevel(_this.props.userId);case 4:volume=_context.sent,_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(1),console.error(_context.t0);case 10:if(!_this.volumeRef){_context.next=17;break}if(!_this.microphoneRef){_context.next=16;break}if(computedStyle=getComputedStyle(_this.microphoneRef),"0"!==computedStyle.getPropertyValue("opacity")){_context.next=16;break}return _context.abrupt("return");case 16:_this.volumeRef.style.height="calc("+100*volume+"% - 2px)";case 17:(speaking=volume>types.o)!==_this.state.speaking&&_this.setState({speaking:speaking});case 19:case"end":return _context.stop()}}),_callee,null,[[1,7]])})))),Settings_defineProperty(Settings_assertThisInitialized(_this),"onClick",(function(e){e.stopPropagation(),_this.props.me&&_this.props.toggleMicrophone?_this.props.toggleMicrophone():_this.props.toggleMuted&&_this.props.toggleMuted(_this.props.userId)})),Settings_defineProperty(Settings_assertThisInitialized(_this),"getMicToolTip",(function(){return _this.props.me||_this.props.microphone||!_this.props.muted?_this.props.muted?Object(imports.a)("tooltips","unmute_microphone"):Object(imports.a)("tooltips","mute_microphone"):Object(imports.a)("tooltips","muted")})),_this.callsService=props.getBeanInstance(CallsService.a),_this}return function Settings_createClass(Constructor,protoProps,staticProps){return protoProps&&Settings_defineProperties(Constructor.prototype,protoProps),staticProps&&Settings_defineProperties(Constructor,staticProps),Constructor}(_class,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState,nextContext){return this.props.userId!==nextProps.userId||this.props.muted!==nextProps.muted||this.props.microphone!==nextProps.microphone||this.props.toggleMuted!==nextProps.toggleMuted||this.props.toggleMicrophone!==nextProps.toggleMicrophone||this.props.isPopupTooSmallToShowControlls!==nextProps.isPopupTooSmallToShowControlls}},{key:"componentDidMount",value:function componentDidMount(){this.checkVolumeInterval=setInterval(this.checkVolume,60)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.checkVolumeInterval)}},{key:"render",value:function render(){var _ref2,_this2=this,props=this.props,state=this.state;return Object(jsx_runtime.jsx)(tooltip_Tooltip.a,{title:this.getMicToolTip(),children:Object(jsx_runtime.jsx)("div",{ref:function ref(_ref4){return _this2.microphoneRef=_ref4},className:classnames_default()(Conference_default.a.button,Conference_default.a.microphone,props.microphone?(_ref2={},Settings_defineProperty(_ref2,Conference_default.a.muted,!props.me&&props.muted),Settings_defineProperty(_ref2,Conference_default.a.speaking,state.speaking),_ref2):Conference_default.a.no),onClick:this.onClick,children:props.microphone?Object(jsx_runtime.jsx)("div",{ref:function ref(_ref3){return _this2.volumeRef=_ref3},className:Conference_default.a.volume}):Object(jsx_runtime.jsx)(MicrophoneIcon.a,{height:12,width:12,working:!1})})})}}]),_class}(react_default.a.Component),Settings_defineProperty(Settings_class,"propTypes",{userId:prop_types_default.a.string,me:prop_types_default.a.bool,muted:prop_types_default.a.bool,microphone:prop_types_default.a.bool,toggleMuted:prop_types_default.a.func,toggleMicrophone:prop_types_default.a.func,getBeanInstance:prop_types_default.a.func,isPopupTooSmallToShowControlls:prop_types_default.a.bool}),Settings_defineProperty(Settings_class,"defaultProps",{userId:"",me:!1,muted:!1,microphone:!0,toggleMuted:!1,toggleMicrophone:!1,isPopupTooSmallToShowControlls:!1}),_temp)),getNameStyles=function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$main=_ref.main,main=void 0===_ref$main||_ref$main,_ref$baseStyle=_ref.baseStyle,baseStyle=void 0===_ref$baseStyle?{}:_ref$baseStyle,_ref$name=_ref.name,name=void 0===_ref$name?"":_ref$name,maxFontSize=31,style={width:.8*baseStyle.width-40,fontSize:Math.max(main?11:9,Math.min(baseStyle.height/15,maxFontSize)),lineHeight:1.4,whiteSpace:"nowrap"};if(style.maxHeight=style.fontSize*style.lineHeight,style.bottom=Math.max(5,style.maxHeight/2),style.textOverflow=style.width>60?"ellipsis":"clip",style.width<180&&(style.letterSpacing=0,name.includes(" ")&&name.length>10)){var delimiterIndex=name.lastIndexOf(" "),firstLetterOfName=name.substring(0,1),firstLetterOfSurname=name.substring(delimiterIndex+1,delimiterIndex+2);if(style.width<30)name="".concat(firstLetterOfName).concat(firstLetterOfSurname);else if(style.width<60)name="".concat(firstLetterOfName,". ").concat(firstLetterOfSurname,".");else if(style.width<120){var firstName=name.substring(0,delimiterIndex);name="".concat(firstName," ").concat(firstLetterOfSurname,".")}}return name.length>8&&(style.textOverflow="ellipsis"),name.length>15&&(style.maxHeight*=2,style.whiteSpace="normal"),{style:style,name:name}},UserLiveUpdate=__webpack_require__(1020);function Main_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Main_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function Main_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Main_ConferenceMainElement=function ConferenceMainElement(_ref){var _classNames,element=_ref.element,props=Main_objectWithoutProperties(_ref,["element"]),userUuid=element.participant.getIn(["userInfo","originalId"]),userName=element.participant.getIn(["userInfo","name"]),user=Object(miscUtils.B)(Object(miscUtils.m)(props.users,userUuid)),userNameWithLogin="".concat(user," (").concat(userName,")"),displayName=null!=userName&&userName.includes("ScreenShare")?"".concat(userNameWithLogin," ScreenShare"):userNameWithLogin,name=props.me?Object(localization.a)("common","me"):displayName,_getNameStyles=getNameStyles({main:!0,baseStyle:props.style,name:name}),nameStyle=_getNameStyles.style,nameText=_getNameStyles.name,userLiveUpdate=!props.users.get(userUuid);return Object(react.useEffect)((function(){console.log("Main Updated")})),Object(jsx_runtime.jsxs)("div",{className:classnames_default()(Conference_default.a.element,(_classNames={},Main_defineProperty(_classNames,Conference_default.a.fill,element.filled),Main_defineProperty(_classNames,Conference_default.a.stream,element.stream&&props.showVideo),Main_defineProperty(_classNames,Conference_default.a.interrupted,"interrupted"===element.connectionStatus),Main_defineProperty(_classNames,Conference_default.a.inactive,"inactive"===element.connectionStatus),Main_defineProperty(_classNames,Conference_default.a.restoring,"restoring"===element.connectionStatus),_classNames)),style:props.style,onDoubleClick:function onDoubleClick(){return props.expand(element.id)},children:[userLiveUpdate&&Object(jsx_runtime.jsx)(UserLiveUpdate.a,{userUuid:userUuid,children:function children(){return Object(jsx_runtime.jsx)(react_default.a.Fragment,{})}}),Object(jsx_runtime.jsx)(Stream,{id:element.id+"/main",selectedCallProvider:props.selectedCallProvider,stream:element.stream,audioStream:!props.me&&element.audioStream,sound:props.sound&&!element.muted,image:element.participant.getIn(["userInfo","avatarUrl"]),connectionStatus:element.participant.get("connectionStatus"),showVideo:props.showVideo,avatarStyle:{marginBottom:(nameStyle.bottom+nameStyle.maxHeight)/2},isMain:!0,isScreenShare:element.hasScreenStream}),Object(jsx_runtime.jsx)("div",{className:Conference_default.a.name,style:nameStyle,title:name!==nameText?name:"",children:nameText}),Object(jsx_runtime.jsx)(Element_Settings,{isPreview:!1,me:props.me,id:element.id,streamId:element.stream?element.stream.id:null,userId:element.userId,participant:element.participant,type:element.type,filled:element.filled,muted:element.muted,microphone:element.microphone,selected:element.selected,favourite:element.favourite,speaking:element.speaking,mainSpeaker:element.mainSpeaker,secondStream:element.secondStream,expand:props.expand,showStreamSettingsMenu:props.showStreamSettingsMenu,toggleFavourite:props.toggleFavourite,toggleMuted:props.toggleMuted,toggleMicrophone:props.toggleMicrophone,toggleSelected:props.toggleSelected,isPopupTooSmallToShowControlls:props.isPopupTooSmallToShowControlls,toggleAutoSelect:props.toggleAutoSelect,clearSelectedStream:props.clearSelectedStream})]})};function Main_areEqual(prevProps,nextProps){return Object(performanceUtils.a)(prevProps,nextProps,["style"],["showStreamSettingsMenu","toggleFavourite","toggleMuted","toggleMicrophone","toggleSelected","expand"],["element"],!1)}Main_ConferenceMainElement.propTypes={sound:prop_types_default.a.bool,me:prop_types_default.a.bool,element:prop_types_default.a.shape({id:prop_types_default.a.string,stream:prop_types_default.a.any,userId:prop_types_default.a.string,participant:prop_types_default.a.object,type:prop_types_default.a.string,filled:prop_types_default.a.bool,muted:prop_types_default.a.bool,microphone:prop_types_default.a.bool,selected:prop_types_default.a.bool,favourite:prop_types_default.a.bool,speaking:prop_types_default.a.bool,mainSpeaker:prop_types_default.a.bool,secondStream:prop_types_default.a.bool}),style:prop_types_default.a.object,showVideo:prop_types_default.a.bool,expand:prop_types_default.a.func,showStreamSettingsMenu:prop_types_default.a.func,toggleFavourite:prop_types_default.a.func,toggleMuted:prop_types_default.a.func,toggleMicrophone:prop_types_default.a.func,toggleSelected:prop_types_default.a.func,toggleAutoSelect:prop_types_default.a.func,clearSelectedStream:prop_types_default.a.func,users:prop_types_default.a.object,isPopupTooSmallToShowControlls:prop_types_default.a.bool},Main_ConferenceMainElement.whyDidYouRender=!0,Main_ConferenceMainElement.__docgenInfo={description:"",methods:[],displayName:"ConferenceMainElement",props:{sound:{type:{name:"bool"},required:!1,description:""},me:{type:{name:"bool"},required:!1,description:""},element:{type:{name:"shape",value:{id:{name:"string",required:!1},stream:{name:"any",required:!1},userId:{name:"string",required:!1},participant:{name:"object",required:!1},type:{name:"string",required:!1},filled:{name:"bool",required:!1},muted:{name:"bool",required:!1},microphone:{name:"bool",required:!1},selected:{name:"bool",required:!1},favourite:{name:"bool",required:!1},speaking:{name:"bool",required:!1},mainSpeaker:{name:"bool",required:!1},secondStream:{name:"bool",required:!1}}},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""},showVideo:{type:{name:"bool"},required:!1,description:""},expand:{type:{name:"func"},required:!1,description:""},showStreamSettingsMenu:{type:{name:"func"},required:!1,description:""},toggleFavourite:{type:{name:"func"},required:!1,description:""},toggleMuted:{type:{name:"func"},required:!1,description:""},toggleMicrophone:{type:{name:"func"},required:!1,description:""},toggleSelected:{type:{name:"func"},required:!1,description:""},toggleAutoSelect:{type:{name:"func"},required:!1,description:""},clearSelectedStream:{type:{name:"func"},required:!1,description:""},users:{type:{name:"object"},required:!1,description:""},isPopupTooSmallToShowControlls:{type:{name:"bool"},required:!1,description:""}}};var Main=Object(es.b)((function mapStateToProps(state){return{sound:state.getIn([CallsService.a,"sound"]),users:state.get("users")}}))(withStyles_default()(Conference_default.a)(Object(react.memo)(Main_ConferenceMainElement,Main_areEqual)));function Side_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Side_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Side_ownKeys(Object(source),!0).forEach((function(key){Side_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Side_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function Side_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Side_slicedToArray(arr,i){return function Side_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Side_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Side_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Side_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Side_arrayLikeToArray(o,minLen)}(arr,i)||function Side_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Side_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Side_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function Side_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var singleClickTimeout=null;var Side_ConferenceSideElement=function ConferenceSideElement(_ref){var _objectSpread2,_ref2,_objectSpread3,displayName,element=_ref.element,props=Side_objectWithoutProperties(_ref,["element"]),ref=Object(react.useRef)(null),_useState2=Side_slicedToArray(Object(react.useState)(!0),2),isVisible=_useState2[0],setIsVisible=_useState2[1],userUuid=element.participant.getIn(["userInfo","originalId"]),userName=element.participant.getIn(["userInfo","name"]),user=Object(miscUtils.B)(Object(miscUtils.m)(props.users,userUuid));displayName=userName.includes("ScreenShare")?"".concat(user," ScreenShare"):user;var name=props.me?Object(localization.a)("common","me"):displayName,_getNameStyles=getNameStyles({main:!1,baseStyle:props.style,name:name}),nameStyle=_getNameStyles.style,nameText=_getNameStyles.name,userLiveUpdate=!props.users.get(userUuid),toggleSelectedStream=function toggleSelectedStream(){var id=element.id;props.toggleSelected&&props.toggleSelected(id)},cleanSingleClickTimeout=function cleanSingleClickTimeout(){singleClickTimeout&&(clearTimeout(singleClickTimeout),singleClickTimeout=null)};return Object(react.useEffect)((function(){return cleanSingleClickTimeout}),[]),props.hideIfNotVisible&&function useInterval(callback,delay){var intervalRef=Object(react.useRef)(),callbackRef=Object(react.useRef)(callback);return Object(react.useEffect)((function(){console.log("Side Updated")})),Object(react.useEffect)((function(){callbackRef.current=callback}),[callback]),Object(react.useEffect)((function(){return intervalRef.current=setInterval((function(){return callbackRef.current()}),delay),function(){return window.clearInterval(intervalRef.current)}}),[delay]),intervalRef}((function(){props.container&&ref.current&&(function isScrolledIntoView(container,element){if(!container||!element)return!0;var rectContainer=container.getBoundingClientRect(),rectElement=element.getBoundingClientRect(),containerTop=rectContainer.top,containerHeight=rectContainer.height,elementTop=rectElement.top;return rectElement.bottom>=containerTop&&elementTop<=containerTop+containerHeight}(props.container,ref.current)!==isVisible&&setIsVisible((function(prevState){return!prevState})))}),100),Object(jsx_runtime.jsxs)("div",{ref:ref,className:classnames_default()(Conference_default.a.element,Conference_default.a.preview,Side_objectSpread(Side_objectSpread((_objectSpread2={},Side_defineProperty(_objectSpread2,Conference_default.a.fill,element.filled),Side_defineProperty(_objectSpread2,Conference_default.a.selected,element.selected),_objectSpread2),!element.secondStream&&(_ref2={},Side_defineProperty(_ref2,Conference_default.a.speaking,element.speaking),Side_defineProperty(_ref2,Conference_default.a.muted_speaking,element.muted&&element.speaking),_ref2)),{},(_objectSpread3={},Side_defineProperty(_objectSpread3,Conference_default.a.stream,element.stream&&props.showVideo),Side_defineProperty(_objectSpread3,Conference_default.a.interrupted,"interrupted"===element.connectionStatus),Side_defineProperty(_objectSpread3,Conference_default.a.inactive,"inactive"===element.connectionStatus),Side_defineProperty(_objectSpread3,Conference_default.a.restoring,"restoring"===element.connectionStatus),_objectSpread3))),style:props.style,onClick:function handleClick(e){1===e.detail?singleClickTimeout=setTimeout((function(){toggleSelectedStream()}),320):2===e.detail&&(cleanSingleClickTimeout(),function goToFullScreenMode(){props.expand&&props.expand()}(),toggleSelectedStream())},children:[userLiveUpdate&&Object(jsx_runtime.jsx)(UserLiveUpdate.a,{userUuid:userUuid,children:function children(){return Object(jsx_runtime.jsx)(react_default.a.Fragment,{})}}),Object(jsx_runtime.jsx)(Stream,{id:element.id+"/side",selectedCallProvider:props.selectedCallProvider,stream:isVisible&&element.stream,audioStream:!props.me&&element.audioStream,sound:props.sound&&!element.muted,showVideo:props.showVideo,image:element.participant.getIn(["userInfo","avatarUrl"]),connectionStatus:element.participant.get("connectionStatus"),avatarStyle:{marginBottom:(nameStyle.bottom+nameStyle.height)/2}}),Object(jsx_runtime.jsx)("div",{className:Conference_default.a.name,style:nameStyle,title:name!=nameText?name:"",children:nameText}),Object(jsx_runtime.jsx)(Element_Settings,{isPreview:!0,me:props.me,id:element.id,streamId:element.stream?element.stream.id:null,userId:element.userId,participant:element.participant,type:element.type,filled:element.filled,muted:element.muted,microphone:element.microphone,selected:element.selected,favourite:element.favourite,speaking:element.speaking,mainSpeaker:element.mainSpeaker,secondStream:element.secondStream,showStreamSettingsMenu:props.showStreamSettingsMenu,toggleFavourite:props.toggleFavourite,toggleMuted:props.toggleMuted,toggleMicrophone:props.toggleMicrophone,toggleSelected:props.toggleSelected,isPopupTooSmallToShowControlls:props.isPopupTooSmallToShowControlls})]})};function Side_areEqual(prevProps,nextProps){return Object(performanceUtils.a)(prevProps,nextProps,["style"],[],["element"],!1)}Side_ConferenceSideElement.propTypes={sound:prop_types_default.a.bool,me:prop_types_default.a.bool,element:prop_types_default.a.shape({id:prop_types_default.a.string,stream:prop_types_default.a.any,userId:prop_types_default.a.string,participant:prop_types_default.a.object,type:prop_types_default.a.string,filled:prop_types_default.a.bool,muted:prop_types_default.a.bool,microphone:prop_types_default.a.bool,selected:prop_types_default.a.bool,favourite:prop_types_default.a.bool,speaking:prop_types_default.a.bool,mainSpeaker:prop_types_default.a.bool,secondStream:prop_types_default.a.bool}),style:prop_types_default.a.object,showVideo:prop_types_default.a.bool,showStreamSettingsMenu:prop_types_default.a.func,toggleFavourite:prop_types_default.a.func,toggleMuted:prop_types_default.a.func,toggleMicrophone:prop_types_default.a.func,toggleSelected:prop_types_default.a.func,container:prop_types_default.a.any,hideIfNotVisible:prop_types_default.a.bool,users:prop_types_default.a.object,isPopupTooSmallToShowControlls:prop_types_default.a.bool},Side_ConferenceSideElement.defaultProps={container:null,hideIfNotVisible:!1},Side_ConferenceSideElement.whyDidYouRender=!0,Side_ConferenceSideElement.__docgenInfo={description:"",methods:[],displayName:"ConferenceSideElement",props:{container:{defaultValue:{value:"null",computed:!1},type:{name:"any"},required:!1,description:""},hideIfNotVisible:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},sound:{type:{name:"bool"},required:!1,description:""},me:{type:{name:"bool"},required:!1,description:""},element:{type:{name:"shape",value:{id:{name:"string",required:!1},stream:{name:"any",required:!1},userId:{name:"string",required:!1},participant:{name:"object",required:!1},type:{name:"string",required:!1},filled:{name:"bool",required:!1},muted:{name:"bool",required:!1},microphone:{name:"bool",required:!1},selected:{name:"bool",required:!1},favourite:{name:"bool",required:!1},speaking:{name:"bool",required:!1},mainSpeaker:{name:"bool",required:!1},secondStream:{name:"bool",required:!1}}},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""},showVideo:{type:{name:"bool"},required:!1,description:""},showStreamSettingsMenu:{type:{name:"func"},required:!1,description:""},toggleFavourite:{type:{name:"func"},required:!1,description:""},toggleMuted:{type:{name:"func"},required:!1,description:""},toggleMicrophone:{type:{name:"func"},required:!1,description:""},toggleSelected:{type:{name:"func"},required:!1,description:""},users:{type:{name:"object"},required:!1,description:""},isPopupTooSmallToShowControlls:{type:{name:"bool"},required:!1,description:""}}};var Side=Object(es.b)((function mapStateToProps(state){return{sound:state.getIn([CallsService.a,"sound"]),users:state.get("users")}}))(withStyles_default()(Conference_default.a)(Object(react.memo)(Side_ConferenceSideElement,Side_areEqual))),conference2_Spinner=__webpack_require__(4079);function PopupAreaLayout_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function PopupAreaLayout_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?PopupAreaLayout_ownKeys(Object(source),!0).forEach((function(key){PopupAreaLayout_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):PopupAreaLayout_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function PopupAreaLayout_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function PopupAreaLayout(props){var mainVideoList=props.mainVideoList,otherVideoList=props.otherVideoList,selectedCallProvider=props.selectedCallProvider,me=props.me,data=props.data,view=props.view,allowIncomingVideo=props.allowIncomingVideo,expand=props.expand,toggleMuted=props.toggleMuted,toggleFavourite=props.toggleFavourite,toggleMicrophone=props.toggleMicrophone,toggleSelected=props.toggleSelected,showStreamSettingsMenu=props.showStreamSettingsMenu,isPopupTooSmallToShowControlls=props.isPopupTooSmallToShowControlls,toggleAutoSelect=props.toggleAutoSelect,clearSelectedStream=props.clearSelectedStream;if(Object(react.useEffect)((function(){})),!data||mainVideoList.length+otherVideoList.length===0)return Object(jsx_runtime.jsx)("div",{className:classnames_default()(Popup_default.a.area,Popup_default.a.centered),children:Object(jsx_runtime.jsx)(conference2_Spinner.a,{})});view!==types.s.GRID&&(mainVideoList.length||mainVideoList.push(otherVideoList.shift()));var mainStyles=PopupAreaLayout_objectSpread(PopupAreaLayout_objectSpread({},data.main.size),{},{gridTemplateColumns:"repeat("+data.main.cols+",1fr)",gridTemplateRows:"repeat("+data.main.rows+",1fr)"}),mainItemStyles=data.main.element_size,mainExpandedElements=data.main.cols*data.main.rows-mainVideoList.length,otherStyles=PopupAreaLayout_objectSpread(PopupAreaLayout_objectSpread({},data.other.size),{},{gridTemplateColumns:"repeat("+data.other.cols+",1fr)",gridTemplateRows:"repeat("+data.other.rows+",1fr)"});data.orientation?(otherStyles.gridAutoFlow="row",otherStyles.overflowY="auto",otherStyles.overflowX="hidden"):(otherStyles.gridAutoFlow="column",otherStyles.overflowY="hidden",otherStyles.overflowX="auto");var otherItemStyles=data.other.element_size;1===otherVideoList.length&&((otherItemStyles=PopupAreaLayout_objectSpread({},data.other.fixed_element_size)).maxHeight=otherItemStyles.height);var otherExpandedElements=data.other.cols*data.other.rows-otherVideoList.length,getPreviewItemStyles=function getPreviewItemStyles(i){var isHorizontalMode=1===data.orientation,isVerticalMode=0===data.orientation,rowsCount=data.other.rows,expandedStyles={gridRow:"1 / span 2"};if((isHorizontalMode||1===rowsCount)&&i<otherExpandedElements)return expandedStyles;if(isVerticalMode){if(0===i&&otherExpandedElements>0)return expandedStyles;if(i%(rowsCount-1)==0&&i<otherExpandedElements*(rowsCount-1))return expandedStyles}return{}};return Object(jsx_runtime.jsxs)("div",{className:classnames_default()(Popup_default.a.area,data.orientation?Popup_default.a.horizontal:Popup_default.a.vertical,props.callWindowView===types.d.FULL_SCREEN?Popup_default.a.full:""),children:[mainVideoList.length?Object(jsx_runtime.jsx)("div",{className:Popup_default.a.main,style:mainStyles,children:mainVideoList.map((function(element,i){return element?Object(jsx_runtime.jsx)("div",{className:Popup_default.a.centered,style:i<mainExpandedElements?{gridRow:"1 / span 2"}:{},children:Object(jsx_runtime.jsx)(Main,{element:element,selectedCallProvider:selectedCallProvider,me:props.me===element.userId,showVideo:allowIncomingVideo||(null==element?void 0:element.hasScreenStream),style:mainItemStyles,expand:expand,toggleSelected:toggleSelected,toggleFavourite:toggleFavourite,toggleMuted:toggleMuted,toggleMicrophone:toggleMicrophone,showStreamSettingsMenu:showStreamSettingsMenu,isPopupTooSmallToShowControlls:isPopupTooSmallToShowControlls,toggleAutoSelect:toggleAutoSelect,clearSelectedStream:clearSelectedStream},element.id+"-element")},element.id):null}))},"main_list"):null,otherVideoList.length?Object(jsx_runtime.jsx)("div",{className:Popup_default.a.side,style:otherStyles,children:otherVideoList.map((function(element,i){return element?Object(jsx_runtime.jsx)("div",{className:Popup_default.a.centered,style:getPreviewItemStyles(i),children:Object(jsx_runtime.jsx)(Side,{element:element,selectedCallProvider:selectedCallProvider,me:me===element.userId,showVideo:allowIncomingVideo||(null==element?void 0:element.hasScreenStream),style:otherItemStyles,toggleFavourite:toggleFavourite,toggleMuted:toggleMuted,toggleMicrophone:toggleMicrophone,toggleSelected:toggleSelected,expand:expand,showStreamSettingsMenu:showStreamSettingsMenu,isPopupTooSmallToShowControlls:isPopupTooSmallToShowControlls,toggleAutoSelect:toggleAutoSelect,clearSelectedStream:toggleAutoSelect},element.id+"-element")},element.id):null}))},"other_list"):null]})}function PopupAreaLayout_areEqual(prevProps,nextProps){return Object(performanceUtils.a)(prevProps,nextProps,["data"])}PopupAreaLayout.propTypes={me:prop_types_default.a.string,selectedCallProvider:prop_types_default.a.string,mainVideoList:prop_types_default.a.array,otherVideoList:prop_types_default.a.array,data:prop_types_default.a.object,view:prop_types_default.a.any,allowIncomingVideo:prop_types_default.a.any,expand:prop_types_default.a.func,toggleFavourite:prop_types_default.a.func,toggleMuted:prop_types_default.a.func,toggleMicrophone:prop_types_default.a.func,toggleSelected:prop_types_default.a.func,showStreamSettingsMenu:prop_types_default.a.func,toggleAutoSelect:prop_types_default.a.func,clearSelectedStream:prop_types_default.a.func,isPopupTooSmallToShowControlls:prop_types_default.a.bool},PopupAreaLayout.whyDidYouRender=!0,PopupAreaLayout.__docgenInfo={description:"",methods:[],displayName:"PopupAreaLayout",props:{me:{type:{name:"string"},required:!1,description:""},selectedCallProvider:{type:{name:"string"},required:!1,description:""},mainVideoList:{type:{name:"array"},required:!1,description:""},otherVideoList:{type:{name:"array"},required:!1,description:""},data:{type:{name:"object"},required:!1,description:""},view:{type:{name:"any"},required:!1,description:""},allowIncomingVideo:{type:{name:"any"},required:!1,description:""},expand:{type:{name:"func"},required:!1,description:""},toggleFavourite:{type:{name:"func"},required:!1,description:""},toggleMuted:{type:{name:"func"},required:!1,description:""},toggleMicrophone:{type:{name:"func"},required:!1,description:""},toggleSelected:{type:{name:"func"},required:!1,description:""},showStreamSettingsMenu:{type:{name:"func"},required:!1,description:""},toggleAutoSelect:{type:{name:"func"},required:!1,description:""},clearSelectedStream:{type:{name:"func"},required:!1,description:""},isPopupTooSmallToShowControlls:{type:{name:"bool"},required:!1,description:""}}};var Popup_PopupAreaLayout=withStyles_default()(Popup_default.a)(Object(react.memo)(PopupAreaLayout,PopupAreaLayout_areEqual)),DoubleChatIcon_DoubleChatIcon=function DoubleChatIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$width=_ref.width,width=void 0===_ref$width?22:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?22:_ref$height,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"#000":_ref$fill;return Object(jsx_runtime.jsx)("svg",{width:width,height:height,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.20413 1.375C3.94883 1.375 1.39648 4.17509 1.39648 7.51885C1.39648 9.89072 2.67162 11.9744 4.57216 12.9972V16.9154L6.95274 15.2789C7.40794 15.7897 7.94612 16.2189 8.54676 16.5421V20.4603L13.2783 17.2076H14.7959C18.0512 17.2076 20.6035 14.4075 20.6035 11.0638C20.6035 8.20228 18.7343 5.73894 16.155 5.08789C15.2712 2.92129 13.2403 1.375 10.8213 1.375H7.20413ZM2.98633 7.51885C2.98633 4.95434 4.92252 2.96484 7.20413 2.96484H10.8213C13.1029 2.96484 15.0391 4.95434 15.0391 7.51885C15.0391 10.0834 13.1029 12.0729 10.8213 12.0729H8.80997L6.162 13.8932V11.9691L5.67522 11.7644C4.12231 11.1114 2.98633 9.47404 2.98633 7.51885ZM16.6042 6.9507C16.6206 7.13803 16.6289 7.32755 16.6289 7.51885C16.6289 10.8626 14.0766 13.6627 10.8213 13.6627H9.30373L8.27743 14.3682C8.67262 14.7727 9.13863 15.0944 9.64982 15.3093L10.1366 15.514V17.4381L12.7846 15.6178H14.7959C17.0775 15.6178 19.0137 13.6283 19.0137 11.0638C19.0137 9.22078 18.0137 7.67476 16.6042 6.9507Z",fill:fill,fillOpacity:"0.85"})})};DoubleChatIcon_DoubleChatIcon.__docgenInfo={description:"",methods:[],displayName:"DoubleChatIcon"};var Icons_DoubleChatIcon=DoubleChatIcon_DoubleChatIcon,LeaveCallIcon_LeaveCallIcon=function LeaveCallIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$width=_ref.width,width=void 0===_ref$width?16:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?16:_ref$height,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"none":_ref$fill,_ref$color=_ref.color,color=void 0===_ref$color?"white":_ref$color,_ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style;return Object(jsx_runtime.jsxs)("svg",{style:style,width:width,height:height,viewBox:"0 0 16 16",fill:fill,xmlns:"http://www.w3.org/2000/svg",children:[Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.49148 8.97046L9.75205 8.7099C10.5087 7.95326 11.7354 7.95326 12.4921 8.7099L14.4301 10.6479C15.1868 11.4046 15.1868 12.6313 14.4301 13.388L13.2409 14.5771C13.094 14.7241 12.9173 14.8233 12.7303 14.8746C12.1348 15.0569 11.5037 14.9623 10.9797 14.8103C10.406 14.644 9.79018 14.3583 9.16725 13.9971C7.91764 13.2725 6.5125 12.1696 5.16523 10.8224C3.81796 9.47509 2.71512 8.06995 1.99052 6.82034C1.6293 6.19741 1.34362 5.58156 1.17724 5.00789C1.02527 4.48387 0.930637 3.85266 1.11301 3.25713C1.16439 3.07015 1.26353 2.89356 1.41044 2.74665L2.59962 1.55747C3.35626 0.80083 4.58302 0.80083 5.33966 1.55747L7.27769 3.4955C8.03433 4.25214 8.03433 5.4789 7.27769 6.23554L7.01713 6.49611C7.03041 6.5477 7.04963 6.6106 7.07716 6.68453C7.21824 7.06332 7.51439 7.56132 7.97033 8.01726C8.42627 8.4732 8.92427 8.76935 9.30306 8.91043C9.37699 8.93797 9.43989 8.95718 9.49148 8.97046ZM9.65262 8.99852C9.66183 8.99778 9.66693 8.9979 9.66718 8.99815C9.66742 8.9984 9.66282 8.99876 9.65262 8.99852ZM6.98944 6.32041C6.98969 6.32066 6.98981 6.32576 6.98907 6.33497C6.98882 6.32477 6.98919 6.32017 6.98944 6.32041ZM10.0725 10.0246L10.0739 10.0232L10.0766 10.0205L10.5696 9.52749C10.8747 9.22239 11.3694 9.22239 11.6745 9.52749L13.6125 11.4655C13.9176 11.7706 13.9176 12.2653 13.6125 12.5704L12.4234 13.7596C12.4231 13.7598 12.4226 13.7598 12.4223 13.7596C12.4221 13.7594 12.4218 13.7593 12.4216 13.7594C11.2903 14.1473 8.56754 12.5895 5.98282 10.0048C3.39811 7.42005 1.84027 4.69724 2.22821 3.56601C2.2283 3.56575 2.22823 3.56547 2.22803 3.56527C2.22775 3.56499 2.22775 3.56453 2.22803 3.56424L3.41721 2.37506C3.72231 2.06997 4.21697 2.06997 4.52207 2.37506L6.4601 4.31309C6.7652 4.61819 6.7652 5.11285 6.4601 5.41795L5.963 5.91505C5.59316 6.28489 6.01792 7.70004 7.15274 8.83485C8.28755 9.96967 9.7027 10.3944 10.0725 10.0246Z",fill:color}),Object(jsx_runtime.jsx)("path",{d:"M13.753 4.37093C13.753 4.69022 14.0118 4.94906 14.3311 4.94906C14.6504 4.94906 14.9092 4.69022 14.9092 4.37093V1.10801L11.6463 1.10801C11.327 1.10801 11.0682 1.36685 11.0682 1.68614C11.0682 2.00543 11.327 2.26426 11.6463 2.26426L12.9133 2.26426L10.5912 4.58639C10.3654 4.81216 10.3654 5.17821 10.5912 5.40398C10.817 5.62975 11.183 5.62975 11.4088 5.40398L13.753 3.05979L13.753 4.37093Z",fill:color})]})};LeaveCallIcon_LeaveCallIcon.__docgenInfo={description:"",methods:[],displayName:"LeaveCallIcon"};var Icons_LeaveCallIcon=LeaveCallIcon_LeaveCallIcon,PhoneIcon_PhoneIcon=function PhoneIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$width=_ref.width,width=void 0===_ref$width?16:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?16:_ref$height,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"none":_ref$fill,_ref$color=_ref.color,color=void 0===_ref$color?"white":_ref$color,_ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style;return Object(jsx_runtime.jsx)("svg",{style:style,width:width,height:height,viewBox:"0 0 16 16",fill:fill,xmlns:"http://www.w3.org/2000/svg",children:Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.71868 8.43301C9.82976 8.47438 9.95227 8.43962 10.0361 8.3558L10.1527 8.23914C10.8842 7.50766 12.0702 7.50766 12.8017 8.23914L14.6753 10.1128C15.4068 10.8442 15.4068 12.0302 14.6753 12.7617L13.5257 13.9114C13.3836 14.0534 13.2128 14.1493 13.032 14.1989C12.4563 14.3752 11.8461 14.2837 11.3396 14.1368C10.785 13.976 10.1896 13.6998 9.58738 13.3506C8.37931 12.65 7.02088 11.5839 5.7184 10.2814C4.41591 8.9789 3.34973 7.62047 2.64922 6.4124C2.30001 5.81017 2.02382 5.21479 1.86297 4.6602C1.71605 4.1536 1.62457 3.54337 1.80088 2.96763C1.85055 2.78688 1.94639 2.61615 2.08842 2.47413L3.23807 1.32448C3.96956 0.592986 5.15554 0.592987 5.88703 1.32448L7.76064 3.19808C8.49212 3.92957 8.49212 5.11555 7.76064 5.84704L7.64398 5.96369C7.56016 6.04751 7.5254 6.17002 7.56677 6.2811C7.70316 6.6473 7.98947 7.12875 8.43025 7.56953C8.87103 8.01031 9.35248 8.29662 9.71868 8.43301ZM9.67527 8.71662L9.67428 8.71761L9.67527 8.71662ZM10.0566 8.51817C10.0655 8.51746 10.0705 8.51758 10.0707 8.51781C10.0709 8.51805 10.0665 8.51841 10.0566 8.51817ZM7.48197 5.92909C7.4822 5.92933 7.48232 5.93426 7.48161 5.94316C7.48137 5.9333 7.48173 5.92885 7.48197 5.92909ZM10.4626 9.51014L10.4639 9.50883L10.4665 9.50621L10.9432 9.02956C11.2381 8.7346 11.7163 8.7346 12.0113 9.02956L13.8849 10.9032C14.1798 11.1981 14.1798 11.6763 13.8849 11.9713L12.7352 13.1209C12.735 13.1212 12.7345 13.1212 12.7342 13.1209C12.7341 13.1207 12.7338 13.1207 12.7335 13.1208C11.6399 13.4958 9.00761 11.9898 6.50881 9.49097C4.01001 6.99217 2.50397 4.35987 2.87901 3.26625C2.87909 3.26599 2.87903 3.26572 2.87884 3.26553C2.87856 3.26526 2.87856 3.26481 2.87884 3.26454L4.02849 2.11489C4.32344 1.81993 4.80166 1.81993 5.09661 2.11489L6.97022 3.9885C7.26518 4.28345 7.26518 4.76167 6.97022 5.05662L6.48964 5.5372C6.1321 5.89475 6.54274 7.26285 7.63984 8.35994C8.73693 9.45704 10.105 9.86768 10.4626 9.51014Z",fill:color})})};PhoneIcon_PhoneIcon.__docgenInfo={description:"",methods:[],displayName:"PhoneIcon"};var Icons_PhoneIcon=PhoneIcon_PhoneIcon;function ChangeDevices_typeof(obj){return(ChangeDevices_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ChangeDevices_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function ChangeDevices_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ChangeDevices_setPrototypeOf(o,p){return(ChangeDevices_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function ChangeDevices_createSuper(Derived){var hasNativeReflectConstruct=function ChangeDevices_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=ChangeDevices_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=ChangeDevices_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return ChangeDevices_possibleConstructorReturn(this,result)}}function ChangeDevices_possibleConstructorReturn(self,call){return!call||"object"!==ChangeDevices_typeof(call)&&"function"!=typeof call?ChangeDevices_assertThisInitialized(self):call}function ChangeDevices_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function ChangeDevices_getPrototypeOf(o){return(ChangeDevices_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ChangeDevices_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ChangeDevices_ChangeDevices=function(_React$Component){!function ChangeDevices_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ChangeDevices_setPrototypeOf(subClass,superClass)}(ChangeDevices,_React$Component);var _super=ChangeDevices_createSuper(ChangeDevices);function ChangeDevices(props,context){var _this;return function ChangeDevices_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ChangeDevices),ChangeDevices_defineProperty(ChangeDevices_assertThisInitialized(_this=_super.call(this,props,context)),"showVideoInputDevicesWithAwait",function(){var _ref=function ChangeDevices_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ChangeDevices_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ChangeDevices_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(event){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _this.setState({loadingCamera:!0}),_context.next=3,_this.props.showVideoInputDevices(event);case 3:_this.setState({loadingCamera:!1});case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}()),_this.state={loadingCamera:!1},_this.callsService=context.beansContext.getBeanInstance(CallsService.a),_this.contextMenuService=context.beansContext.getBeanInstance(ContextMenuService.a),_this}return function ChangeDevices_createClass(Constructor,protoProps,staticProps){return protoProps&&ChangeDevices_defineProperties(Constructor.prototype,protoProps),staticProps&&ChangeDevices_defineProperties(Constructor,staticProps),Constructor}(ChangeDevices,[{key:"componentDidMount",value:function componentDidMount(){this.props.isMuted===this.props.microphone&&this.callsService.setMicrophone(!this.props.isMuted)}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState,nextContext){return!(nextProps.isMuted===this.props.isMuted&&nextProps.stream===this.props.stream&&nextProps.canToggleMute===this.props.canToggleMute&&nextProps.canToggleCamera===this.props.canToggleCamera&&nextProps.microphone===this.props.microphone&&nextProps.camera===this.props.camera&&nextProps.sound===this.props.sound&&nextProps.compactView===this.props.compactView&&nextProps.callWindowView===this.props.callWindowView&&!nextProps.requestedStream&&!this.props.requestedStream&&nextState.loadingCamera===this.state.loadingCamera&&nextProps.disabled===this.props.disabled)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){prevProps.isMuted!==this.props.isMuted&&this.props.isMuted===this.props.microphone&&this.callsService.setMicrophone(!this.props.isMuted),prevProps.stream!==this.props.stream&&!!this.props.stream!==this.props.camera&&this.callsService.setCamera(!!this.props.stream)}},{key:"render",value:function render(){var _classNames,_classNames2,loadingCamera=this.state.loadingCamera,_this$props=this.props,microphone=_this$props.microphone,camera=_this$props.camera,callWindowView=_this$props.callWindowView,requestedStream=_this$props.requestedStream,permissionStatusCamera=_this$props.permissionStatusCamera,permissionStatusMicrophone=_this$props.permissionStatusMicrophone,requestedStreamAudio=callWindowView!==types.d.FLOAT&&!microphone&&requestedStream===types.p.AUDIO,requestedStreamVideo=callWindowView!==types.d.FLOAT&&!camera&&requestedStream===types.p.VIDEO,microphoneButtonTitle=Object(localization.a)("tooltips","microphone"),cameraButtonTitle=Object(localization.a)("tooltips","camera");return requestedStreamAudio&&(microphoneButtonTitle=Object(localization.a)("workspaces","user_request_audio")),requestedStreamVideo&&(cameraButtonTitle=Object(localization.a)("workspaces","user_request_video")),Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[this.props.canToggleMute&&Object(jsx_runtime.jsx)(react_default.a.Fragment,{children:Object(jsx_runtime.jsx)(TiniButton.a,{className:classnames_default()(Conference_default.a.callButton,Conference_default.a.microphone,(_classNames={},ChangeDevices_defineProperty(_classNames,Conference_default.a.disabled,!this.props.microphone),ChangeDevices_defineProperty(_classNames,Conference_default.a.cursorNotAllowed,permissionStatusMicrophone!==MediaDevicesHelper.b.GRANTED),_classNames)),onClick:this.props.showAudioInputDevices,title:microphoneButtonTitle,showTitle:!!requestedStreamAudio||void 0,titlePlacement:requestedStreamAudio?"top":void 0,arrow:requestedStreamAudio,disabled:permissionStatusMicrophone!==MediaDevicesHelper.b.GRANTED||this.props.disabled,children:Object(jsx_runtime.jsx)(MicrophoneIcon.a,{working:this.props.microphone,height:16,width:16,fill:this.props.microphone&&this.props.compactView?"#fff":void 0})})}),this.props.canToggleCamera&&Object(jsx_runtime.jsx)(TiniButton.a,{className:classnames_default()(Conference_default.a.callButton,Conference_default.a.camera,(_classNames2={},ChangeDevices_defineProperty(_classNames2,Conference_default.a.disabled,!this.props.camera),ChangeDevices_defineProperty(_classNames2,Conference_default.a.cursorNotAllowed,permissionStatusCamera!==MediaDevicesHelper.b.GRANTED),_classNames2)),disabled:!this.props.stream&&this.props.camera||loadingCamera||permissionStatusCamera!==MediaDevicesHelper.b.GRANTED||this.props.disabled,onClick:this.showVideoInputDevicesWithAwait,title:cameraButtonTitle,showTitle:!!requestedStreamVideo||void 0,titlePlacement:requestedStreamVideo?"top":void 0,arrow:requestedStreamVideo,children:!this.props.stream&&this.props.camera||loadingCamera?Object(jsx_runtime.jsx)(Spinner.a,{style:{height:16,width:16,color:"#99c7ff"},size:1}):Object(jsx_runtime.jsx)(CameraIcon.a,{working:this.props.camera,height:16,width:16,fill:this.props.camera&&this.props.compactView?"#fff":void 0})}),Object(jsx_runtime.jsx)(TiniButton.a,{disabled:this.props.disabled,className:classnames_default()(Conference_default.a.callButton,Conference_default.a.sound,ChangeDevices_defineProperty({},Conference_default.a.disabled,!this.props.sound)),onClick:this.props.showAudioOutputDevices,title:Object(localization.a)("tooltips","speaker"),children:Object(jsx_runtime.jsx)(Icons_SpeakerIcon,{working:this.props.sound,height:16,width:16,fill:this.props.sound&&this.props.compactView?"#fff":void 0})})]})}}]),ChangeDevices}(react_default.a.Component);ChangeDevices_defineProperty(ChangeDevices_ChangeDevices,"propTypes",{isMuted:prop_types_default.a.bool,stream:prop_types_default.a.bool,canToggleMute:prop_types_default.a.bool,canToggleCamera:prop_types_default.a.bool,microphone:prop_types_default.a.bool,camera:prop_types_default.a.bool,sound:prop_types_default.a.bool,compactView:prop_types_default.a.bool,callWindowView:prop_types_default.a.string,requestedStream:prop_types_default.a.string,permissionStatusCamera:prop_types_default.a.string,permissionStatusMicrophone:prop_types_default.a.string,toggleMicrophone:prop_types_default.a.func,toggleCamera:prop_types_default.a.func,toggleSound:prop_types_default.a.func,showAudioInputDevices:prop_types_default.a.func,showVideoInputDevices:prop_types_default.a.func,showAudioOutputDevices:prop_types_default.a.func,disabled:prop_types_default.a.bool}),ChangeDevices_defineProperty(ChangeDevices_ChangeDevices,"contextTypes",{beansContext:prop_types_default.a.object}),ChangeDevices_defineProperty(ChangeDevices_ChangeDevices,"defaultProps",{showAudioInputDevices:function showAudioInputDevices(){},showVideoInputDevices:function showVideoInputDevices(){},showAudioOutputDevices:function showAudioOutputDevices(){},disabled:!1}),ChangeDevices_ChangeDevices.__docgenInfo={description:"",methods:[{name:"showVideoInputDevicesWithAwait",docblock:null,modifiers:["async"],params:[{name:"event",type:null}],returns:null}],displayName:"ChangeDevices",props:{showAudioInputDevices:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},showVideoInputDevices:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},showAudioOutputDevices:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},disabled:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isMuted:{type:{name:"bool"},required:!1,description:""},stream:{type:{name:"bool"},required:!1,description:""},canToggleMute:{type:{name:"bool"},required:!1,description:""},canToggleCamera:{type:{name:"bool"},required:!1,description:""},microphone:{type:{name:"bool"},required:!1,description:""},camera:{type:{name:"bool"},required:!1,description:""},sound:{type:{name:"bool"},required:!1,description:""},compactView:{type:{name:"bool"},required:!1,description:""},callWindowView:{type:{name:"string"},required:!1,description:""},requestedStream:{type:{name:"string"},required:!1,description:""},permissionStatusCamera:{type:{name:"string"},required:!1,description:""},permissionStatusMicrophone:{type:{name:"string"},required:!1,description:""},toggleMicrophone:{type:{name:"func"},required:!1,description:""},toggleCamera:{type:{name:"func"},required:!1,description:""},toggleSound:{type:{name:"func"},required:!1,description:""}},context:{beansContext:{type:{name:"object"},required:!1}}};var conference2_ChangeDevices=withStyles_default()(Conference_default.a)(ChangeDevices_ChangeDevices),SmartShareContextIcon_SmartShareContextIcon=function SmartShareContextIcon(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$fill=_ref.fill,fill=void 0===_ref$fill?"#000":_ref$fill,_ref$height=_ref.height,height=void 0===_ref$height?"24":_ref$height,_ref$width=_ref.width,width=void 0===_ref$width?"24":_ref$width;return Object(jsx_runtime.jsxs)("svg",{width:width,height:height,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5144 21.3128C19.5144 22.309 19.1178 23.2118 18.4748 23.8699C19.6579 24.6826 20.5253 26.04 20.8153 27.641H18.8489C18.4197 25.9685 17.1078 24.9847 15.9076 24.9847C14.7075 24.9847 13.3956 25.9685 12.9663 27.641H11C11.2887 26.047 12.1498 24.6945 13.3249 23.8806C12.6758 23.2216 12.2748 22.3144 12.2748 21.3128C12.2748 19.2993 13.8955 17.667 15.8946 17.667C17.8938 17.667 19.5144 19.2993 19.5144 21.3128ZM15.8946 23.0316C16.8165 23.0316 17.5873 22.2751 17.5873 21.3128C17.5873 20.3505 16.8165 19.5941 15.8946 19.5941C14.9728 19.5941 14.2019 20.3505 14.2019 21.3128C14.2019 22.2751 14.9728 23.0316 15.8946 23.0316Z",fill:fill}),Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2605 6.26058H6.31258V14.8543H21.2605V6.26058ZM4.3855 4.3335V16.7814H23.1876V4.3335H4.3855Z",fill:fill}),Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7395 9.33333H23.2135V14.8542H25.7395V9.33333ZM21.2864 7.40625V16.7812H27.6666V7.40625H21.2864Z",fill:fill}),Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.6407 18.7549C26.9842 18.0833 26.071 17.667 25.0614 17.667C23.0622 17.667 21.4416 19.2993 21.4416 21.3128C21.4416 22.3144 21.8426 23.2216 22.4917 23.8806C21.3166 24.6945 20.4554 26.047 20.1667 27.641H22.1331C22.5624 25.9685 23.8742 24.9847 25.0744 24.9847C26.0241 24.9847 27.0438 25.6008 27.6407 26.6867V18.7549ZM26.7541 21.3128C26.7541 22.2751 25.9832 23.0316 25.0614 23.0316C24.1395 23.0316 23.3687 22.2751 23.3687 21.3128C23.3687 20.3505 24.1395 19.5941 25.0614 19.5941C25.9832 19.5941 26.7541 20.3505 26.7541 21.3128Z",fill:fill}),Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.35929 18.7549C5.01585 18.0833 5.92896 17.667 6.93863 17.667C8.93779 17.667 10.5584 19.2993 10.5584 21.3128C10.5584 22.3144 10.1574 23.2216 9.50833 23.8806C10.6834 24.6945 11.5446 26.047 11.8333 27.641H9.86692C9.43762 25.9685 8.12576 24.9847 6.92561 24.9847C5.97589 24.9847 4.95622 25.6008 4.35929 26.6867V18.7549ZM5.24592 21.3128C5.24592 22.2751 6.01677 23.0316 6.93863 23.0316C7.86049 23.0316 8.63134 22.2751 8.63134 21.3128C8.63134 20.3505 7.86049 19.5941 6.93863 19.5941C6.01677 19.5941 5.24592 20.3505 5.24592 21.3128Z",fill:fill})]})};SmartShareContextIcon_SmartShareContextIcon.__docgenInfo={description:"",methods:[],displayName:"SmartShareContextIcon"};var Icons_SmartShareContextIcon=SmartShareContextIcon_SmartShareContextIcon;function Bottom_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Bottom_PopupBottom=function PopupBottom(props){var screenShareButtonTitle;screenShareButtonTitle=props.hasScreenStream?Object(localization.a)("tooltips","stop_screen_sharing"):props.callWindowView!==types.d.FLOAT&&props.requestedStream===types.p.SCREEN?Object(localization.a)("workspaces","user_request_screen"):Object(localization.a)("tooltips","start_screen_sharing");var requestedStreamScreen=props.callWindowView!==types.d.FLOAT&&!props.hasScreenStream&&props.requestedStream===types.p.SCREEN;return Object(jsx_runtime.jsxs)("div",{className:classnames_default()(Popup_default.a.bottom,Bottom_defineProperty({},Popup_default.a.compact,props.compactView)),children:[Object(jsx_runtime.jsx)(TiniButton.a,{className:classnames_default()(Popup_default.a.callButton,props.canCloseConference?Popup_default.a.red:Popup_default.a.yellow),onClick:props.onLeaveConference,title:function getButtonTooltip(canClose){return canClose?Object(localization.a)("tooltips","end_the_call"):Object(localization.a)("tooltips","leave_the_call")}(props.canCloseConference),children:Object(jsx_runtime.jsx)("div",{className:Popup_default.a.icon,children:props.canCloseConference?Object(jsx_runtime.jsx)(Icons_PhoneIcon,{style:{transform:"rotate(90deg)"}}):Object(jsx_runtime.jsx)(Icons_LeaveCallIcon,{})})}),Object(jsx_runtime.jsx)(conference2_ChangeDevices,{compactView:props.compactView,isMuted:props.isMuted,stream:props.hasCameraStream,microphone:props.microphone,camera:props.camera,sound:props.sound,canToggleMute:props.canToggleMute,canToggleCamera:props.canToggleCamera,callWindowView:props.callWindowView,requestedStream:props.requestedStream,permissionStatusCamera:props.permissionStatusCamera,permissionStatusMicrophone:props.permissionStatusMicrophone,toggleMicrophone:props.toggleMicrophone,toggleCamera:props.toggleCamera,toggleSound:props.toggleSound,showAudioInputDevices:props.showAudioInputDevices,showVideoInputDevices:props.showVideoInputDevices,showAudioOutputDevices:props.showAudioOutputDevices,disabled:props.tryingToReconnect}),props.canShareScreen&&!props.isSmartShareActive&&!props.hasScreenStream&&Object(jsx_runtime.jsx)(TiniButton.a,{disabled:props.tryingToReconnect,className:classnames_default()(Popup_default.a.callButton,Popup_default.a.screenShare,Bottom_defineProperty({},Popup_default.a.working,props.hasScreenStream)),onClick:props.triggerShare,title:screenShareButtonTitle,showTitle:!!requestedStreamScreen||void 0,titlePlacement:requestedStreamScreen?"top":void 0,arrow:requestedStreamScreen,children:Object(jsx_runtime.jsx)(ScreenShareIcon.a,{working:props.hasScreenStream,height:14,width:14})}),Object(jsx_runtime.jsxs)("div",{className:classnames_default()(Popup_default.a.buttonMargin,Bottom_defineProperty({},Popup_default.a.shareContainer,props.hasScreenStream&&props.isSmartShareActive)),children:[props.hasScreenStream&&Object(jsx_runtime.jsx)(react_default.a.Fragment,{children:Object(jsx_runtime.jsx)("button",{disabled:props.tryingToReconnect,type:"button",className:classnames_default()(Popup_default.a.callButton,Popup_default.a.screenShare,Popup_default.a.working,Bottom_defineProperty({},Popup_default.a.showBoth,props.hasScreenStream&&props.isSmartShareActive),Bottom_defineProperty({},Popup_default.a.smartShareWithScreen,props.hasScreenStream&&props.isSmartShareActive)),onClick:props.triggerShare,children:Object(jsx_runtime.jsx)(ScreenShareIcon.a,{working:props.hasScreenStream,height:14,width:14,fill:"#e5f3ff"})})}),props.isSmartShareActive&&Object(jsx_runtime.jsx)("button",{disabled:props.tryingToReconnect,type:"button",className:classnames_default()(Popup_default.a.callButton,Popup_default.a.screenShare,Popup_default.a.workingSmartShare,Bottom_defineProperty({},Popup_default.a.showBoth,props.hasScreenStream&&props.isSmartShareActive),Bottom_defineProperty({},Popup_default.a.screenShareWithSmart,props.hasScreenStream&&props.isSmartShareActive)),onClick:props.triggerShare,children:Object(jsx_runtime.jsx)(Icons_SmartShareContextIcon,{height:16,width:16,fill:"#fff"})})]}),!props.compactView&&Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[props.isChatIconVisible&&Object(jsx_runtime.jsx)(TiniButton.a,{disabled:props.tryingToReconnect,className:classnames_default()(Popup_default.a.callButton,Popup_default.a.chat),onClick:props.openDirectChat,title:Object(localization.a)("tooltips","chat"),children:Object(jsx_runtime.jsx)(Icons_DoubleChatIcon,{width:18,height:18,fill:"#fff"})}),Object(jsx_runtime.jsx)("span",{className:Popup_default.a.separator,style:{flex:1,pointerEvents:"none"}}),props.isCallManagerIconVisible&&Object(jsx_runtime.jsx)(TiniButton.a,{disabled:props.tryingToReconnect,className:Popup_default.a.callButton,onClick:props.toggleCallManager,title:Object(localization.a)("tooltips","call_manager"),children:Object(jsx_runtime.jsx)(UserList.a,{className:Popup_default.a.callManagerButton,color:props.showCallManager?"primary":"inherit",htmlColor:props.showCallManager?void 0:"#ffffff"})}),Object(jsx_runtime.jsx)(TiniButton.a,{disabled:props.tryingToReconnect,className:classnames_default()(Popup_default.a.callButton,Popup_default.a.menu),onClick:props.showConferenceMenu,title:Object(localization.a)("tooltips","call_menu"),children:Object(jsx_runtime.jsx)(Icons_EllipseIcon,{width:18,height:18,fill:"#fff"})})]})]})};Bottom_PopupBottom.propTypes={compactView:prop_types_default.a.bool,canCloseConference:prop_types_default.a.bool,canShareScreen:prop_types_default.a.bool,isSmartShareActive:prop_types_default.a.bool,hasCameraStream:prop_types_default.a.bool,hasScreenStream:prop_types_default.a.bool,isChatIconVisible:prop_types_default.a.bool,isCallManagerIconVisible:prop_types_default.a.bool,canToggleMute:prop_types_default.a.bool,canToggleCamera:prop_types_default.a.bool,isMuted:prop_types_default.a.bool,microphone:prop_types_default.a.bool,camera:prop_types_default.a.bool,sound:prop_types_default.a.bool,showCallManager:prop_types_default.a.bool,callWindowView:prop_types_default.a.string,requestedStream:prop_types_default.a.string,permissionStatusCamera:prop_types_default.a.string,permissionStatusMicrophone:prop_types_default.a.string,onLeaveConference:prop_types_default.a.func,triggerShare:prop_types_default.a.func,openDirectChat:prop_types_default.a.func,showConferenceMenu:prop_types_default.a.func,toggleMicrophone:prop_types_default.a.func,toggleCamera:prop_types_default.a.func,toggleSound:prop_types_default.a.func,toggleCallManager:prop_types_default.a.func,showAudioInputDevices:prop_types_default.a.func,showVideoInputDevices:prop_types_default.a.func,showAudioOutputDevices:prop_types_default.a.func,showDirectChat:prop_types_default.a.func,setDirectChatActiveRoom:prop_types_default.a.func,tryingToReconnect:prop_types_default.a.bool},Bottom_PopupBottom.defaultProps={onLeaveConference:function onLeaveConference(){},triggerShare:function triggerShare(){},openDirectChat:function openDirectChat(){},showConferenceMenu:function showConferenceMenu(){},toggleMicrophone:function toggleMicrophone(){},toggleCamera:function toggleCamera(){},toggleSound:function toggleSound(){},toggleCallManager:function toggleCallManager(){},showAudioInputDevices:function showAudioInputDevices(){},showVideoInputDevices:function showVideoInputDevices(){},showAudioOutputDevices:function showAudioOutputDevices(){},showDirectChat:function showDirectChat(){},setDirectChatActiveRoom:function setDirectChatActiveRoom(){}};var Bottom_areEqual=function areEqual(prevProps,nextProps){return prevProps.compactView===nextProps.compactView&&prevProps.canCloseConference===nextProps.canCloseConference&&prevProps.canShareScreen===nextProps.canShareScreen&&prevProps.isSmartShareActive===nextProps.isSmartShareActive&&prevProps.hasCameraStream===nextProps.hasCameraStream&&prevProps.hasScreenStream===nextProps.hasScreenStream&&prevProps.isChatIconVisible===nextProps.isChatIconVisible&&prevProps.isCallManagerIconVisible===nextProps.isCallManagerIconVisible&&prevProps.canToggleMute===nextProps.canToggleMute&&prevProps.canToggleCamera===nextProps.canToggleCamera&&prevProps.isMuted===nextProps.isMuted&&prevProps.microphone===nextProps.microphone&&prevProps.sound===nextProps.sound&&prevProps.camera===nextProps.camera&&prevProps.showCallManager===nextProps.showCallManager&&prevProps.callWindowView===nextProps.callWindowView&&prevProps.requestedStream===nextProps.requestedStream&&prevProps.permissionStatusCamera===nextProps.permissionStatusCamera&&prevProps.permissionStatusMicrophone===nextProps.permissionStatusMicrophone&&prevProps.tryingToReconnect===nextProps.tryingToReconnect};Bottom_PopupBottom.__docgenInfo={description:"",methods:[],displayName:"PopupBottom",props:{onLeaveConference:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},triggerShare:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},openDirectChat:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},showConferenceMenu:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},toggleMicrophone:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},toggleCamera:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},toggleSound:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},toggleCallManager:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},showAudioInputDevices:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},showVideoInputDevices:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},showAudioOutputDevices:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},showDirectChat:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},setDirectChatActiveRoom:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},compactView:{type:{name:"bool"},required:!1,description:""},canCloseConference:{type:{name:"bool"},required:!1,description:""},canShareScreen:{type:{name:"bool"},required:!1,description:""},isSmartShareActive:{type:{name:"bool"},required:!1,description:""},hasCameraStream:{type:{name:"bool"},required:!1,description:""},hasScreenStream:{type:{name:"bool"},required:!1,description:""},isChatIconVisible:{type:{name:"bool"},required:!1,description:""},isCallManagerIconVisible:{type:{name:"bool"},required:!1,description:""},canToggleMute:{type:{name:"bool"},required:!1,description:""},canToggleCamera:{type:{name:"bool"},required:!1,description:""},isMuted:{type:{name:"bool"},required:!1,description:""},microphone:{type:{name:"bool"},required:!1,description:""},camera:{type:{name:"bool"},required:!1,description:""},sound:{type:{name:"bool"},required:!1,description:""},showCallManager:{type:{name:"bool"},required:!1,description:""},callWindowView:{type:{name:"string"},required:!1,description:""},requestedStream:{type:{name:"string"},required:!1,description:""},permissionStatusCamera:{type:{name:"string"},required:!1,description:""},permissionStatusMicrophone:{type:{name:"string"},required:!1,description:""},tryingToReconnect:{type:{name:"bool"},required:!1,description:""}}};var Bottom=Object(react.memo)(Bottom_PopupBottom,Bottom_areEqual);function findLayout_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function findLayout_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function findLayout_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function findLayout_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var base_ratio=4/3,memoize=__webpack_require__(4271).default,min_height=45,min_width=60,findLayout=memoize(2e4)((function(_ref){var height=_ref.height,width=_ref.width,main_videos=_ref.main_videos,other_videos=_ref.other_videos,_ref$objectFit=_ref.objectFit,objectFit=void 0===_ref$objectFit?"fit":_ref$objectFit,size={height:0,width:0},orientation=1,main={rows:1,cols:1,orientation:orientation,size:{height:0,width:0},element_size:{height:0,width:0},fixed_element_size:{height:0,width:0}},other={rows:1,cols:1,orientation:orientation,size:{height:0,width:0},element_size:{height:0,width:0},fixed_element_size:{height:0,width:0}};if(main_videos&&other_videos){if(width/height>base_ratio){orientation=1,main=searchSizes({height:height,width:Math.min(.75*width,width-min_width),orientation:orientation,videos:main_videos,objectFit:objectFit}),other=searchSizes({height:height,width:width-main.size.width,orientation:orientation,videos:other_videos,objectFit:objectFit,max:{height:.65*main.element_size.height,width:.8*main.element_size.width}}),main=searchSizes({height:height,width:width-other.size.width,orientation:orientation,videos:main_videos,objectFit:objectFit});var max_height=Math.max(main.size.height,other.size.height);main.size.height=max_height,other.size.height=max_height,main.size.width=width-other.size.width}else{orientation=0,main=searchSizes({height:Math.min(.75*height,height-min_height),width:width,orientation:orientation,videos:main_videos,objectFit:objectFit}),other=searchSizes({height:height-main.size.height,width:width,orientation:orientation,videos:other_videos,objectFit:objectFit,max:{height:.8*main.element_size.height,width:.65*main.element_size.width}}),main=searchSizes({height:height-other.size.height,width:width,orientation:orientation,videos:main_videos,objectFit:objectFit});var max_width=Math.max(main.size.width,other.size.width);main.size.width=max_width,other.size.width=max_width,main.size.height=height-other.size.height}size=orientation?{height:main.size.height,width:main.size.width+other.size.width}:{height:main.size.height+other.size.height,width:main.size.width}}else main_videos?((main=searchSizes({height:height,width:width,orientation:orientation,videos:main_videos,objectFit:objectFit})).size={height:height,width:width},size=main.size):other_videos?((other=searchSizes({height:height,width:width,orientation:orientation,videos:other_videos,objectFit:objectFit})).size={height:height,width:width},size=other.size):size={height:height,width:width};return{size:size,orientation:orientation,main:main,other:other}})),searchSizes=memoize(2e4)((function(_ref2){for(var height=_ref2.height,width=_ref2.width,orientation=_ref2.orientation,videos=_ref2.videos,objectFit=_ref2.objectFit,_ref2$max=_ref2.max,max=void 0!==_ref2$max&&_ref2$max,choice=[],cols=1;cols<=videos;cols++)for(var rows=1;rows<=videos;rows++)if(!(cols*rows<videos||(cols-1)*rows>=videos||cols*(rows-1)>=videos)){var item=minimizeSize({rows:rows,cols:cols,orientation:cols>rows,height:height/rows,width:width/cols});max&&(item.height=Math.min(max.height,item.height),item.width=Math.min(max.width,item.width)),orientation&&item.width<min_width||!orientation&&item.height<min_height||(item.area=item.height*item.width*videos,choice.push(item))}if(!choice.length){var _cols=1,_rows=1;orientation?(_cols=Math.floor(width/min_width),_rows=Math.ceil(videos/_cols)):(_rows=Math.floor(height/min_height),_cols=Math.ceil(videos/_rows)),choice.push({rows:_rows,cols:_cols,orientation:_cols>_rows,height:min_height,width:min_width})}choice.sort((function(a,b){return b.area-a.area||a.rows+a.cols-b.rows-b.cols}));for(var i=1;i<choice.length;i++)if(choice[i].area<.9*choice[0].area){choice.length=i;break}return choice.sort((function(a,b){return a.width*a.cols-b.width*b.cols})),(choice={rows:(choice=choice[0]).rows,cols:choice.cols,orientation:choice.orientation,element_size:{height:Math.max(min_height,height/choice.rows),width:Math.max(min_width,width/choice.cols)},fixed_element_size:{height:Math.max(min_height,choice.height),width:Math.max(min_width,choice.width)}}).size=orientation?{height:height,width:choice.element_size.width*choice.cols}:{height:choice.element_size.height*choice.rows,width:width},"fill"==objectFit&&(choice.element_size.height=height/choice.rows,choice.element_size.width=width/choice.cols),choice})),minimizeSize=memoize(2e4)((function(_ref3){var height=_ref3.height,width=_ref3.width,rest=findLayout_objectWithoutProperties(_ref3,["height","width"]);return width/height>base_ratio?width=height*base_ratio:height=width/base_ratio,function findLayout_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?findLayout_ownKeys(Object(source),!0).forEach((function(key){findLayout_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):findLayout_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({height:height,width:width},rest)})),CallsAPI=__webpack_require__(347),ContexMenu_const=__webpack_require__(1487),paper_Paper=__webpack_require__(525).a,re_resizable_lib=__webpack_require__(4274);function Resizable_typeof(obj){return(Resizable_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Resizable_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Resizable_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Resizable_setPrototypeOf(o,p){return(Resizable_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Resizable_createSuper(Derived){var hasNativeReflectConstruct=function Resizable_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Resizable_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Resizable_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Resizable_possibleConstructorReturn(this,result)}}function Resizable_possibleConstructorReturn(self,call){return!call||"object"!==Resizable_typeof(call)&&"function"!=typeof call?function Resizable_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Resizable_getPrototypeOf(o){return(Resizable_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var isTouchEvent=function isTouchEvent(event){return Boolean(event.touches)&&event.touches.length},endsWith=function endsWith(str,searchStr){return str.substr(str.length-searchStr.length,searchStr.length)===searchStr},snap=function snap(n,size){return Math.round(n/size)*size},findClosestSnap=function findClosestSnap(n,snapArray,snapGap){var closestGapIndex=snapArray.reduce((function(prev,curr,index){return Math.abs(curr-n)<Math.abs(snapArray[prev]-n)?index:prev}),0),gap=Math.abs(snapArray[closestGapIndex]-n);return 0===snapGap||gap<snapGap?snapArray[closestGapIndex]:n},getPixelSize=function getPixelSize(size,parentSize,innerWidth,innerHeight){if(size&&"string"==typeof size){if(endsWith(size,"px"))return Number(size.replace("px",""));if(endsWith(size,"%"))return parentSize*(Number(size.replace("%",""))/100);if(endsWith(size,"vw"))return innerWidth*(Number(size.replace("vw",""))/100);if(endsWith(size,"vh"))return innerHeight*(Number(size.replace("vh",""))/100)}return size},hasDirection=function hasDirection(dir,target){return new RegExp(dir,"i").test(target)},common_Resizable=function(_ReResizable){!function Resizable_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Resizable_setPrototypeOf(subClass,superClass)}(Resizable,_ReResizable);var _super=Resizable_createSuper(Resizable);function Resizable(){return Resizable_classCallCheck(this,Resizable),_super.apply(this,arguments)}return function Resizable_createClass(Constructor,protoProps,staticProps){return protoProps&&Resizable_defineProperties(Constructor.prototype,protoProps),staticProps&&Resizable_defineProperties(Constructor,staticProps),Constructor}(Resizable,[{key:"window",get:function get(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null}},{key:"calculateNewMaxFromBoundary",value:function calculateNewMaxFromBoundary(maxWidth,maxHeight){var boundWidth,boundHeight,boundsByDirection=this.props.boundsByDirection,direction=this.state.direction,widthByDirection=boundsByDirection&&hasDirection("left",direction),heightByDirection=boundsByDirection&&hasDirection("top",direction);if("parent"===this.props.bounds){var parent=this.parentNode;parent&&(boundWidth=widthByDirection?this.resizableRight-this.parentLeft:parent.offsetWidth+(this.parentLeft-this.resizableLeft),boundHeight=heightByDirection?this.resizableBottom-this.parentTop:parent.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(boundWidth=widthByDirection?this.resizableRight:this.window.innerWidth-this.resizableLeft,boundHeight=heightByDirection?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(boundWidth=widthByDirection?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),boundHeight=heightByDirection?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return boundWidth&&Number.isFinite(boundWidth)&&(maxWidth=maxWidth&&maxWidth<boundWidth?maxWidth:boundWidth),boundHeight&&Number.isFinite(boundHeight)&&(maxHeight=maxHeight&&maxHeight<boundHeight?maxHeight:boundHeight),{maxWidth:maxWidth,maxHeight:maxHeight}}},{key:"onMouseMove",value:function onMouseMove(event){if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&isTouchEvent(event))try{event.preventDefault(),event.stopPropagation()}catch(e){}var _this$props=this.props,maxWidth=_this$props.maxWidth,maxHeight=_this$props.maxHeight,minWidth=_this$props.minWidth,minHeight=_this$props.minHeight,clientX=isTouchEvent(event)?event.touches[0].clientX:event.clientX,clientY=isTouchEvent(event)?event.touches[0].clientY:event.clientY,_this$state=this.state,direction=_this$state.direction,original=_this$state.original,width=_this$state.width,height=_this$state.height,parentSize=this.getParentSize(),max=function calculateNewMax(parentSize,innerWidth,innerHeight,maxWidth,maxHeight,minWidth,minHeight){return maxWidth=getPixelSize(maxWidth,parentSize.width,innerWidth,innerHeight),maxHeight=getPixelSize(maxHeight,parentSize.height,innerWidth,innerHeight),minWidth=getPixelSize(minWidth,parentSize.width,innerWidth,innerHeight),minHeight=getPixelSize(minHeight,parentSize.height,innerWidth,innerHeight),{maxWidth:void 0===maxWidth?void 0:Number(maxWidth),maxHeight:void 0===maxHeight?void 0:Number(maxHeight),minWidth:void 0===minWidth?void 0:Number(minWidth),minHeight:void 0===minHeight?void 0:Number(minHeight)}}(parentSize,this.window.innerWidth,this.window.innerHeight,maxWidth,maxHeight,minWidth,minHeight);maxWidth=max.maxWidth,maxHeight=max.maxHeight,minWidth=max.minWidth,minHeight=max.minHeight;var _this$calculateNewSiz=this.calculateNewSizeFromDirection(clientX,clientY),newHeight=_this$calculateNewSiz.newHeight,newWidth=_this$calculateNewSiz.newWidth,boundaryMax=this.calculateNewMaxFromBoundary(maxWidth,maxHeight),newSize=this.calculateNewSizeFromAspectRatio(newWidth,newHeight,{width:boundaryMax.maxWidth,height:boundaryMax.maxHeight},{width:minWidth,height:minHeight});if(newWidth=newSize.newWidth,newHeight=newSize.newHeight,this.props.grid){var newGridWidth=snap(newWidth,this.props.grid[0]),newGridHeight=snap(newHeight,this.props.grid[1]),gap=this.props.snapGap||0;newWidth=0===gap||Math.abs(newGridWidth-newWidth)<=gap?newGridWidth:newWidth,newHeight=0===gap||Math.abs(newGridHeight-newHeight)<=gap?newGridHeight:newHeight}this.props.snap&&this.props.snap.x&&(newWidth=findClosestSnap(newWidth,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(newHeight=findClosestSnap(newHeight,this.props.snap.y,this.props.snapGap));var delta={width:newWidth-original.width,height:newHeight-original.height};if(width&&"string"==typeof width)if(endsWith(width,"%")){var percent=newWidth/parentSize.width*100;newWidth="".concat(percent,"%")}else if(endsWith(width,"vw")){var vw=newWidth/this.window.innerWidth*100;newWidth="".concat(vw,"vw")}else if(endsWith(width,"vh")){var vh=newWidth/this.window.innerHeight*100;newWidth="".concat(vh,"vh")}if(height&&"string"==typeof height)if(endsWith(height,"%")){var _percent=newHeight/parentSize.height*100;newHeight="".concat(_percent,"%")}else if(endsWith(height,"vw")){var _vw=newHeight/this.window.innerWidth*100;newHeight="".concat(_vw,"vw")}else if(endsWith(height,"vh")){var _vh=newHeight/this.window.innerHeight*100;newHeight="".concat(_vh,"vh")}var newState={width:this.createSizeForCssProperty(newWidth,"width"),height:this.createSizeForCssProperty(newHeight,"height")};"row"===this.flexDir?newState.flexBasis=newState.width:"column"===this.flexDir&&(newState.flexBasis=newState.height),this.props.onResize&&this.props.onResize(event,direction,this.resizable,delta)}}}]),Resizable}(re_resizable_lib.a),Popup_const=__webpack_require__(4060);function Popup_typeof(obj){return(Popup_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Popup_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Popup_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Popup_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){Popup_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function Popup_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Popup_setPrototypeOf(o,p){return(Popup_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Popup_createSuper(Derived){var hasNativeReflectConstruct=function Popup_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Popup_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Popup_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Popup_possibleConstructorReturn(this,result)}}function Popup_possibleConstructorReturn(self,call){return!call||"object"!==Popup_typeof(call)&&"function"!=typeof call?Popup_assertThisInitialized(self):call}function Popup_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Popup_getPrototypeOf(o){return(Popup_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Popup_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return Popup_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function Popup_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Popup_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Popup_arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Popup_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Popup_DraggableLoadable=loadable_esm.a.lib((function(){return __webpack_require__.e(0).then(__webpack_require__.t.bind(null,4281,7))})),Popup_useStyles=Object(makeStyles.a)((function(theme){return{container:{display:"flex",flexDirection:"column",maxHeight:"100%",overflow:"hidden"},area:{flex:1,paddingTop:"4px",paddingLeft:"4px",maxHeight:"100%",overflow:"hidden"},mainArea:{height:"100%",maxHeight:"100%",overflow:"hidden"},mainItem:{position:"relative",paddingRight:"4px",paddingBottom:"4px",display:"flex",overflow:"hidden"},sideElementsItem:{flex:1,overflow:"hidden"},sideElementsContainer:{maxHeight:"100%",overflowY:"auto","&::-webkit-scrollbar":{width:0,height:0}},sideItem:{position:"relative",paddingRight:"4px",paddingBottom:"4px",display:"flex",overflow:"hidden"},onlyOneInConference:{display:"flex",justifyContent:"center",padding:"".concat(theme.spacing(1),"px ").concat(theme.spacing(2),"px")}}}));function areEqualColumnView(prevProps,nextProps){return!1}var Popup_OnlyOneInConferenceComponent=function OnlyOneInConferenceComponent(){var classes=Popup_useStyles();return Object(jsx_runtime.jsx)(paper_Paper,{className:classes.onlyOneInConference,children:Object(jsx_runtime.jsx)(Typography.a,{variant:"body2",align:"center",children:Object(localization.a)("workspaces","only_one_in_the_meeting")})})},ColumnLayout=Object(react.memo)((function(props){var refSideElementsItem=Object(react.useRef)(null),classes=Popup_useStyles(),mainVideoList=[],otherVideoList=[];return props.view===types.s.NORMAL&&(mainVideoList=props.mainVideoList,otherVideoList=props.otherVideoList),props.view===types.s.FEATURED&&(mainVideoList=props.mainVideoList,otherVideoList=[]),props.view===types.s.GRID&&(mainVideoList=[],otherVideoList=[].concat(_toConsumableArray(props.mainVideoList),_toConsumableArray(props.otherVideoList))),Object(jsx_runtime.jsxs)(Grid.a,{container:!0,className:classes.area,direction:"column",justify:props.view===types.s.FEATURED?"center":void 0,children:[props.view!==types.s.GRID&&Object(jsx_runtime.jsx)(Grid.a,{item:!0,className:props.view===types.s.FEATURED?classes.mainArea:"",children:Object(jsx_runtime.jsx)(Grid.a,{container:!0,className:props.view===types.s.FEATURED?classes.mainArea:"",children:mainVideoList.map((function(element){return Object(jsx_runtime.jsx)(Grid.a,{item:!0,xs:mainVideoList.length<=2?12:6,className:classes.mainItem,children:Object(jsx_runtime.jsx)(Grid.a,{container:!0,children:Object(jsx_runtime.jsx)(Grid.a,{item:!0,xs:12,children:Object(jsx_runtime.jsx)(Main,{element:element,selectedCallProvider:props.selectedCallProvider,me:props.me===element.userId,showVideo:props.allowIncomingVideo||(null==element?void 0:element.hasScreenStream),style:{position:"relative",width:"100%",height:props.view===types.s.FEATURED?"100%":230,maxHeight:props.view===types.s.FEATURED?"unset":230},expand:props.expand,toggleFavourite:props.toggleFavourite,toggleMuted:props.toggleMuted,toggleMicrophone:props.toggleMicrophone,toggleSelected:props.toggleSelected,showStreamSettingsMenu:props.showStreamSettingsMenu},element.id+"-main")},element.id+"-container-main-item")},element.id+"-container-main-container")},element.id+"-container-main")}))})}),props.view!==types.s.FEATURED&&Object(jsx_runtime.jsx)(Grid.a,{item:!0,ref:refSideElementsItem,className:classes.sideElementsItem,children:Object(jsx_runtime.jsx)(SideElements,{refSideElementsItem:refSideElementsItem,otherVideoList:otherVideoList,selectedCallProvider:props.selectedCallProvider,me:props.me,allowIncomingVideo:props.allowIncomingVideo,toggleFavourite:props.toggleFavourite,toggleMuted:props.toggleMuted,toggleMicrophone:props.toggleMicrophone,toggleSelected:props.toggleSelected,expand:props.expand,showStreamSettingsMenu:props.showStreamSettingsMenu})})]})}),areEqualColumnView);function areEqualSideElements(prevProps,nextProps){return!1}var SideElements=Object(react.memo)((function(props){var ref=Object(react.useRef)(null),classes=Popup_useStyles(),minimize=!1;if(props.refSideElementsItem.current&&props.otherVideoList&&props.otherVideoList.length){var refSideElementsItemHeight=props.refSideElementsItem.current.getBoundingClientRect().height;78*Math.ceil(props.otherVideoList.length/3)>refSideElementsItemHeight&&(minimize=!0)}return Object(jsx_runtime.jsx)(Grid.a,{container:!0,ref:ref,className:classes.sideElementsContainer,children:props.otherVideoList.map((function(element){return Object(jsx_runtime.jsx)(Grid.a,{item:!0,xs:minimize?3:4,className:classes.sideItem,style:{height:minimize?55:78},children:Object(jsx_runtime.jsx)(Side,{element:element,container:ref.current,hideIfNotVisible:!0,selectedCallProvider:props.selectedCallProvider,me:props.me===element.userId,showVideo:props.allowIncomingVideo||(null==element?void 0:element.hasScreenStream),style:{position:"relative",width:"100%",height:minimize?55:78,maxHeight:minimize?55:78},toggleFavourite:props.toggleFavourite,toggleMuted:props.toggleMuted,toggleMicrophone:props.toggleMicrophone,toggleSelected:props.toggleSelected,expand:props.expand,showStreamSettingsMenu:props.showStreamSettingsMenu},element.id+"-side")},element.id+"-container-side")}))})}),areEqualSideElements),Popup_Popup_Popup=function(_React$Component){!function Popup_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Popup_setPrototypeOf(subClass,superClass)}(Popup,_React$Component);var _super=Popup_createSuper(Popup);function Popup(_props,context){var _this;!function Popup_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Popup),Popup_defineProperty(Popup_assertThisInitialized(_this=_super.call(this,_props,context)),"isMobileView",(function(){return _this.props.containerWidth<sizeConstants.a})),Popup_defineProperty(Popup_assertThisInitialized(_this),"getPopupHeightConsideringControls",(function(height,action){var isControlsVisible=_this.state.isControlsVisible,isFloatMode=_this.props.callWindowView===types.d.FLOAT;if(!isControlsVisible&&isFloatMode)return height;var edgesHeight=68;isFloatMode&&(edgesHeight=40);var resultHeight=height;return"add"===action?resultHeight+=edgesHeight:"subtract"===action&&(resultHeight-=edgesHeight),resultHeight})),Popup_defineProperty(Popup_assertThisInitialized(_this),"togglePopout",(function(){_this.props.isPopout?(_this.callsService.setPopout(!1),_this.selectWorkspace()):_this.callsService.setPopout(!0)})),Popup_defineProperty(Popup_assertThisInitialized(_this),"showSendToDeviceMenu",(function(iconElem){var rect=iconElem.getBoundingClientRect(),leftPosition=rect.right-240+4;_this.contextMenuService.show({top:rect.bottom,left:leftPosition>0?leftPosition:0,width:240,position:"fixed",items:function getItemsList(){var _this$props=_this.props,allUserDevices=_this$props.allUserDevices,activeWorkspaceUuid=_this$props.activeWorkspaceUuid,divider={type:ContexMenu.a.DIVIDER},sendToAllDevices={name:Object(jsx_runtime.jsx)("span",{children:Object(localization.a)("context_menu","send_to_all_my_devices")}),action:function action(){},icon:ContexMenu_const.a},itemsList=(Object(jsx_runtime.jsx)("span",{children:"+ ".concat(Object(localization.a)("context_menu","add_new_device"))}),ContexMenu_const.a,[]);return allUserDevices.length&&(allUserDevices.length>1&&(itemsList.push(sendToAllDevices),itemsList.push(divider)),itemsList=_toConsumableArray(allUserDevices.map((function deviceItemRenderer(device){var _action,deviceName="".concat(device.vendor," ").concat(device.model).trim();return{name:Object(jsx_runtime.jsx)("span",{children:"".concat(Object(localization.a)("context_menu","send_to_my")," ").concat(deviceName)}),action:(_action=Popup_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.callsService.sendCallToUserDevice({workspaceUUID:activeWorkspaceUuid,deviceId:device.uuid});case 2:_context.sent.data?_this.toastService.alert({text:"".concat(Object(localization.a)("workspaces","send_to_my_device_call_is_sent_success")," ").concat(deviceName),status:toast_const.a.SUCCESS,container:toast_const.b.BOTTOM,timeout:toast_const.c.SHORT}):_this.toastService.alert({text:"".concat(Object(localization.a)("workspaces","send_to_my_device_call_is_sent_error")," ").concat(deviceName),status:toast_const.a.ERROR,container:toast_const.b.BOTTOM,timeout:toast_const.c.SHORT});case 4:case"end":return _context.stop()}}),_callee)}))),function action(){return _action.apply(this,arguments)}),icon:ContexMenu_const.a,containerStyles:{padding:"8px 10px 8px 16px"}}})))),itemsList}(),style:{borderRadius:"2px"}})})),Popup_defineProperty(Popup_assertThisInitialized(_this),"handleOutsidePopupClickSubscription",(function(action){var outsidePopupClickEvents=["touchstart","click"];"subscribe"===action?outsidePopupClickEvents.forEach((function(event){return document.body.addEventListener(event,_this.handleOutsidePopupClick)})):"unsubscribe"===action&&outsidePopupClickEvents.forEach((function(event){return document.body.removeEventListener(event,_this.handleOutsidePopupClick)}))})),Popup_defineProperty(Popup_assertThisInitialized(_this),"handleOutsidePopupClick",(function(e){var isFloatMode=_this.props.callWindowView===types.d.FLOAT;if(_this.isMobileView()&&isFloatMode){var isPopupClick=e.target.closest("#calls-popup-container"),isContextMenuClick=e.target.closest('[data-xpath="context-menu"');if(isPopupClick||isContextMenuClick)isPopupClick&&_this.handleMobileControlsVisibility(!0);else{_this.handleMobileControlsVisibility(!1);var _this$props2=_this.props,mainVideoList=_this$props2.mainVideoList,otherVideoList=_this$props2.otherVideoList;if(mainVideoList.length+otherVideoList.length<=4){var x=_this.state.position.x,y=_this.state.position.y,updatedWidth=types.g.POPOUT_MOBILE_MIN_WIDTH,updatedHeight=types.g.POPOUT_MOBILE_MIN_HEIGHT;_this.setNewSize({x:x,y:y,width:updatedWidth,height:updatedHeight})}}}})),Popup_defineProperty(Popup_assertThisInitialized(_this),"handleMobileControlsVisibility",(function(isVisible){var isMobileView=_this.isMobileView(),isPopupTooSmallToShowControlls=_this.state.size.width<types.g.POPOUT_MOBILE_EXTENDED_WIDTH;isMobileView&&!isPopupTooSmallToShowControlls&&_this.setState({isControlsVisible:isVisible})})),Popup_defineProperty(Popup_assertThisInitialized(_this),"setNewSize",function(){var _ref2=Popup_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref){var x,y,height,width,newParams,data;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:x=_ref.x,y=_ref.y,height=_ref.height,width=_ref.width,newParams=_this.checkOverScreen({x:x,y:y,height:height,width:width}),data=_this.findLayout(newParams),newParams.height=_this.getPopupHeightConsideringControls(data.size.height,"add"),newParams.width=data.size.width;case 5:case"end":return _context2.stop()}}),_callee2)})));return function(_x){return _ref2.apply(this,arguments)}}()),Popup_defineProperty(Popup_assertThisInitialized(_this),"checkOverScreen",(function(_ref3){var x=_ref3.x,y=_ref3.y,height=_ref3.height,width=_ref3.width,_ref3$screenLimit=_ref3.screenLimit,screenLimit=void 0===_ref3$screenLimit?1:_ref3$screenLimit,browserSize=Object(browser_compat_utils.a)();height=Math.min(height,browserSize.height*screenLimit),width=Math.min(width,browserSize.width*screenLimit);var isWebViewAndMouseNotOver=!_this.isMobileView()&&!_this.state.mouseOver,isControlsNotVisible=!_this.state.isControlsVisible,minY=isWebViewAndMouseNotOver||isControlsNotVisible?24:28;return{x:x=Object(miscUtils.g)(x,0,browserSize.width-width),y:y=Object(miscUtils.g)(y,minY,browserSize.height-height),width:width,height:height}})),Popup_defineProperty(Popup_assertThisInitialized(_this),"onWindowResize",(function(){var position=_this.state.position,size=_this.state.size,bounds=_this.checkOverScreen({x:position.x,y:position.y,width:size.width,height:size.height});position.x===bounds.x&&position.y===bounds.y&&size.width===bounds.width&&size.height===bounds.height||(position={x:bounds.x,y:bounds.y},size={width:bounds.width,height:bounds.height},_this.setState({position:position,size:size}))})),Popup_defineProperty(Popup_assertThisInitialized(_this),"onMouseEnter",(function(){_this.props.beforeCall||_this.props.callWindowView!==types.d.FLOAT||(_this.mouseOutTimeout&&(clearTimeout(_this.mouseOutTimeout),_this.mouseOutTimeout=null),_this.state.mouseOver||_this.setState({mouseOver:!0}))})),Popup_defineProperty(Popup_assertThisInitialized(_this),"onMouseLeave",(function(){_this.props.beforeCall||_this.props.callWindowView!==types.d.FLOAT||(_this.contextMenuService.isShown()||_this.state.dragging||_this.state.resizing?_this.mouseOutTimeout||(_this.mouseOutTimeout=setTimeout((function(){_this.mouseOutTimeout=null,_this.onMouseLeave()}),250)):_this.setState({mouseOver:!1}))})),Popup_defineProperty(Popup_assertThisInitialized(_this),"isDisabledDragElement",(function(e){var node=Object(react_dom.findDOMNode)(_this.callManagerRef.current);return node&&node.contains(e.target)})),Popup_defineProperty(Popup_assertThisInitialized(_this),"size",{width:0,height:0}),Popup_defineProperty(Popup_assertThisInitialized(_this),"onResizeStart",function(){var _ref4=Popup_asyncToGenerator(regeneratorRuntime.mark((function _callee3(e){var position,size;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:e.stopPropagation(),e.preventDefault(),blockOverscrollPageRefresh&&blockOverscrollPageRefresh(),_this.setState({resizing:!0}),_this.size={width:0,height:0},_this.resizePreview&&(position=_this.state.position,size=_this.state.size,_this.resizePreview.style.display="initial",_this.resizePreview.style.transform="translate(".concat(position.x,"px, ").concat(position.y,"px)"),_this.resizePreview.style.width="".concat(size.width,"px"),_this.resizePreview.style.height="".concat(size.height,"px"));case 6:case"end":return _context3.stop()}}),_callee3)})));return function(_x2){return _ref4.apply(this,arguments)}}()),Popup_defineProperty(Popup_assertThisInitialized(_this),"onResize",function(){var _ref5=Popup_asyncToGenerator(regeneratorRuntime.mark((function _callee4(e,direction,refToElement,delta){var x,y,width,height,newParams,data;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:x=_this.state.position.x,y=_this.state.position.y,width=_this.state.size.width,height=_this.state.size.height,"topLeft"===direction?(x-=delta.width,y-=delta.height,height+=delta.height,width+=delta.width):"top"===direction?(y-=delta.height,height+=delta.height):"topRight"===direction?(y-=delta.height,height+=delta.height,width+=delta.width):"right"===direction?width+=delta.width:"bottomRight"===direction?(height+=delta.height,width+=delta.width):"bottom"===direction?height+=delta.height:"bottomLeft"===direction?(x-=delta.width,height+=delta.height,width+=delta.width):"left"===direction&&(x-=delta.width,width+=delta.width),newParams={x:x,y:y,height:height,width:width},data=_this.findLayout(newParams),newParams.height=_this.getPopupHeightConsideringControls(data.size.height,"add"),newParams.width=data.size.width,_this.size={width:delta.width,height:delta.height},_this.resizePreview&&(_this.resizePreview.style.transform="translate(".concat(newParams.x,"px, ").concat(newParams.y,"px)"),_this.resizePreview.style.width="".concat(newParams.width,"px"),_this.resizePreview.style.height="".concat(newParams.height,"px"));case 11:case"end":return _context4.stop()}}),_callee4)})));return function(_x3,_x4,_x5,_x6){return _ref5.apply(this,arguments)}}()),Popup_defineProperty(Popup_assertThisInitialized(_this),"onResizeEnd",function(){var _ref6=Popup_asyncToGenerator(regeneratorRuntime.mark((function _callee5(e,direction){var x,y,width,height,newParams,data,bounds,isPopupTooSmallToShowControlls;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:x=_this.state.position.x,y=_this.state.position.y,width=_this.state.size.width,height=_this.state.size.height,"topLeft"===direction?(x-=_this.size.width,y-=_this.size.height,height+=_this.size.height,width+=_this.size.width):"top"===direction?(y-=_this.size.height,height+=_this.size.height):"topRight"===direction?(y-=_this.size.height,height+=_this.size.height,width+=_this.size.width):"right"===direction?width+=_this.size.width:"bottomRight"===direction?(height+=_this.size.height,width+=_this.size.width):"bottom"===direction?height+=_this.size.height:"bottomLeft"===direction?(x-=_this.size.width,height+=_this.size.height,width+=_this.size.width):"left"===direction&&(x-=_this.size.width,width+=_this.size.width),newParams={x:x,y:y,height:height,width:width},data=_this.findLayout(newParams),newParams.height=_this.getPopupHeightConsideringControls(data.size.height,"add"),newParams.width=data.size.width,unblockOverscrollPageRefresh&&unblockOverscrollPageRefresh(),bounds=_this.checkOverScreen(newParams),isPopupTooSmallToShowControlls=newParams.width<types.g.POPOUT_MOBILE_EXTENDED_WIDTH,_this.resizePreview&&(_this.resizePreview.style.display="none"),_this.setState({position:{x:bounds.x,y:bounds.y},size:{width:bounds.width,height:bounds.height},isControlsVisible:!isPopupTooSmallToShowControlls,resizing:!1}),_this.callsService.setCallWindowPosition({x:newParams.x,y:newParams.y}),_this.callsService.setCallWindowSize({width:newParams.width,height:newParams.height});case 16:case"end":return _context5.stop()}}),_callee5)})));return function(_x7,_x8){return _ref6.apply(this,arguments)}}()),Popup_defineProperty(Popup_assertThisInitialized(_this),"onStart",(function(e){_this.props.callWindowView===types.d.FLOAT&&(blockOverscrollPageRefresh&&blockOverscrollPageRefresh(),_this.isDisabledDragElement(e)||("touchstart"===e.type||e.preventDefault(),e.stopPropagation()))})),Popup_defineProperty(Popup_assertThisInitialized(_this),"onStop",(function(event,data){var size=_this.state.size,newPosition=_this.checkOverScreen({x:data.x,y:data.y,width:size.width,height:size.height}),position=_this.state.position;newPosition.x===position.x&&newPosition.y===position.y||(position={x:newPosition.x,y:newPosition.y},_this.setState({position:position}),_this.callsService.setCallWindowPosition(newPosition))})),Popup_defineProperty(Popup_assertThisInitialized(_this),"expand",(function(id){_this.props.toggleSelected(id,!0),_this.props.callWindowView!==types.d.FULL_SCREEN?(_this.callsService.selectCallWindowView(types.d.FULL_SCREEN),_this.setState({isControlsVisible:!0})):(_this.callsService.selectCallWindowView(types.d.FLOAT),_this.setState({isControlsVisible:!1}))})),Popup_defineProperty(Popup_assertThisInitialized(_this),"findLayout",(function(){var _ref7=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref7$height=_ref7.height,height=void 0===_ref7$height?_this.state.size.height:_ref7$height,_ref7$width=_ref7.width,width=void 0===_ref7$width?_this.state.size.width:_ref7$width;_this.props.callWindowView===types.d.FULL_SCREEN&&(height=window.innerHeight,width=window.innerWidth),_this.props.callWindowView===types.d.PIN_TOP_RIGHT&&(height=_this.props.outerSize.height,width=_this.props.outerSize.width-5);var _assertThisInitialize=Popup_assertThisInitialized(_this),props=_assertThisInitialize.props,main_videos=props.mainVideoList.length,other_videos=props.otherVideoList.length;props.popupView==types.s.FEATURED?other_videos=0:props.popupView==types.s.GRID?(other_videos+=main_videos,main_videos=0):main_videos+other_videos==1&&(main_videos=1,other_videos=0);var popupAreaHeight=_this.getPopupHeightConsideringControls(height,"subtract"),data=findLayout({height:popupAreaHeight,width:width,main_videos:main_videos,other_videos:other_videos}),popoutMinHeight=_this.getPopupHeightConsideringControls(types.g.POPOUT_MOBILE_MIN_HEIGHT,"subtract");return data.size.height=Math.max(popoutMinHeight,Math.min(height,data.size.height)),data.size.width=Math.max(types.g.POPOUT_MOBILE_MIN_WIDTH,Math.min(width,data.size.width)),data})),Popup_defineProperty(Popup_assertThisInitialized(_this),"selectWorkspace",(function(){var _this$props3=_this.props,workspace=_this$props3.workspace,unreads=_this$props3.unreads,popupWorkspaceUuid=workspace&&workspace.uuid,url=_this.userWorkspaceService.getRoomShortLink(popupWorkspaceUuid);!window.location.href.includes(url)&&popupWorkspaceUuid&&_this.connectSceneService.selectWorkspace(popupWorkspaceUuid,unreads),_this.connectSceneService.switchWorkspaceAreaToMiddle()})),Popup_defineProperty(Popup_assertThisInitialized(_this),"onStartSmartShare",(function(){var activeAreas=_this.props.activeAreas;if(!!Object.keys(activeAreas).length)_this.finishSmartShare();else{var wsUuid=_this.props.workspace.get("uuid"),wsSettings=_this.props.userSettings.getIn(["workspaces",_this.props.workspace.get("uuid")]);_this.callsService.startSmartSharing(_this.props.mapFollowState,_this.props.currentUser,wsSettings,wsUuid)}})),Popup_defineProperty(Popup_assertThisInitialized(_this),"finishSmartShare",(function(){var _this$props4=_this.props,activeAreas=_this$props4.activeAreas,followStore=_this$props4.followStore,finishForSessions=[];Object.keys(activeAreas).forEach((function(key){finishForSessions.push(activeAreas[key])})),followStore.closeSessions(finishForSessions)})),Popup_defineProperty(Popup_assertThisInitialized(_this),"onLeaveConference",(function(event){if(_this.canCloseConference){var items=[{name:Object(localization.a)("workspaces","leave_conference"),action:function action(){_this.finishSmartShare(),_this.connectSceneService.handleLeaveConferenceForSmartSharing(),_this.callsService.leaveConference(!0)}},{name:Object(localization.a)("workspaces","close_to_all"),action:function action(){_this.modalService.show(ConfirmModal.a,{title:Object(localization.a)("browse","confirmation"),message:Object(localization.a)("workspaces","confirm_close_to_all"),closing:!0,onConfirm:function onConfirm(){_this.connectSceneService.handleLeaveConferenceForSmartSharing(),_this.finishSmartShare(),_this.callsService.closeConference()}})}}];_this.contextMenuService.show({top:event.pageY,left:event.pageX,items:items,style:{borderRadius:"5px",overflow:"hidden"}})}else _this.finishSmartShare(),_this.connectSceneService.handleLeaveConferenceForSmartSharing(),_this.callsService.leaveConference(!0)})),Popup_defineProperty(Popup_assertThisInitialized(_this),"onTitleClick",(function(){if(_this.props.workspace){var url=_this.userWorkspaceService.getRoomShortLink(_this.props.workspace.get("uuid"));window.location.href.includes(url)||_this.connectSceneService.selectWorkspace(_this.props.workspace.get("uuid"),_this.props.unreads),_this.props.callWindowView!==types.d.PIN_TOP_RIGHT||_this.props.rightAreaVisible||_this.connectSceneService.toggleRightAreaVisible()}})),Popup_defineProperty(Popup_assertThisInitialized(_this),"onReturnPresentation",(function(){var sessionID,workSpaceId;_this.props.followSessions.filter((function(session){return session.get("presentationMode")&&(sessionID=session.get("id"),workSpaceId=session.get("wsUuid")),session.get("presentationMode")}));var directUrl="/connect/".concat(workSpaceId,"/FOLLOW/").concat(sessionID);_this.history.push(directUrl),_this.connectSceneService.setPresentionReturnButton(!1)})),Popup_defineProperty(Popup_assertThisInitialized(_this),"getCallWindowSize",(function(){var isFullscreen=_this.props.callWindowView===types.d.FULL_SCREEN,isPinTopToRight=_this.props.callWindowView===types.d.PIN_TOP_RIGHT,callWindowSize={width:_this.state.size.width,height:_this.state.size.height};(isFullscreen&&(callWindowSize={width:"100%",height:"100%"}),isPinTopToRight)&&(callWindowSize={width:_this.props.outerSize.width-5,height:_this.props.outerSize.height});return callWindowSize})),Popup_defineProperty(Popup_assertThisInitialized(_this),"toggleCallManager",(function(){_this.callsService.toggleCallManagerVisibility()})),_this.callsService=context.beansContext.getBeanInstance(CallsService.a),_this.connectSceneService=context.beansContext.getBeanInstance(ConnectSceneService.a),_this.contextMenuService=context.beansContext.getBeanInstance(ContextMenuService.a),_this.modalService=context.beansContext.getBeanInstance(modals_const.a),_this.userChatsService=context.beansContext.getBeanInstance(PopupChatService.a),_this.userWorkspaceService=context.beansContext.getBeanInstance(UserWorkspacesService.a),_this.communitySceneService=context.beansContext.getBeanInstance(CommunitySceneService.a),_this.communitiesService=context.beansContext.getBeanInstance(community_const.a),_this.rootSceneService=context.beansContext.getBeanInstance(RootSceneService.a),_this.contactsService=context.beansContext.getBeanInstance(ContactsService.a),_this.toastService=context.beansContext.getBeanInstance(ToastService.a),_this.history=context.beansContext.getBeanInstance("history"),_this.popoutToPinch=react_default.a.createRef(),_this.hammerPinchObj=null;var _position,_size,_isMobileView=_this.isMobileView(),_isControlsVisible=!1,conferenceWindowSettings=_this.callsService.getConferenceWindowSettings();if(conferenceWindowSettings?(_position={x:conferenceWindowSettings.bounds.x,y:conferenceWindowSettings.bounds.y},_size={height:conferenceWindowSettings.bounds.height,width:conferenceWindowSettings.bounds.width}):(_position={x:0,y:0},_size={height:450,width:500}),_props.callWindowView===types.d.FLOAT||_props.callWindowView===types.d.FULL_SCREEN){var _getInitialPopupSizes=function getInitialPopupSizes(){var height=_size.height||types.g.POPOUT_HEIGHT,width=_size.width||types.g.POPOUT_WIDTH;if(_isMobileView){var fewParticipantsInCall=_props.mainVideoList.length+_props.otherVideoList.length<=4,minPercentWidth=types.g.POPOUT_MOBILE_PERCENT_WIDTH*Object(browser_compat_utils.a)().width,minPercentHeight=types.g.POPOUT_MOBILE_PERCENT_HEIGHT*Object(browser_compat_utils.a)().height;fewParticipantsInCall?(width=types.g.POPOUT_MOBILE_MIN_WIDTH,height=types.g.POPOUT_MOBILE_MIN_HEIGHT):(width=types.g.POPOUT_MOBILE_EXTENDED_WIDTH,height=types.g.POPOUT_MOBILE_EXTENDED_HEIGHT),width<minPercentWidth&&(width=minPercentWidth),height<minPercentHeight&&(height=minPercentHeight)}return height=Object(miscUtils.g)(height,types.g.POPOUT_MOBILE_MIN_HEIGHT,_props.maxHeight),{width:width=Object(miscUtils.g)(width,types.g.POPOUT_MOBILE_MIN_WIDTH,_props.maxWidth),height:height}}(),width=_getInitialPopupSizes.width,height=_getInitialPopupSizes.height;_isControlsVisible=!_isMobileView&&width>=types.g.POPOUT_MOBILE_EXTENDED_WIDTH;var x=_position.x,y=_position.y;null===x&&(x=(Object(browser_compat_utils.a)().width-width)/2),null===y&&(y=(Object(browser_compat_utils.a)().height-height)/2),_position={x:x,y:y},_size={width:width,height:height}}else{var _height=Object(miscUtils.g)(_props.outerSize.height,_props.minHeight,_props.maxHeight),_width=Object(miscUtils.g)(_props.outerSize.width,_props.minWidth,_props.maxWidth);_position={x:0,y:0},_size={width:_width,height:_height}}return _this.state={dragging:!1,resizing:!1,pinching:!1,mouseOver:!0,updateCallModal:!1,isControlsVisible:_isControlsVisible,position:_position,size:_size},_this.callManagerRef=react_default.a.createRef(),_this.resizePreview=null,_this}return function Popup_createClass(Constructor,protoProps,staticProps){return protoProps&&Popup_defineProperties(Constructor.prototype,protoProps),staticProps&&Popup_defineProperties(Constructor,staticProps),Constructor}(Popup,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this,_this$props5=this.props,containerWidth=_this$props5.containerWidth,minWidth=_this$props5.minWidth,x=this.state.position.x,y=this.state.position.y,width=this.state.size.width,height=this.state.size.height;if(Object(system.a)()&&window.addEventListener("resize",this.onWindowResize),this.isMobileView()){this.handleOutsidePopupClickSubscription("subscribe");var elemToPinch=this.popoutToPinch.current&&this.popoutToPinch.current.resizable,isTouchDevice=mobileDetect.a.isTouchSupport();elemToPinch&&isTouchDevice&&(this.hammerPinchObj=new hammer_default.a(elemToPinch),this.hammerPinchObj.get("pinch").set({enable:!0}),this.hammerPinchObj.on("pinchstart",this.handlePinchStart.bind(this)))}if(x+width>containerWidth){var newWidth=width>containerWidth?Math.max(containerWidth,minWidth):width,newSizePos=this.checkOverScreen({x:x,y:y,width:newWidth,height:height});this.setState({position:{x:newSizePos.x,y:newSizePos.y},size:{width:newSizePos.width,height:newSizePos.height}})}this.callsService.getAllDevicesRelatedToUser(),window.addEventListener("unload",(function(){_this2.finishSmartShare()}))}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){return!Object(performanceUtils.a)(this.props,nextProps,[],[],[],!1)||!Object(performanceUtils.a)(this.state,nextState,[],[],[],!1)}},{key:"componentWillUnmount",value:function componentWillUnmount(){Object(system.a)()&&window.removeEventListener("resize",this.onWindowResize),this.handleOutsidePopupClickSubscription("unsubscribe"),this.hammerPinchObj&&this.hammerPinchObj.off("pinchstart",this.handlePinchStart),clearTimeout(this.mouseOutTimeout)}},{key:"handlePinchStart",value:function handlePinchStart(){var _this3=this;if(this.props.callWindowView===types.d.FLOAT){this.setState({pinching:!0});var pinchMoveHandler=Object(miscUtils.z)((function(ev){_this3.setState((function(state){var x=state.position.x,y=state.position.y,width=state.size.width,height=state.size.height,updatedWidth=ev.scale*width,updatedHeight=ev.scale*height,newParams=_this3.checkOverScreen({x:x,y:y,height:updatedHeight,width:updatedWidth,screenLimit:.95}),data=_this3.findLayout(newParams);newParams.height=_this3.getPopupHeightConsideringControls(data.size.height,"add"),newParams.width=data.size.width;var updatedState={position:{x:newParams.x,y:newParams.y},size:{width:newParams.width,height:newParams.height}},isPopupTooSmallToShowControlls=newParams.width<types.g.POPOUT_MOBILE_EXTENDED_WIDTH;return updatedState.isControlsVisible=!isPopupTooSmallToShowControlls,updatedState}))}),150);this.hammerPinchObj.on("pinchmove",pinchMoveHandler),this.hammerPinchObj.on("pinchend",(function pinchEndHandler(){_this3.setState({pinching:!1}),_this3.hammerPinchObj.off("pinchmove",pinchMoveHandler),_this3.hammerPinchObj.off("pinchend",pinchEndHandler)}))}}},{key:"handleLoseConnection",value:function handleLoseConnection(prevIsJitsiDisconnected){var _this4=this;!this.props.isJitsiDisconnected&&prevIsJitsiDisconnected&&this.setState({updateCallModal:!0},(function(){_this4.setState({updateCallModal:!1})}))}},{key:"canManageMembersInWorkspace",value:function canManageMembersInWorkspace(){return Object(AccessType.e)(this.props.workspace.accessType,AccessType.c.ADMIN)}},{key:"canCloseConference",get:function get(){var workspaceAccessType=null,canCloseConference=!1;return this.props.workspace&&this.props.conference&&(workspaceAccessType=this.props.workspace.get("accessType"),canCloseConference=Object(AccessType.e)(this.props.accessType,AccessType.d.DELETE)||Object(AccessType.e)(workspaceAccessType,AccessType.c.ADMIN)||this.props.conference.get("uuid")===this.props.workspace.getIn(["owner","uuid"])||this.props.conference.get("type")===CallsAPI.b.P2P),canCloseConference}},{key:"render",value:function render(){var resizeAbilities,_this5=this,props=this.props,state=this.state,allUserDevices=(props.isJitsiDisconnected,props.allUserDevices),updateCallModal=state.updateCallModal,isMobileView=this.isMobileView(),isControlsPanelVisible=!isMobileView||isMobileView&&state.isControlsVisible,selectedCallProvider=props.selectedCallProvider,autoSelect=props.autoSelect,toggleAutoSelect=props.toggleAutoSelect,mainVideoList=props.mainVideoList,otherVideoList=props.otherVideoList,allVideoList=(props.clearSelectedStream,[].concat(_toConsumableArray(mainVideoList),_toConsumableArray(otherVideoList))),isPopupTooSmallToShowControlls=this.state.size.width<types.g.POPOUT_MOBILE_EXTENDED_WIDTH;props.popupView===types.s.GRID&&(otherVideoList=Object(calls.b)(allVideoList),mainVideoList=[],autoSelect=!1,toggleAutoSelect=miscUtils.t),resizeAbilities=props.callWindowView===types.d.FLOAT&&{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0};var data=this.findLayout(),isTooNarrowToDisplayControls=this.state.size.width<types.g.POPOUT_MOBILE_EXTENDED_WIDTH,compactView=props.callWindowView===types.d.FLOAT&&(!state.mouseOver||isTooNarrowToDisplayControls),canCloseConference=this.canCloseConference,canShareScreen=Object(AccessType.e)(this.props.accessType,AccessType.b.STREAM_CAMERA)&&!mobileDetect.a.isMobile()&&!mobileDetect.a.isIPad()&&!mobileDetect.a.isTablet(),isSmartShareActive=this.props.activeAreas&&!!Object.keys(this.props.activeAreas).length,hasCameraStream=!1,hasScreenStream=!1,stream=this.props.selfParticipant?this.props.selfParticipant.stream:null,screen=this.props.selfParticipant&&this.props.selfParticipant.hasScreenStream?this.props.selfParticipant.stream:null;selectedCallProvider===types.c.JITSI&&(hasCameraStream=stream&&!0,hasScreenStream=!!screen||this.callsService.isScreenSharing());var isChatIconVisible=(props.callWindowView===types.d.FLOAT||props.callWindowView===types.d.FULL_SCREEN)&&this.state.size.width>300,isCallManagerIconVisible=this.props.conference&&this.props.conference.get("type")!==CallsAPI.b.P2P&&this.state.size.width>300,isMuted=!this.props.myParticipantId||!!Object(immutableUtils.g)(this.props.muted).get(this.props.myParticipantId),isMoreThreeIndicatorsVisible=!this.props.microphone&&!this.props.camera&&!this.props.sound,isFullWidthIndicators=!this.state.isControlsVisible&&this.state.size.width<180&&isMoreThreeIndicatorsVisible,isCallWindowFloat=this.props.callWindowView===types.d.FLOAT,isVideoViewVisible=this.state.size.width>230||this.props.callWindowView!==types.d.FLOAT,nameWidth=0;nameWidth=props.callWindowView===types.d.PIN_LEFT_COLUMN||props.callWindowView===types.d.PIN_RIGHT_COLUMN?(nameWidth=types.i.width-170)>25?nameWidth:25:(nameWidth=this.state.size.width-170)>25?nameWidth:25,this.props.callWindowView===types.d.FULL_SCREEN&&(nameWidth=(nameWidth=window.innerWidth-170)>25?nameWidth:25);var selectedSession=this.props.followSessions.filter((function(session){return session.get("presentationMode")})),showPresentationReturnButton=this.props.showPresentationReturnButton&&selectedSession&&!!selectedSession.size,showWorkspace=!!this.props.workspace,isWorkspaceGroup=!1;showWorkspace&&(isWorkspaceGroup=this.props.workspace.get("type")===Workspace.a.GROUP||this.props.workspace.get("type")===Workspace.a.GROUP_INSTANT);var workspacePrivacyType=null;showWorkspace&&(workspacePrivacyType=this.props.workspace.get("privacyType"));var workspaceTitle="";showWorkspace&&(workspaceTitle=this.userWorkspaceService.getWSTitle(this.props.workspace.get("uuid")));var Center=null;if(Array.isArray(props.showBlocks)&&props.showBlocks.includes(Popup_const.a.BEFORE)&&props.beforeCall)Center=Object(jsx_runtime.jsx)(Popup_BeforeCall_BeforeCall,{});else if(Array.isArray(props.showBlocks)&&props.showBlocks.includes(Popup_const.a.AFTER)&&!props.beforeCall&&props.conference){var _classNames,isSendToMyDeviceVisible=Boolean(allUserDevices&&allUserDevices.length),callWindowSize=this.getCallWindowSize(),isColumnView=props.callWindowView===types.d.PIN_RIGHT_COLUMN||props.callWindowView===types.d.PIN_LEFT_COLUMN;console.log("this.props.localConnectionStropheWebsocketStatus: ",this.props.localConnectionStropheWebsocketStatus),console.log("this.props.localParticipantConnectionState: ",this.props.localParticipantConnectionState),console.log("this.props.localParticipantRoomConnectionState: ",this.props.localParticipantRoomConnectionState),console.log("\n");var tryingToReconnect=!1;if(this.props.localConnectionStropheWebsocketStatus!==CallsService.b.CONNECTED&&(tryingToReconnect=!0),this.props.localParticipantConnectionState!==CallsService.c.CONNECTION_ESTABLISHED&&(tryingToReconnect=!0),this.props.localParticipantRoomConnectionState===CallsService.d.CONNECTION_INTERRUPTED&&(tryingToReconnect=!0),Center=Object(jsx_runtime.jsxs)(common_Resizable,{className:classnames_default()(Popup_default.a.container,(_classNames={},Popup_defineProperty(_classNames,Popup_default.a.resizing,state.resizing),Popup_defineProperty(_classNames,Popup_default.a.column,isColumnView),_classNames)),style:isColumnView?{display:"flex",flexDirection:"column",maxHeight:"100%",overflow:"hidden"}:{},bounds:"window",boundsByDirection:!0,size:callWindowSize,minWidth:types.g.POPOUT_MOBILE_MIN_WIDTH,minHeight:types.g.POPOUT_MOBILE_MIN_HEIGHT,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeEnd,enable:this.props.callWindowView!==types.d.FULL_SCREEN&&!isColumnView&&!tryingToReconnect&&resizeAbilities,ref:this.popoutToPinch,children:[Object(jsx_runtime.jsx)(Top,{isCompactView:compactView,isFullWidthIndicators:isFullWidthIndicators,isCallWindowFloat:isCallWindowFloat,isVideoViewVisible:isVideoViewVisible,nameWidth:nameWidth,showPresentationReturnButton:showPresentationReturnButton,microphone:this.props.microphone,camera:this.props.camera,sound:this.props.sound,autoSelect:this.props.autoSelect,startTimestamp:this.props.startTimestamp,showWorkspace:showWorkspace,isWorkspaceGroup:isWorkspaceGroup,workspacePrivacyType:workspacePrivacyType,workspaceTitle:workspaceTitle,isSendToMyDeviceVisible:isSendToMyDeviceVisible,activeWorkspaceUuid:this.props.activeWorkspaceUuid,togglePopout:this.togglePopout,toggleAutoSelect:toggleAutoSelect,onTitleClick:this.onTitleClick,onReturnPresentation:this.onReturnPresentation,showSendToDeviceMenu:this.showSendToDeviceMenu,canPinCallWindowToRightOrLeftColumn:this.props.canPinCallWindowToRightOrLeftColumn,canPin:this.props.canPin,callWindowView:this.props.callWindowView,showChat:this.props.showChat,toggleOtherChats:this.props.toggleOtherChats,selectWorkspace:this.selectWorkspace,tryingToReconnect:tryingToReconnect}),this.props.onlyOneInConference&&!tryingToReconnect&&!compactView&&Object(jsx_runtime.jsx)("div",{className:classnames_default()(Popup_default.a.onlyOneInConference,Popup_defineProperty({},Popup_default.a.floatView,this.props.callWindowView===types.d.FLOAT)),children:Object(jsx_runtime.jsx)(Popup_OnlyOneInConferenceComponent,{})}),Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[!isColumnView&&!tryingToReconnect&&Object(jsx_runtime.jsx)(Popup_PopupAreaLayout,{callWindowView:this.props.callWindowView,view:props.popupView,allowIncomingVideo:props.allowIncomingVideo,autoSelect:autoSelect,selectedCallProvider:selectedCallProvider,me:props.myParticipantId,data:data,mainVideoList:mainVideoList,otherVideoList:otherVideoList,expand:this.expand,toggleFavourite:props.toggleFavourite,toggleMuted:props.toggleMuted,toggleMicrophone:props.toggleMicrophone,toggleSelected:props.toggleSelected,showStreamSettingsMenu:props.showStreamSettingsMenu,isPopupTooSmallToShowControlls:isPopupTooSmallToShowControlls}),isColumnView&&!tryingToReconnect&&Object(jsx_runtime.jsx)(ColumnLayout,{fullScreen:this.props.callWindowView===types.d.FULL_SCREEN,view:props.popupView,allowIncomingVideo:props.allowIncomingVideo,autoSelect:autoSelect,selectedCallProvider:selectedCallProvider,me:props.myParticipantId,data:data,mainVideoList:mainVideoList,otherVideoList:otherVideoList,expand:this.expand,toggleFavourite:props.toggleFavourite,toggleMuted:props.toggleMuted,toggleMicrophone:props.toggleMicrophone,toggleSelected:props.toggleSelected,showStreamSettingsMenu:props.showStreamSettingsMenu}),tryingToReconnect&&Object(jsx_runtime.jsx)("div",{className:Popup_default.a.Reconnect_Wrapper,children:Object(jsx_runtime.jsxs)(Grid.a,{container:!0,spacing:2,direction:"column",children:[Object(jsx_runtime.jsx)(Grid.a,{item:!0,children:Object(jsx_runtime.jsx)(Typography.a,{variant:"h6",children:"Trying to reconnect..."})}),Object(jsx_runtime.jsx)(Grid.a,{item:!0,children:Object(jsx_runtime.jsx)(Spinner.a,{})})]})}),isControlsPanelVisible&&Object(jsx_runtime.jsx)(Bottom,{compactView:compactView,canCloseConference:canCloseConference,canShareScreen:canShareScreen,isSmartShareActive:isSmartShareActive,hasCameraStream:hasCameraStream,hasScreenStream:hasScreenStream,isChatIconVisible:isChatIconVisible,isCallManagerIconVisible:isCallManagerIconVisible,canToggleMute:!0,canToggleCamera:!0,isMuted:isMuted,showCallManager:this.props.showCallManager,microphone:this.props.microphone,camera:this.props.camera,sound:this.props.sound,callWindowView:this.props.callWindowView,requestedStream:this.props.requestedStream,onLeaveConference:this.onLeaveConference,toggleMicrophone:this.props.toggleMicrophone,toggleCamera:this.props.toggleCamera,toggleSound:this.props.toggleSound,toggleCallManager:this.toggleCallManager,showDirectChat:this.props.showDirectChat,setDirectChatActiveRoom:this.props.setDirectChatActiveRoom,triggerShare:this.props.triggerShare,openDirectChat:function openDirectChat(){_this5.userChatsService.showPopup(!1),_this5.props.showDirectChat(),_this5.props.conference&&_this5.props.setDirectChatActiveRoom(_this5.props.conference.get("workspaceUuid"))},showConferenceMenu:this.props.showConferenceMenu,showAudioInputDevices:this.props.showAudioInputDevices,showVideoInputDevices:this.props.showVideoInputDevices,showAudioOutputDevices:this.props.showAudioOutputDevices,permissionStatusCamera:this.props.permissionStatus.get("camera"),permissionStatusMicrophone:this.props.permissionStatus.get("microphone"),tryingToReconnect:tryingToReconnect})]})]}),this.props.callWindowView===types.d.FULL_SCREEN){var style={};return this.props.showCallManager&&this.props.callManagerView!==types.b.FLOAT&&(style.width="calc(100% - ".concat(types.h.width,"px)")),Object(jsx_runtime.jsx)("div",{id:"calls-popup-container",className:classnames_default()(Popup_default.a.container_background,"calls-popup-container",Popup_default.a.containerFullscreen),style:style,onMouseEnter:this.onMouseEnter,onMouseOver:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:!updateCallModal&&Center})}if(props.callWindowView===types.d.FLOAT)return Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[Object(jsx_runtime.jsx)("span",{className:classnames_default()(Popup_default.a.resizePreview),ref:function ref(_ref8){return _this5.resizePreview=_ref8}}),Object(jsx_runtime.jsx)(Popup_DraggableLoadable,{fallback:Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{}),children:function children(_ref9){var Draggable=_ref9.default;return Object(jsx_runtime.jsx)(Draggable,{handle:".calls-popup-container",cancel:".react-resizable-handle",position:{x:_this5.state.position.x,y:_this5.state.position.y},onStart:_this5.onStart,onStop:_this5.onStop,children:Object(jsx_runtime.jsx)("div",{id:"calls-popup-container",className:classnames_default()(Popup_default.a.container_background,"calls-popup-container"),onMouseEnter:_this5.onMouseEnter,onMouseOver:_this5.onMouseEnter,onMouseLeave:_this5.onMouseLeave,children:!updateCallModal&&Center})})}})]});if(isColumnView)return Center}return Center}}]),Popup}(react_default.a.Component);Popup_defineProperty(Popup_Popup_Popup,"propTypes",{beforeCall:prop_types_default.a.bool,containerWidth:prop_types_default.a.number,minHeight:prop_types_default.a.number,maxHeight:prop_types_default.a.number,minWidth:prop_types_default.a.number,maxWidth:prop_types_default.a.number,showBlocks:prop_types_default.a.arrayOf(prop_types_default.a.string),selectedCallProvider:prop_types_default.a.string,members:prop_types_default.a.object,allUserDevices:prop_types_default.a.any,workspace:prop_types_default.a.object,unreads:prop_types_default.a.object,callWindowView:prop_types_default.a.string,callManagerView:prop_types_default.a.string,followSessions:prop_types_default.a.object,outerSize:prop_types_default.a.any,activeAreas:prop_types_default.a.any,followStore:prop_types_default.a.any,mapFollowState:prop_types_default.a.any,autoSelect:prop_types_default.a.any,autoSelectedStream:prop_types_default.a.any,myParticipantId:prop_types_default.a.any,selectedStream:prop_types_default.a.any,mainVideoList:prop_types_default.a.any,otherVideoList:prop_types_default.a.any,selfParticipant:prop_types_default.a.any,showMyself:prop_types_default.a.any,docalled:prop_types_default.a.any,isPopout:prop_types_default.a.any,activeWorkspaceUuid:prop_types_default.a.any,showChat:prop_types_default.a.any,popupView:prop_types_default.a.any,conference:prop_types_default.a.any,callParticipants:prop_types_default.a.any,rightAreaVisible:prop_types_default.a.any,currentUser:prop_types_default.a.any,allowIncomingVideo:prop_types_default.a.any,guestMagicLink:prop_types_default.a.any,userSettings:prop_types_default.a.any,toggleAutoSelect:prop_types_default.a.any,clearSelectedStream:prop_types_default.a.any,toggleFavourite:prop_types_default.a.any,toggleMuted:prop_types_default.a.any,toggleMicrophone:prop_types_default.a.any,toggleCamera:prop_types_default.a.any,toggleSound:prop_types_default.a.any,toggleOtherChats:prop_types_default.a.any,toggleSelected:prop_types_default.a.any,toggleScreenShare:prop_types_default.a.any,showScreenShareMenu:prop_types_default.a.any,showStreamSettingsMenu:prop_types_default.a.any,toggleFitAllFrames:prop_types_default.a.any,accessType:prop_types_default.a.any,fitfill:prop_types_default.a.any,muted:prop_types_default.a.any,smartShare:prop_types_default.a.any,showCallManager:prop_types_default.a.any,requestedStream:prop_types_default.a.any,showDirectChat:prop_types_default.a.func,setDirectChatActiveRoom:prop_types_default.a.func,microphone:prop_types_default.a.bool,sound:prop_types_default.a.bool,camera:prop_types_default.a.bool,showPresentationReturnButton:prop_types_default.a.bool,startTimestamp:prop_types_default.a.any,canPinCallWindowToRightOrLeftColumn:prop_types_default.a.bool,canPin:prop_types_default.a.bool,changeAudioOutputDevice:prop_types_default.a.func,permissionStatus:prop_types_default.a.object,view:prop_types_default.a.string,showConferenceMenu:prop_types_default.a.func,showAudioInputDevices:prop_types_default.a.func,showVideoInputDevices:prop_types_default.a.func,showAudioOutputDevices:prop_types_default.a.func,triggerShare:prop_types_default.a.func,onlyOneInConference:prop_types_default.a.bool,localConnectionStropheWebsocketStatus:prop_types_default.a.string,localParticipantConnectionState:prop_types_default.a.string,localParticipantRoomConnectionState:prop_types_default.a.string}),Popup_defineProperty(Popup_Popup_Popup,"contextTypes",{beansContext:prop_types_default.a.object}),Popup_defineProperty(Popup_Popup_Popup,"defaultProps",{outerSize:null,minHeight:types.g.POPOUT_MIN_HEIGHT,maxHeight:1/0,minWidth:types.g.POPOUT_MIN_WIDTH,maxWidth:1/0,showBlocks:[Popup_const.a.BEFORE,Popup_const.a.AFTER]}),Popup_Popup_Popup.__docgenInfo={description:"",methods:[{name:"handlePinchStart",docblock:null,modifiers:[],params:[],returns:null},{name:"handleLoseConnection",docblock:null,modifiers:[],params:[{name:"prevIsJitsiDisconnected",type:null}],returns:null},{name:"isMobileView",docblock:null,modifiers:[],params:[],returns:null},{name:"getPopupHeightConsideringControls",docblock:null,modifiers:[],params:[{name:"height",type:null},{name:"action",type:null}],returns:null},{name:"togglePopout",docblock:null,modifiers:[],params:[],returns:null},{name:"showSendToDeviceMenu",docblock:null,modifiers:[],params:[{name:"iconElem",type:null}],returns:null},{name:"handleOutsidePopupClickSubscription",docblock:null,modifiers:[],params:[{name:"action",type:null}],returns:null},{name:"handleOutsidePopupClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleMobileControlsVisibility",docblock:null,modifiers:[],params:[{name:"isVisible",type:null}],returns:null},{name:"setNewSize",docblock:null,modifiers:["async"],params:[{name:"{x, y, height, width}",type:null}],returns:null},{name:"checkOverScreen",docblock:null,modifiers:[],params:[{name:"{x, y, height, width, screenLimit = 1}",type:null}],returns:null},{name:"onWindowResize",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseLeave",docblock:null,modifiers:[],params:[],returns:null},{name:"isDisabledDragElement",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onResizeStart",docblock:null,modifiers:["async"],params:[{name:"e",type:null}],returns:null},{name:"onResize",docblock:null,modifiers:["async"],params:[{name:"e",type:null},{name:"direction",type:null},{name:"refToElement",type:null},{name:"delta",type:null}],returns:null},{name:"onResizeEnd",docblock:null,modifiers:["async"],params:[{name:"e",type:null},{name:"direction",type:null}],returns:null},{name:"onStart",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onStop",docblock:null,modifiers:[],params:[{name:"event",type:null},{name:"data",type:null}],returns:null},{name:"expand",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null},{name:"findLayout",docblock:null,modifiers:[],params:[{name:"{height = this.state.size.height, width = this.state.size.width}",type:null}],returns:null},{name:"canManageMembersInWorkspace",docblock:null,modifiers:[],params:[],returns:null},{name:"selectWorkspace",docblock:null,modifiers:[],params:[],returns:null},{name:"onStartSmartShare",docblock:null,modifiers:[],params:[],returns:null},{name:"finishSmartShare",docblock:null,modifiers:[],params:[],returns:null},{name:"canCloseConference",docblock:null,modifiers:["get"],params:[],returns:null},{name:"onLeaveConference",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"onTitleClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onReturnPresentation",docblock:null,modifiers:[],params:[],returns:null},{name:"getCallWindowSize",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleCallManager",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Popup",props:{outerSize:{defaultValue:{value:"null",computed:!1},type:{name:"any"},required:!1,description:""},minHeight:{defaultValue:{value:"DefaultPopupSize.POPOUT_MIN_HEIGHT",computed:!0},type:{name:"number"},required:!1,description:""},maxHeight:{defaultValue:{value:"Infinity",computed:!0},type:{name:"number"},required:!1,description:""},minWidth:{defaultValue:{value:"DefaultPopupSize.POPOUT_MIN_WIDTH",computed:!0},type:{name:"number"},required:!1,description:""},maxWidth:{defaultValue:{value:"Infinity",computed:!0},type:{name:"number"},required:!1,description:""},showBlocks:{defaultValue:{value:"[StateBlock.BEFORE, StateBlock.AFTER]",computed:!1},type:{name:"arrayOf",value:{name:"string"}},required:!1,description:""},beforeCall:{type:{name:"bool"},required:!1,description:""},containerWidth:{type:{name:"number"},required:!1,description:""},selectedCallProvider:{type:{name:"string"},required:!1,description:""},members:{type:{name:"object"},required:!1,description:""},allUserDevices:{type:{name:"any"},required:!1,description:""},workspace:{type:{name:"object"},required:!1,description:""},unreads:{type:{name:"object"},required:!1,description:""},callWindowView:{type:{name:"string"},required:!1,description:""},callManagerView:{type:{name:"string"},required:!1,description:""},followSessions:{type:{name:"object"},required:!1,description:""},activeAreas:{type:{name:"any"},required:!1,description:""},followStore:{type:{name:"any"},required:!1,description:""},mapFollowState:{type:{name:"any"},required:!1,description:""},autoSelect:{type:{name:"any"},required:!1,description:""},autoSelectedStream:{type:{name:"any"},required:!1,description:""},myParticipantId:{type:{name:"any"},required:!1,description:""},selectedStream:{type:{name:"any"},required:!1,description:""},mainVideoList:{type:{name:"any"},required:!1,description:""},otherVideoList:{type:{name:"any"},required:!1,description:""},selfParticipant:{type:{name:"any"},required:!1,description:""},showMyself:{type:{name:"any"},required:!1,description:""},docalled:{type:{name:"any"},required:!1,description:""},isPopout:{type:{name:"any"},required:!1,description:""},activeWorkspaceUuid:{type:{name:"any"},required:!1,description:""},showChat:{type:{name:"any"},required:!1,description:""},popupView:{type:{name:"any"},required:!1,description:""},conference:{type:{name:"any"},required:!1,description:""},callParticipants:{type:{name:"any"},required:!1,description:""},rightAreaVisible:{type:{name:"any"},required:!1,description:""},currentUser:{type:{name:"any"},required:!1,description:""},allowIncomingVideo:{type:{name:"any"},required:!1,description:""},guestMagicLink:{type:{name:"any"},required:!1,description:""},userSettings:{type:{name:"any"},required:!1,description:""},toggleAutoSelect:{type:{name:"any"},required:!1,description:""},clearSelectedStream:{type:{name:"any"},required:!1,description:""},toggleFavourite:{type:{name:"any"},required:!1,description:""},toggleMuted:{type:{name:"any"},required:!1,description:""},toggleMicrophone:{type:{name:"any"},required:!1,description:""},toggleCamera:{type:{name:"any"},required:!1,description:""},toggleSound:{type:{name:"any"},required:!1,description:""},toggleOtherChats:{type:{name:"any"},required:!1,description:""},toggleSelected:{type:{name:"any"},required:!1,description:""},toggleScreenShare:{type:{name:"any"},required:!1,description:""},showScreenShareMenu:{type:{name:"any"},required:!1,description:""},showStreamSettingsMenu:{type:{name:"any"},required:!1,description:""},toggleFitAllFrames:{type:{name:"any"},required:!1,description:""},accessType:{type:{name:"any"},required:!1,description:""},fitfill:{type:{name:"any"},required:!1,description:""},muted:{type:{name:"any"},required:!1,description:""},smartShare:{type:{name:"any"},required:!1,description:""},showCallManager:{type:{name:"any"},required:!1,description:""},requestedStream:{type:{name:"any"},required:!1,description:""},showDirectChat:{type:{name:"func"},required:!1,description:""},setDirectChatActiveRoom:{type:{name:"func"},required:!1,description:""},microphone:{type:{name:"bool"},required:!1,description:""},sound:{type:{name:"bool"},required:!1,description:""},camera:{type:{name:"bool"},required:!1,description:""},showPresentationReturnButton:{type:{name:"bool"},required:!1,description:""},startTimestamp:{type:{name:"any"},required:!1,description:""},canPinCallWindowToRightOrLeftColumn:{type:{name:"bool"},required:!1,description:""},canPin:{type:{name:"bool"},required:!1,description:""},changeAudioOutputDevice:{type:{name:"func"},required:!1,description:""},permissionStatus:{type:{name:"object"},required:!1,description:""},view:{type:{name:"string"},required:!1,description:""},showConferenceMenu:{type:{name:"func"},required:!1,description:""},showAudioInputDevices:{type:{name:"func"},required:!1,description:""},showVideoInputDevices:{type:{name:"func"},required:!1,description:""},showAudioOutputDevices:{type:{name:"func"},required:!1,description:""},triggerShare:{type:{name:"func"},required:!1,description:""},onlyOneInConference:{type:{name:"bool"},required:!1,description:""},localConnectionStropheWebsocketStatus:{type:{name:"string"},required:!1,description:""},localParticipantConnectionState:{type:{name:"string"},required:!1,description:""},localParticipantRoomConnectionState:{type:{name:"string"},required:!1,description:""}},context:{beansContext:{type:{name:"object"},required:!1}}};__webpack_exports__.default=withStyles_default()(Popup_default.a)(Popup_Popup_Popup)}}]);
//# sourceMappingURL=199.54c53a60.iframe.bundle.js.map